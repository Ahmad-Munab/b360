"use strict";(()=>{var Ju=Object.create;var Os=Object.defineProperty;var Bu=Object.getOwnPropertyDescriptor;var Gu=Object.getOwnPropertyNames;var Yu=Object.getPrototypeOf,Wu=Object.prototype.hasOwnProperty;var jt=(T,a)=>()=>(a||T((a={exports:{}}).exports,a),a.exports);var zu=(T,a,c,y)=>{if(a&&typeof a=="object"||typeof a=="function")for(let k of Gu(a))!Wu.call(T,k)&&k!==c&&Os(T,k,{get:()=>a[k],enumerable:!(y=Bu(a,k))||y.enumerable});return T};var Hu=(T,a,c)=>(c=T!=null?Ju(Yu(T)):{},zu(a||!T||!T.__esModule?Os(c,"default",{value:T,enumerable:!0}):c,T));var As=jt((Ht,Gn)=>{(function(T,a){typeof Ht=="object"&&typeof Gn=="object"?Gn.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Ht=="object"?Ht.Daily=a():T.Daily=a()})(Ht,function(){return function(){var T={7:function(y){"use strict";var k,I=typeof Reflect=="object"?Reflect:null,q=I&&typeof I.apply=="function"?I.apply:function(E,R,J){return Function.prototype.apply.call(E,R,J)};k=I&&typeof I.ownKeys=="function"?I.ownKeys:Object.getOwnPropertySymbols?function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:function(E){return Object.getOwnPropertyNames(E)};var N=Number.isNaN||function(E){return E!=E};function S(){S.init.call(this)}y.exports=S,y.exports.once=function(E,R){return new Promise(function(J,te){function ie(re){E.removeListener(R,oe),te(re)}function oe(){typeof E.removeListener=="function"&&E.removeListener("error",ie),J([].slice.call(arguments))}x(E,R,oe,{once:!0}),R!=="error"&&function(re,pe){typeof re.on=="function"&&x(re,"error",pe,{once:!0})}(E,ie)})},S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var A=10;function W(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}function f(E){return E._maxListeners===void 0?S.defaultMaxListeners:E._maxListeners}function g(E,R,J,te){var ie,oe,re,pe;if(W(J),(oe=E._events)===void 0?(oe=E._events=Object.create(null),E._eventsCount=0):(oe.newListener!==void 0&&(E.emit("newListener",R,J.listener?J.listener:J),oe=E._events),re=oe[R]),re===void 0)re=oe[R]=J,++E._eventsCount;else if(typeof re=="function"?re=oe[R]=te?[J,re]:[re,J]:te?re.unshift(J):re.push(J),(ie=f(E))>0&&re.length>ie&&!re.warned){re.warned=!0;var ye=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");ye.name="MaxListenersExceededWarning",ye.emitter=E,ye.type=R,ye.count=re.length,pe=ye,console&&console.warn&&console.warn(pe)}return E}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Z(E,R,J){var te={fired:!1,wrapFn:void 0,target:E,type:R,listener:J},ie=v.bind(te);return ie.listener=J,te.wrapFn=ie,ie}function B(E,R,J){var te=E._events;if(te===void 0)return[];var ie=te[R];return ie===void 0?[]:typeof ie=="function"?J?[ie.listener||ie]:[ie]:J?function(oe){for(var re=new Array(oe.length),pe=0;pe<re.length;++pe)re[pe]=oe[pe].listener||oe[pe];return re}(ie):H(ie,ie.length)}function L(E){var R=this._events;if(R!==void 0){var J=R[E];if(typeof J=="function")return 1;if(J!==void 0)return J.length}return 0}function H(E,R){for(var J=new Array(R),te=0;te<R;++te)J[te]=E[te];return J}function x(E,R,J,te){if(typeof E.on=="function")te.once?E.once(R,J):E.on(R,J);else{if(typeof E.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E);E.addEventListener(R,function ie(oe){te.once&&E.removeEventListener(R,ie),J(oe)})}}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(E){if(typeof E!="number"||E<0||N(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");A=E}}),S.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||N(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this},S.prototype.getMaxListeners=function(){return f(this)},S.prototype.emit=function(E){for(var R=[],J=1;J<arguments.length;J++)R.push(arguments[J]);var te=E==="error",ie=this._events;if(ie!==void 0)te=te&&ie.error===void 0;else if(!te)return!1;if(te){var oe;if(R.length>0&&(oe=R[0]),oe instanceof Error)throw oe;var re=new Error("Unhandled error."+(oe?" ("+oe.message+")":""));throw re.context=oe,re}var pe=ie[E];if(pe===void 0)return!1;if(typeof pe=="function")q(pe,this,R);else{var ye=pe.length,Ve=H(pe,ye);for(J=0;J<ye;++J)q(Ve[J],this,R)}return!0},S.prototype.addListener=function(E,R){return g(this,E,R,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(E,R){return g(this,E,R,!0)},S.prototype.once=function(E,R){return W(R),this.on(E,Z(this,E,R)),this},S.prototype.prependOnceListener=function(E,R){return W(R),this.prependListener(E,Z(this,E,R)),this},S.prototype.removeListener=function(E,R){var J,te,ie,oe,re;if(W(R),(te=this._events)===void 0)return this;if((J=te[E])===void 0)return this;if(J===R||J.listener===R)--this._eventsCount==0?this._events=Object.create(null):(delete te[E],te.removeListener&&this.emit("removeListener",E,J.listener||R));else if(typeof J!="function"){for(ie=-1,oe=J.length-1;oe>=0;oe--)if(J[oe]===R||J[oe].listener===R){re=J[oe].listener,ie=oe;break}if(ie<0)return this;ie===0?J.shift():function(pe,ye){for(;ye+1<pe.length;ye++)pe[ye]=pe[ye+1];pe.pop()}(J,ie),J.length===1&&(te[E]=J[0]),te.removeListener!==void 0&&this.emit("removeListener",E,re||R)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(E){var R,J,te;if((J=this._events)===void 0)return this;if(J.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):J[E]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete J[E]),this;if(arguments.length===0){var ie,oe=Object.keys(J);for(te=0;te<oe.length;++te)(ie=oe[te])!=="removeListener"&&this.removeAllListeners(ie);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(R=J[E])=="function")this.removeListener(E,R);else if(R!==void 0)for(te=R.length-1;te>=0;te--)this.removeListener(E,R[te]);return this},S.prototype.listeners=function(E){return B(this,E,!0)},S.prototype.rawListeners=function(E){return B(this,E,!1)},S.listenerCount=function(E,R){return typeof E.listenerCount=="function"?E.listenerCount(R):L.call(E,R)},S.prototype.listenerCount=L,S.prototype.eventNames=function(){return this._eventsCount>0?k(this._events):[]}},781:function(y,k,I){var q=I(948);y.exports=q.default},880:function(y){y.exports=function(k){var I={};function q(N){if(I[N])return I[N].exports;var S=I[N]={i:N,l:!1,exports:{}};return k[N].call(S.exports,S,S.exports,q),S.l=!0,S.exports}return q.m=k,q.c=I,q.d=function(N,S,A){q.o(N,S)||Object.defineProperty(N,S,{enumerable:!0,get:A})},q.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},q.t=function(N,S){if(1&S&&(N=q(N)),8&S||4&S&&typeof N=="object"&&N&&N.__esModule)return N;var A=Object.create(null);if(q.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:N}),2&S&&typeof N!="string")for(var W in N)q.d(A,W,function(f){return N[f]}.bind(null,W));return A},q.n=function(N){var S=N&&N.__esModule?function(){return N.default}:function(){return N};return q.d(S,"a",S),S},q.o=function(N,S){return Object.prototype.hasOwnProperty.call(N,S)},q.p="",q(q.s=90)}({17:function(k,I,q){"use strict";I.__esModule=!0,I.default=void 0;var N=q(18),S=function(){function A(){}return A.getFirstMatch=function(W,f){var g=f.match(W);return g&&g.length>0&&g[1]||""},A.getSecondMatch=function(W,f){var g=f.match(W);return g&&g.length>1&&g[2]||""},A.matchAndReturnConst=function(W,f,g){if(W.test(f))return g},A.getWindowsVersionName=function(W){switch(W){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},A.getMacOSVersionName=function(W){var f=W.split(".").splice(0,2).map(function(g){return parseInt(g,10)||0});if(f.push(0),f[0]===10)switch(f[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},A.getAndroidVersionName=function(W){var f=W.split(".").splice(0,2).map(function(g){return parseInt(g,10)||0});if(f.push(0),!(f[0]===1&&f[1]<5))return f[0]===1&&f[1]<6?"Cupcake":f[0]===1&&f[1]>=6?"Donut":f[0]===2&&f[1]<2?"Eclair":f[0]===2&&f[1]===2?"Froyo":f[0]===2&&f[1]>2?"Gingerbread":f[0]===3?"Honeycomb":f[0]===4&&f[1]<1?"Ice Cream Sandwich":f[0]===4&&f[1]<4?"Jelly Bean":f[0]===4&&f[1]>=4?"KitKat":f[0]===5?"Lollipop":f[0]===6?"Marshmallow":f[0]===7?"Nougat":f[0]===8?"Oreo":f[0]===9?"Pie":void 0},A.getVersionPrecision=function(W){return W.split(".").length},A.compareVersions=function(W,f,g){g===void 0&&(g=!1);var v=A.getVersionPrecision(W),Z=A.getVersionPrecision(f),B=Math.max(v,Z),L=0,H=A.map([W,f],function(x){var E=B-A.getVersionPrecision(x),R=x+new Array(E+1).join(".0");return A.map(R.split("."),function(J){return new Array(20-J.length).join("0")+J}).reverse()});for(g&&(L=B-Math.min(v,Z)),B-=1;B>=L;){if(H[0][B]>H[1][B])return 1;if(H[0][B]===H[1][B]){if(B===L)return 0;B-=1}else if(H[0][B]<H[1][B])return-1}},A.map=function(W,f){var g,v=[];if(Array.prototype.map)return Array.prototype.map.call(W,f);for(g=0;g<W.length;g+=1)v.push(f(W[g]));return v},A.find=function(W,f){var g,v;if(Array.prototype.find)return Array.prototype.find.call(W,f);for(g=0,v=W.length;g<v;g+=1){var Z=W[g];if(f(Z,g))return Z}},A.assign=function(W){for(var f,g,v=W,Z=arguments.length,B=new Array(Z>1?Z-1:0),L=1;L<Z;L++)B[L-1]=arguments[L];if(Object.assign)return Object.assign.apply(Object,[W].concat(B));var H=function(){var x=B[f];typeof x=="object"&&x!==null&&Object.keys(x).forEach(function(E){v[E]=x[E]})};for(f=0,g=B.length;f<g;f+=1)H();return W},A.getBrowserAlias=function(W){return N.BROWSER_ALIASES_MAP[W]},A.getBrowserTypeByAlias=function(W){return N.BROWSER_MAP[W]||""},A}();I.default=S,k.exports=I.default},18:function(k,I,q){"use strict";I.__esModule=!0,I.ENGINE_MAP=I.OS_MAP=I.PLATFORMS_MAP=I.BROWSER_MAP=I.BROWSER_ALIASES_MAP=void 0,I.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},I.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},I.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},I.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},I.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(k,I,q){"use strict";I.__esModule=!0,I.default=void 0;var N,S=(N=q(91))&&N.__esModule?N:{default:N},A=q(18);function W(g,v){for(var Z=0;Z<v.length;Z++){var B=v[Z];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(g,B.key,B)}}var f=function(){function g(){}var v,Z;return g.getParser=function(B,L){if(L===void 0&&(L=!1),typeof B!="string")throw new Error("UserAgent should be a string");return new S.default(B,L)},g.parse=function(B){return new S.default(B).getResult()},v=g,Z=[{key:"BROWSER_MAP",get:function(){return A.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return A.ENGINE_MAP}},{key:"OS_MAP",get:function(){return A.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return A.PLATFORMS_MAP}}],Z&&W(v,Z),g}();I.default=f,k.exports=I.default},91:function(k,I,q){"use strict";I.__esModule=!0,I.default=void 0;var N=g(q(92)),S=g(q(93)),A=g(q(94)),W=g(q(95)),f=g(q(17));function g(Z){return Z&&Z.__esModule?Z:{default:Z}}var v=function(){function Z(L,H){if(H===void 0&&(H=!1),L==null||L==="")throw new Error("UserAgent parameter can't be empty");this._ua=L,this.parsedResult={},H!==!0&&this.parse()}var B=Z.prototype;return B.getUA=function(){return this._ua},B.test=function(L){return L.test(this._ua)},B.parseBrowser=function(){var L=this;this.parsedResult.browser={};var H=f.default.find(N.default,function(x){if(typeof x.test=="function")return x.test(L);if(x.test instanceof Array)return x.test.some(function(E){return L.test(E)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.browser=H.describe(this.getUA())),this.parsedResult.browser},B.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},B.getBrowserName=function(L){return L?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},B.getBrowserVersion=function(){return this.getBrowser().version},B.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},B.parseOS=function(){var L=this;this.parsedResult.os={};var H=f.default.find(S.default,function(x){if(typeof x.test=="function")return x.test(L);if(x.test instanceof Array)return x.test.some(function(E){return L.test(E)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.os=H.describe(this.getUA())),this.parsedResult.os},B.getOSName=function(L){var H=this.getOS().name;return L?String(H).toLowerCase()||"":H||""},B.getOSVersion=function(){return this.getOS().version},B.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},B.getPlatformType=function(L){L===void 0&&(L=!1);var H=this.getPlatform().type;return L?String(H).toLowerCase()||"":H||""},B.parsePlatform=function(){var L=this;this.parsedResult.platform={};var H=f.default.find(A.default,function(x){if(typeof x.test=="function")return x.test(L);if(x.test instanceof Array)return x.test.some(function(E){return L.test(E)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.platform=H.describe(this.getUA())),this.parsedResult.platform},B.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},B.getEngineName=function(L){return L?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},B.parseEngine=function(){var L=this;this.parsedResult.engine={};var H=f.default.find(W.default,function(x){if(typeof x.test=="function")return x.test(L);if(x.test instanceof Array)return x.test.some(function(E){return L.test(E)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.engine=H.describe(this.getUA())),this.parsedResult.engine},B.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},B.getResult=function(){return f.default.assign({},this.parsedResult)},B.satisfies=function(L){var H=this,x={},E=0,R={},J=0;if(Object.keys(L).forEach(function(Se){var nt=L[Se];typeof nt=="string"?(R[Se]=nt,J+=1):typeof nt=="object"&&(x[Se]=nt,E+=1)}),E>0){var te=Object.keys(x),ie=f.default.find(te,function(Se){return H.isOS(Se)});if(ie){var oe=this.satisfies(x[ie]);if(oe!==void 0)return oe}var re=f.default.find(te,function(Se){return H.isPlatform(Se)});if(re){var pe=this.satisfies(x[re]);if(pe!==void 0)return pe}}if(J>0){var ye=Object.keys(R),Ve=f.default.find(ye,function(Se){return H.isBrowser(Se,!0)});if(Ve!==void 0)return this.compareVersion(R[Ve])}},B.isBrowser=function(L,H){H===void 0&&(H=!1);var x=this.getBrowserName().toLowerCase(),E=L.toLowerCase(),R=f.default.getBrowserTypeByAlias(E);return H&&R&&(E=R.toLowerCase()),E===x},B.compareVersion=function(L){var H=[0],x=L,E=!1,R=this.getBrowserVersion();if(typeof R=="string")return L[0]===">"||L[0]==="<"?(x=L.substr(1),L[1]==="="?(E=!0,x=L.substr(2)):H=[],L[0]===">"?H.push(1):H.push(-1)):L[0]==="="?x=L.substr(1):L[0]==="~"&&(E=!0,x=L.substr(1)),H.indexOf(f.default.compareVersions(R,x,E))>-1},B.isOS=function(L){return this.getOSName(!0)===String(L).toLowerCase()},B.isPlatform=function(L){return this.getPlatformType(!0)===String(L).toLowerCase()},B.isEngine=function(L){return this.getEngineName(!0)===String(L).toLowerCase()},B.is=function(L,H){return H===void 0&&(H=!1),this.isBrowser(L,H)||this.isOS(L)||this.isPlatform(L)},B.some=function(L){var H=this;return L===void 0&&(L=[]),L.some(function(x){return H.is(x)})},Z}();I.default=v,k.exports=I.default},92:function(k,I,q){"use strict";I.__esModule=!0,I.default=void 0;var N,S=(N=q(17))&&N.__esModule?N:{default:N},A=/version\/(\d+(\.?_?\d+)+)/i,W=[{test:[/googlebot/i],describe:function(f){var g={name:"Googlebot"},v=S.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/opera/i],describe:function(f){var g={name:"Opera"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/opr\/|opios/i],describe:function(f){var g={name:"Opera"},v=S.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/SamsungBrowser/i],describe:function(f){var g={name:"Samsung Internet for Android"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/Whale/i],describe:function(f){var g={name:"NAVER Whale Browser"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/MZBrowser/i],describe:function(f){var g={name:"MZ Browser"},v=S.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/focus/i],describe:function(f){var g={name:"Focus"},v=S.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/swing/i],describe:function(f){var g={name:"Swing"},v=S.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/coast/i],describe:function(f){var g={name:"Opera Coast"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(f){var g={name:"Opera Touch"},v=S.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/yabrowser/i],describe:function(f){var g={name:"Yandex Browser"},v=S.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/ucbrowser/i],describe:function(f){var g={name:"UC Browser"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/Maxthon|mxios/i],describe:function(f){var g={name:"Maxthon"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/epiphany/i],describe:function(f){var g={name:"Epiphany"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/puffin/i],describe:function(f){var g={name:"Puffin"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/sleipnir/i],describe:function(f){var g={name:"Sleipnir"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/k-meleon/i],describe:function(f){var g={name:"K-Meleon"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/micromessenger/i],describe:function(f){var g={name:"WeChat"},v=S.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/qqbrowser/i],describe:function(f){var g={name:/qqbrowserlite/i.test(f)?"QQ Browser Lite":"QQ Browser"},v=S.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/msie|trident/i],describe:function(f){var g={name:"Internet Explorer"},v=S.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/\sedg\//i],describe:function(f){var g={name:"Microsoft Edge"},v=S.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/edg([ea]|ios)/i],describe:function(f){var g={name:"Microsoft Edge"},v=S.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/vivaldi/i],describe:function(f){var g={name:"Vivaldi"},v=S.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/seamonkey/i],describe:function(f){var g={name:"SeaMonkey"},v=S.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/sailfish/i],describe:function(f){var g={name:"Sailfish"},v=S.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,f);return v&&(g.version=v),g}},{test:[/silk/i],describe:function(f){var g={name:"Amazon Silk"},v=S.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/phantom/i],describe:function(f){var g={name:"PhantomJS"},v=S.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/slimerjs/i],describe:function(f){var g={name:"SlimerJS"},v=S.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(f){var g={name:"BlackBerry"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/(web|hpw)[o0]s/i],describe:function(f){var g={name:"WebOS Browser"},v=S.default.getFirstMatch(A,f)||S.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/bada/i],describe:function(f){var g={name:"Bada"},v=S.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/tizen/i],describe:function(f){var g={name:"Tizen"},v=S.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/qupzilla/i],describe:function(f){var g={name:"QupZilla"},v=S.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/firefox|iceweasel|fxios/i],describe:function(f){var g={name:"Firefox"},v=S.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/electron/i],describe:function(f){var g={name:"Electron"},v=S.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/MiuiBrowser/i],describe:function(f){var g={name:"Miui"},v=S.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/chromium/i],describe:function(f){var g={name:"Chromium"},v=S.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,f)||S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/chrome|crios|crmo/i],describe:function(f){var g={name:"Chrome"},v=S.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/GSA/i],describe:function(f){var g={name:"Google Search"},v=S.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:function(f){var g=!f.test(/like android/i),v=f.test(/android/i);return g&&v},describe:function(f){var g={name:"Android Browser"},v=S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/playstation 4/i],describe:function(f){var g={name:"PlayStation 4"},v=S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/safari|applewebkit/i],describe:function(f){var g={name:"Safari"},v=S.default.getFirstMatch(A,f);return v&&(g.version=v),g}},{test:[/.*/i],describe:function(f){var g=f.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:S.default.getFirstMatch(g,f),version:S.default.getSecondMatch(g,f)}}}];I.default=W,k.exports=I.default},93:function(k,I,q){"use strict";I.__esModule=!0,I.default=void 0;var N,S=(N=q(17))&&N.__esModule?N:{default:N},A=q(18),W=[{test:[/Roku\/DVP/],describe:function(f){var g=S.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,f);return{name:A.OS_MAP.Roku,version:g}}},{test:[/windows phone/i],describe:function(f){var g=S.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,f);return{name:A.OS_MAP.WindowsPhone,version:g}}},{test:[/windows /i],describe:function(f){var g=S.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,f),v=S.default.getWindowsVersionName(g);return{name:A.OS_MAP.Windows,version:g,versionName:v}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(f){var g={name:A.OS_MAP.iOS},v=S.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,f);return v&&(g.version=v),g}},{test:[/macintosh/i],describe:function(f){var g=S.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,f).replace(/[_\s]/g,"."),v=S.default.getMacOSVersionName(g),Z={name:A.OS_MAP.MacOS,version:g};return v&&(Z.versionName=v),Z}},{test:[/(ipod|iphone|ipad)/i],describe:function(f){var g=S.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,f).replace(/[_\s]/g,".");return{name:A.OS_MAP.iOS,version:g}}},{test:function(f){var g=!f.test(/like android/i),v=f.test(/android/i);return g&&v},describe:function(f){var g=S.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,f),v=S.default.getAndroidVersionName(g),Z={name:A.OS_MAP.Android,version:g};return v&&(Z.versionName=v),Z}},{test:[/(web|hpw)[o0]s/i],describe:function(f){var g=S.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,f),v={name:A.OS_MAP.WebOS};return g&&g.length&&(v.version=g),v}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(f){var g=S.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,f)||S.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,f)||S.default.getFirstMatch(/\bbb(\d+)/i,f);return{name:A.OS_MAP.BlackBerry,version:g}}},{test:[/bada/i],describe:function(f){var g=S.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,f);return{name:A.OS_MAP.Bada,version:g}}},{test:[/tizen/i],describe:function(f){var g=S.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,f);return{name:A.OS_MAP.Tizen,version:g}}},{test:[/linux/i],describe:function(){return{name:A.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:A.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(f){var g=S.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,f);return{name:A.OS_MAP.PlayStation4,version:g}}}];I.default=W,k.exports=I.default},94:function(k,I,q){"use strict";I.__esModule=!0,I.default=void 0;var N,S=(N=q(17))&&N.__esModule?N:{default:N},A=q(18),W=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(f){var g=S.default.getFirstMatch(/(can-l01)/i,f)&&"Nova",v={type:A.PLATFORMS_MAP.mobile,vendor:"Huawei"};return g&&(v.model=g),v}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:A.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:A.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:A.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:A.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:A.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:A.PLATFORMS_MAP.tablet}}},{test:function(f){var g=f.test(/ipod|iphone/i),v=f.test(/like (ipod|iphone)/i);return g&&!v},describe:function(f){var g=S.default.getFirstMatch(/(ipod|iphone)/i,f);return{type:A.PLATFORMS_MAP.mobile,vendor:"Apple",model:g}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:A.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:A.PLATFORMS_MAP.mobile}}},{test:function(f){return f.getBrowserName(!0)==="blackberry"},describe:function(){return{type:A.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(f){return f.getBrowserName(!0)==="bada"},describe:function(){return{type:A.PLATFORMS_MAP.mobile}}},{test:function(f){return f.getBrowserName()==="windows phone"},describe:function(){return{type:A.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(f){var g=Number(String(f.getOSVersion()).split(".")[0]);return f.getOSName(!0)==="android"&&g>=3},describe:function(){return{type:A.PLATFORMS_MAP.tablet}}},{test:function(f){return f.getOSName(!0)==="android"},describe:function(){return{type:A.PLATFORMS_MAP.mobile}}},{test:function(f){return f.getOSName(!0)==="macos"},describe:function(){return{type:A.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(f){return f.getOSName(!0)==="windows"},describe:function(){return{type:A.PLATFORMS_MAP.desktop}}},{test:function(f){return f.getOSName(!0)==="linux"},describe:function(){return{type:A.PLATFORMS_MAP.desktop}}},{test:function(f){return f.getOSName(!0)==="playstation 4"},describe:function(){return{type:A.PLATFORMS_MAP.tv}}},{test:function(f){return f.getOSName(!0)==="roku"},describe:function(){return{type:A.PLATFORMS_MAP.tv}}}];I.default=W,k.exports=I.default},95:function(k,I,q){"use strict";I.__esModule=!0,I.default=void 0;var N,S=(N=q(17))&&N.__esModule?N:{default:N},A=q(18),W=[{test:function(f){return f.getBrowserName(!0)==="microsoft edge"},describe:function(f){if(/\sedg\//i.test(f))return{name:A.ENGINE_MAP.Blink};var g=S.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,f);return{name:A.ENGINE_MAP.EdgeHTML,version:g}}},{test:[/trident/i],describe:function(f){var g={name:A.ENGINE_MAP.Trident},v=S.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:function(f){return f.test(/presto/i)},describe:function(f){var g={name:A.ENGINE_MAP.Presto},v=S.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:function(f){var g=f.test(/gecko/i),v=f.test(/like gecko/i);return g&&!v},describe:function(f){var g={name:A.ENGINE_MAP.Gecko},v=S.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:A.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(f){var g={name:A.ENGINE_MAP.WebKit},v=S.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,f);return v&&(g.version=v),g}}];I.default=W,k.exports=I.default}})},948:function(y,k,I){"use strict";function q(t,e){if(t==null)return{};var r,n,o=function(u,h){if(u==null)return{};var p={};for(var m in u)if({}.hasOwnProperty.call(u,m)){if(h.indexOf(m)!==-1)continue;p[m]=u[m]}return p}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(t)}function A(t){var e=function(r){if(S(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var o=n.call(r,"string");if(S(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return S(e)=="symbol"?e:e+""}function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function f(t,e,r){return e&&W(t.prototype,e),r&&W(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t,e){if(e&&(S(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(t)}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Z(t,e)}function B(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}function L(t,e,r){return(e=A(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H(t,e,r,n,o,s,u){try{var h=t[s](u),p=h.value}catch(m){return void r(m)}h.done?e(p):Promise.resolve(p).then(n,o)}function x(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var s=t.apply(e,r);function u(p){H(s,n,o,u,h,"next",p)}function h(p){H(s,n,o,u,h,"throw",p)}u(void 0)})}}function E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function R(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var s,u,h,p,m=[],w=!0,C=!1;try{if(h=(o=o.call(r)).next,n===0){if(Object(o)!==o)return;w=!1}else for(;!(w=(s=h.call(o)).done)&&(m.push(s.value),m.length!==n);w=!0);}catch(P){C=!0,u=P}finally{try{if(!w&&o.return!=null&&(p=o.return(),Object(p)!==p))return}finally{if(C)throw u}}return m}}(t,e)||function(r,n){if(r){if(typeof r=="string")return E(r,n);var o={}.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?E(r,n):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}I.r(k),I.d(k,{DAILY_ACCESS_LEVEL_FULL:function(){return po},DAILY_ACCESS_LEVEL_LOBBY:function(){return eu},DAILY_ACCESS_LEVEL_NONE:function(){return tu},DAILY_ACCESS_UNKNOWN:function(){return _r},DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:function(){return du},DAILY_CAMERA_ERROR_CAM_IN_USE:function(){return uu},DAILY_CAMERA_ERROR_CONSTRAINTS:function(){return mu},DAILY_CAMERA_ERROR_MIC_IN_USE:function(){return lu},DAILY_CAMERA_ERROR_NOT_FOUND:function(){return fu},DAILY_CAMERA_ERROR_PERMISSIONS:function(){return hu},DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:function(){return pu},DAILY_CAMERA_ERROR_UNKNOWN:function(){return gu},DAILY_EVENT_ACCESS_STATE_UPDATED:function(){return Do},DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:function(){return ta},DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:function(){return ra},DAILY_EVENT_APP_MSG:function(){return Wo},DAILY_EVENT_CAMERA_ERROR:function(){return ko},DAILY_EVENT_CPU_LOAD_CHANGE:function(){return oa},DAILY_EVENT_ERROR:function(){return En},DAILY_EVENT_EXIT_FULLSCREEN:function(){return $t},DAILY_EVENT_FACE_COUNTS_UPDATED:function(){return aa},DAILY_EVENT_FULLSCREEN:function(){return Ut},DAILY_EVENT_IFRAME_LAUNCH_CONFIG:function(){return _o},DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:function(){return yo},DAILY_EVENT_INPUT_SETTINGS_UPDATED:function(){return Sn},DAILY_EVENT_JOINED_MEETING:function(){return Co},DAILY_EVENT_JOINING_MEETING:function(){return To},DAILY_EVENT_LANG_UPDATED:function(){return da},DAILY_EVENT_LEFT_MEETING:function(){return Oo},DAILY_EVENT_LIVE_STREAMING_ERROR:function(){return la},DAILY_EVENT_LIVE_STREAMING_STARTED:function(){return sa},DAILY_EVENT_LIVE_STREAMING_STOPPED:function(){return ua},DAILY_EVENT_LIVE_STREAMING_UPDATED:function(){return ca},DAILY_EVENT_LOADED:function(){return yn},DAILY_EVENT_LOADING:function(){return So},DAILY_EVENT_LOAD_ATTEMPT_FAILED:function(){return wo},DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:function(){return ea},DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:function(){return Xo},DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:function(){return Zo},DAILY_EVENT_MEETING_SESSION_DATA_ERROR:function(){return vu},DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:function(){return Lo},DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:function(){return jo},DAILY_EVENT_NETWORK_CONNECTION:function(){return ia},DAILY_EVENT_NETWORK_QUALITY_CHANGE:function(){return na},DAILY_EVENT_NONFATAL_ERROR:function(){return wn},DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:function(){return Io},DAILY_EVENT_PARTICIPANT_JOINED:function(){return Ao},DAILY_EVENT_PARTICIPANT_LEFT:function(){return Po},DAILY_EVENT_PARTICIPANT_UPDATED:function(){return Mo},DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:function(){return ha},DAILY_EVENT_RECORDING_DATA:function(){return Yo},DAILY_EVENT_RECORDING_ERROR:function(){return Bo},DAILY_EVENT_RECORDING_STARTED:function(){return _n},DAILY_EVENT_RECORDING_STATS:function(){return Jo},DAILY_EVENT_RECORDING_STOPPED:function(){return bn},DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:function(){return Go},DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:function(){return Ho},DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:function(){return Ko},DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:function(){return Qo},DAILY_EVENT_STARTED_CAMERA:function(){return Eo},DAILY_EVENT_THEME_UPDATED:function(){return bo},DAILY_EVENT_TRACK_STARTED:function(){return Fo},DAILY_EVENT_TRACK_STOPPED:function(){return qo},DAILY_EVENT_TRANSCRIPTION_ERROR:function(){return $o},DAILY_EVENT_TRANSCRIPTION_MSG:function(){return zo},DAILY_EVENT_TRANSCRIPTION_STARTED:function(){return Vo},DAILY_EVENT_TRANSCRIPTION_STOPPED:function(){return Uo},DAILY_EVENT_WAITING_PARTICIPANT_ADDED:function(){return Ro},DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:function(){return xo},DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:function(){return No},DAILY_FATAL_ERROR_CONNECTION:function(){return vo},DAILY_FATAL_ERROR_EJECTED:function(){return ru},DAILY_FATAL_ERROR_EOL:function(){return go},DAILY_FATAL_ERROR_EXP_ROOM:function(){return ou},DAILY_FATAL_ERROR_EXP_TOKEN:function(){return au},DAILY_FATAL_ERROR_MEETING_FULL:function(){return su},DAILY_FATAL_ERROR_NBF_ROOM:function(){return nu},DAILY_FATAL_ERROR_NBF_TOKEN:function(){return iu},DAILY_FATAL_ERROR_NOT_ALLOWED:function(){return cu},DAILY_FATAL_ERROR_NO_ROOM:function(){return vn},DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:function(){return mo},DAILY_RECEIVE_SETTINGS_BASE_KEY:function(){return fo},DAILY_STATE_ERROR:function(){return Ye},DAILY_STATE_JOINED:function(){return Xe},DAILY_STATE_JOINING:function(){return yr},DAILY_STATE_LEFT:function(){return Ze},DAILY_STATE_NEW:function(){return gn},DAILY_TRACK_STATE_BLOCKED:function(){return Hc},DAILY_TRACK_STATE_INTERRUPTED:function(){return Zc},DAILY_TRACK_STATE_LOADING:function(){return Xc},DAILY_TRACK_STATE_OFF:function(){return Qc},DAILY_TRACK_STATE_PLAYABLE:function(){return ho},DAILY_TRACK_STATE_SENDABLE:function(){return Kc},default:function(){return Fu}});var J=I(7),te=I.n(J),ie=Object.prototype.hasOwnProperty;function oe(t,e,r){for(r of t.keys())if(re(r,e))return r}function re(t,e){var r,n,o;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&re(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if((o=n)&&typeof o=="object"&&!(o=oe(e,o))||!e.has(o))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if((o=n[0])&&typeof o=="object"&&!(o=oe(e,o))||!re(n[1],e.get(o)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){for(r in n=0,t)if(ie.call(t,r)&&++n&&!ie.call(e,r)||!(r in e)||!re(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!=t&&e!=e}var pe=I(880),ye=I.n(pe);function Ve(){return Date.now()+Math.random().toString()}function Se(){throw new Error("Method must be implemented in subclass")}function nt(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function Kt(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:nt("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),t)}function Xt(t){try{new URL(t)}catch{return!1}return!0}let fe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,it=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ot="8.55.0",le=globalThis;function Zt(t,e,r){let n=r||le,o=n.__SENTRY__=n.__SENTRY__||{},s=o[ot]=o[ot]||{};return s[t]||(s[t]=e())}let Lr=["debug","info","warn","error","log","assert","trace"],er={};function Nt(t){if(!("console"in le))return t();let e=le.console,r={},n=Object.keys(er);n.forEach(o=>{let s=er[o];r[o]=e[o],e[o]=s});try{return t()}finally{n.forEach(o=>{e[o]=r[o]})}}let ne=Zt("logger",function(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return it?Lr.forEach(r=>{e[r]=(...n)=>{t&&Nt(()=>{le.console[r](`Sentry Logger [${r}]:`,...n)})}}):Lr.forEach(r=>{e[r]=()=>{}}),e}),Xn=[];function Zn(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function ei(t,e,r){if(r[e.name])fe&&ne.log(`Integration skipped because it was already installed: ${e.name}`);else{if(r[e.name]=e,Xn.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Xn.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,s)=>n(o,s,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),o=Object.assign((s,u)=>n(s,u,t),{id:e.name});t.addEventProcessor(o)}fe&&ne.log(`Integration installed: ${e.name}`)}}let ti=Object.prototype.toString;function Rr(t){switch(ti.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return at(t,Error)}}function _t(t,e){return ti.call(t)===`[object ${e}]`}function ri(t){return _t(t,"ErrorEvent")}function ni(t){return _t(t,"DOMError")}function Ue(t){return _t(t,"String")}function Nr(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function xr(t){return t===null||Nr(t)||typeof t!="object"&&typeof t!="function"}function bt(t){return _t(t,"Object")}function tr(t){return typeof Event<"u"&&at(t,Event)}function rr(t){return!!(t&&t.then&&typeof t.then=="function")}function at(t,e){try{return t instanceof e}catch{return!1}}function ii(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}let Fr=le;function oi(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,o=[],s=0,u=0,h=" > ",p=h.length,m,w=Array.isArray(e)?e:e.keyAttrs,C=!Array.isArray(e)&&e.maxStringLength||80;for(;r&&s++<n&&(m=Hs(r,w),!(m==="html"||s>1&&u+o.length*p+m.length>=C));)o.push(m),u+=m.length,r=r.parentNode;return o.reverse().join(h)}catch{return"<unknown>"}}function Hs(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(Fr.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let o=e&&e.length?e.filter(u=>r.getAttribute(u)).map(u=>[u,r.getAttribute(u)]):null;if(o&&o.length)o.forEach(u=>{n.push(`[${u[0]}="${u[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let u=r.className;if(u&&Ue(u)){let h=u.split(/\s+/);for(let p of h)n.push(`.${p}`)}}let s=["aria-label","type","name","title","alt"];for(let u of s){let h=r.getAttribute(u);h&&n.push(`[${u}="${h}"]`)}return n.join("")}function St(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function ai(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let o=t[n];try{ii(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function nr(t,e=[],r=!1){return e.some(n=>function(o,s,u=!1){return!!Ue(o)&&(_t(s,"RegExp")?s.test(o):!!Ue(s)&&(u?o===s:o.includes(s)))}(t,n,r))}function ke(t,e,r){if(!(e in t))return;let n=t[e],o=r(n);typeof o=="function"&&si(o,n);try{t[e]=o}catch{it&&ne.log(`Failed to replace method "${e}" in object`,t)}}function st(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{it&&ne.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function si(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,st(t,"__sentry_original__",e)}catch{}}function qr(t){return t.__sentry_original__}function ci(t){if(Rr(t))return{message:t.message,name:t.name,stack:t.stack,...li(t)};if(tr(t)){let e={type:t.type,target:ui(t.target),currentTarget:ui(t.currentTarget),...li(t)};return typeof CustomEvent<"u"&&at(t,CustomEvent)&&(e.detail=t.detail),e}return t}function ui(t){try{return typeof Element<"u"&&at(t,Element)?oi(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function li(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}return{}}function Oe(t){return Vr(t,new Map)}function Vr(t,e){if(function(r){if(!bt(r))return!1;try{let n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let o of Object.getOwnPropertyNames(t))t[o]!==void 0&&(n[o]=Vr(t[o],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(o=>{n.push(Vr(o,e))}),n}return t}function Ae(){let t=le,e=t.crypto||t.msCrypto,r=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function di(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Qe(t){let{message:e,event_id:r}=t;if(e)return e;let n=di(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Ur(t,e,r){let n=t.exception=t.exception||{},o=n.values=n.values||[],s=o[0]=o[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}function wt(t,e){let r=di(t);if(!r)return;let n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...e},e&&"data"in e){let o={...n&&n.data,...e.data};r.mechanism.data=o}}function hi(t){if(function(e){try{return e.__sentry_captured__}catch{}}(t))return!0;try{st(t,"__sentry_captured__",!0)}catch{}return!1}let Qs=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Ks=(t={})=>({name:"InboundFilters",processEvent(e,r,n){let o=n.getOptions(),s=function(u={},h={}){return{allowUrls:[...u.allowUrls||[],...h.allowUrls||[]],denyUrls:[...u.denyUrls||[],...h.denyUrls||[]],ignoreErrors:[...u.ignoreErrors||[],...h.ignoreErrors||[],...u.disableErrorDefaults?[]:Qs],ignoreTransactions:[...u.ignoreTransactions||[],...h.ignoreTransactions||[]],ignoreInternal:u.ignoreInternal===void 0||u.ignoreInternal}}(t,o);return function(u,h){return h.ignoreInternal&&function(p){try{return p.exception.values[0].type==="SentryError"}catch{}return!1}(u)?(fe&&ne.warn(`Event dropped due to being internal Sentry Error.
Event: ${Qe(u)}`),!0):function(p,m){return!(p.type||!m||!m.length)&&function(w){let C=[],P;w.message&&C.push(w.message);try{P=w.exception.values[w.exception.values.length-1]}catch{}return P&&P.value&&(C.push(P.value),P.type&&C.push(`${P.type}: ${P.value}`)),C}(p).some(w=>nr(w,m))}(u,h.ignoreErrors)?(fe&&ne.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Qe(u)}`),!0):function(p){return!p.type&&!(!p.exception||!p.exception.values||p.exception.values.length===0)&&!p.message&&!p.exception.values.some(m=>m.stacktrace||m.type&&m.type!=="Error"||m.value)}(u)?(fe&&ne.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Qe(u)}`),!0):function(p,m){if(p.type!=="transaction"||!m||!m.length)return!1;let w=p.transaction;return!!w&&nr(w,m)}(u,h.ignoreTransactions)?(fe&&ne.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Qe(u)}`),!0):function(p,m){if(!m||!m.length)return!1;let w=ir(p);return!!w&&nr(w,m)}(u,h.denyUrls)?(fe&&ne.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Qe(u)}.
Url: ${ir(u)}`),!0):!function(p,m){if(!m||!m.length)return!0;let w=ir(p);return!w||nr(w,m)}(u,h.allowUrls)&&(fe&&ne.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Qe(u)}.
Url: ${ir(u)}`),!0)}(e,s)?null:e}});function ir(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?function(r=[]){for(let n=r.length-1;n>=0;n--){let o=r[n];if(o&&o.filename!=="<anonymous>"&&o.filename!=="[native code]")return o.filename||null}return null}(e):null}catch{return fe&&ne.error(`Cannot extract url for event ${Qe(t)}`),null}}function or(){return $r(le),le}function $r(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||ot,e[ot]=e[ot]||{}}function xt(){return Date.now()/1e3}let $e=function(){let{performance:t}=le;if(!t||!t.now)return xt;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/1e3}(),ar;function Et(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||$e(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Ae()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function pi(){return Ae()}function Jr(){return Ae().substring(16)}function sr(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=sr(n[o],e[o],r-1));return n}(()=>{let{performance:t}=le;if(!t||!t.now)return void(ar="none");let e=36e5,r=t.now(),n=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=o<e,u=t.timing&&t.timing.navigationStart,h=typeof u=="number"?Math.abs(u+r-n):e;s||h<e?o<=h?(ar="timeOrigin",t.timeOrigin):ar="navigationStart":ar="dateNow"})();let Br="_sentrySpan";function fi(t,e){e?st(t,Br,e):delete t[Br]}function mi(t){return t[Br]}class Gr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:pi(),spanId:Jr()}}clone(){let e=new Gr;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,fi(e,mi(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Et(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,o]=r instanceof Je?[r.getScopeData(),r.getRequestSession()]:bt(r)?[e,e.requestSession]:[],{tags:s,extra:u,user:h,contexts:p,level:m,fingerprint:w=[],propagationContext:C}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...u},this._contexts={...this._contexts,...p},h&&Object.keys(h).length&&(this._user=h),m&&(this._level=m),w.length&&(this._fingerprint=w),C&&(this._propagationContext=C),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,fi(this,void 0),this._attachments=[],this.setPropagationContext({traceId:pi()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:100;if(n<=0)return this;let o={timestamp:xt(),...e};return this._breadcrumbs.push(o),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:mi(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=sr(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Jr(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Ae();if(!this._client)return ne.warn("No client configured on scope - will not capture exception!"),n;let o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:n},this),n}captureMessage(e,r,n){let o=n&&n.event_id?n.event_id:Ae();if(!this._client)return ne.warn("No client configured on scope - will not capture message!"),o;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:o},this),o}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Ae();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(ne.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}let Je=Gr;class Xs{constructor(e,r){let n,o;n=e||new Je,o=r||new Je,this._stack=[{scope:n}],this._isolationScope=o}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(o){throw this._popScope(),o}return rr(n)?n.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function kt(){let t=$r(or());return t.stack=t.stack||new Xs(Zt("defaultCurrentScope",()=>new Je),Zt("defaultIsolationScope",()=>new Je))}function Zs(t){return kt().withScope(t)}function ec(t,e){let r=kt();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function gi(t){return kt().withScope(()=>t(kt().getIsolationScope()))}function Yr(t){let e=$r(t);return e.acs?e.acs:{withIsolationScope:gi,withScope:Zs,withSetScope:ec,withSetIsolationScope:(r,n)=>gi(n),getCurrentScope:()=>kt().getScope(),getIsolationScope:()=>kt().getIsolationScope()}}function ct(){return Yr(or()).getCurrentScope()}function Ft(){return Yr(or()).getIsolationScope()}function be(){return ct().getClient()}function tc(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:o}=e;return Oe({trace_id:r,span_id:n,parent_span_id:o})}let vi,yi=new WeakMap,rc=()=>({name:"FunctionToString",setupOnce(){vi=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=qr(this),r=yi.has(be())&&e!==void 0?e:this;return vi.apply(r,t)}}catch{}},setup(t){yi.set(t,!0)}}),ut="?",_i=/\(error: (.*)\)/,bi=/captureMessage|captureException/;function cr(t){return t[t.length-1]||{}}let Si="<anonymous>";function Ke(t){try{return t&&typeof t=="function"&&t.name||Si}catch{return Si}}function wi(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}let nc=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(r,n){return!!n&&(!!function(o,s){let u=o.message,h=s.message;return!(!u&&!h)&&!(u&&!h||!u&&h)&&u===h&&!!ki(o,s)&&!!Ei(o,s)}(r,n)||!!function(o,s){let u=Ti(s),h=Ti(o);return!(!u||!h)&&u.type===h.type&&u.value===h.value&&!!ki(o,s)&&!!Ei(o,s)}(r,n))}(e,t))return fe&&ne.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function Ei(t,e){let r=wi(t),n=wi(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let o=0;o<n.length;o++){let s=n[o],u=r[o];if(s.filename!==u.filename||s.lineno!==u.lineno||s.colno!==u.colno||s.function!==u.function)return!1}return!0}function ki(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function Ti(t){return t.exception&&t.exception.values&&t.exception.values[0]}let ur={},Ci={};function lt(t,e){ur[t]=ur[t]||[],ur[t].push(e)}function dt(t,e){if(!Ci[t]){Ci[t]=!0;try{e()}catch(r){it&&ne.error(`Error while instrumenting ${t}`,r)}}}function De(t,e){let r=t&&ur[t];if(r)for(let n of r)try{n(e)}catch(o){it&&ne.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ke(n)}
Error:`,o)}}let we=le,Oi,Wr,zr;function ic(){if(!we.document)return;let t=De.bind(null,"dom"),e=Ai(t,!0);we.document.addEventListener("click",e,!1),we.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let n=we[r],o=n&&n.prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(ke(o,"addEventListener",function(s){return function(u,h,p){if(u==="click"||u=="keypress")try{let m=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},w=m[u]=m[u]||{refCount:0};if(!w.handler){let C=Ai(t);w.handler=C,s.call(this,u,C,p)}w.refCount++}catch{}return s.call(this,u,h,p)}}),ke(o,"removeEventListener",function(s){return function(u,h,p){if(u==="click"||u=="keypress")try{let m=this.__sentry_instrumentation_handlers__||{},w=m[u];w&&(w.refCount--,w.refCount<=0&&(s.call(this,u,w.handler,p),w.handler=void 0,delete m[u]),Object.keys(m).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,u,h,p)}}))})}function Ai(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=function(s){try{return s.target}catch{return null}}(r);if(function(s,u){return s==="keypress"&&(!u||!u.tagName||u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!u.isContentEditable)}(r.type,n))return;st(r,"_sentryCaptured",!0),n&&!n._sentryId&&st(n,"_sentryId",Ae());let o=r.type==="keypress"?"input":r.type;(function(s){if(s.type!==Wr)return!1;try{if(!s.target||s.target._sentryId!==zr)return!1}catch{}return!0})(r)||(t({event:r,name:o,global:e}),Wr=r.type,zr=n?n._sentryId:void 0),clearTimeout(Oi),Oi=we.setTimeout(()=>{zr=void 0,Wr=void 0},1e3)}}let qt="__sentry_xhr_v3__";function oc(){if(!we.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let o=new Error,s=1e3*$e(),u=Ue(n[0])?n[0].toUpperCase():void 0,h=function(m){if(Ue(m))return m;try{return m.toString()}catch{}}(n[1]);if(!u||!h)return e.apply(r,n);r[qt]={method:u,url:h,request_headers:{}},u==="POST"&&h.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let p=()=>{let m=r[qt];if(m&&r.readyState===4){try{m.status_code=r.status}catch{}De("xhr",{endTimestamp:1e3*$e(),startTimestamp:s,xhr:r,virtualError:o})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(m,w,C){return p(),m.apply(w,C)}}):r.addEventListener("readystatechange",p),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(m,w,C){let[P,j]=C,M=w[qt];return M&&Ue(P)&&Ue(j)&&(M.request_headers[P.toLowerCase()]=j),m.apply(w,C)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let o=r[qt];return o&&(n[0]!==void 0&&(o.body=n[0]),De("xhr",{startTimestamp:1e3*$e(),xhr:r})),e.apply(r,n)}})}let lr=le,dr;function Mi(t){let e="history";lt(e,t),dt(e,ac)}function ac(){if(!function(){let r=lr.chrome,n=r&&r.app&&r.app.runtime,o="history"in lr&&!!lr.history.pushState&&!!lr.history.replaceState;return!n&&o}())return;let t=we.onpopstate;function e(r){return function(...n){let o=n.length>2?n[2]:void 0;if(o){let s=dr,u=String(o);dr=u,De("history",{from:s,to:u})}return r.apply(this,n)}}we.onpopstate=function(...r){let n=we.location.href,o=dr;if(dr=n,De("history",{from:o,to:n}),t)try{return t.apply(this,r)}catch{}},ke(we.history,"pushState",e),ke(we.history,"replaceState",e)}function sc(){"console"in le&&Lr.forEach(function(t){t in le.console&&ke(le.console,t,function(e){return er[t]=e,function(...r){De("console",{args:r,level:t});let n=er[t];n&&n.apply(le.console,r)}})})}let Hr=le;function Qr(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function cc(t,e=!1){e&&!function(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Hr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Qr(Hr.fetch))return!0;let r=!1,n=Hr.document;if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o),o.contentWindow&&o.contentWindow.fetch&&(r=Qr(o.contentWindow.fetch)),n.head.removeChild(o)}catch(o){it&&ne.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",o)}return r}()||ke(le,"fetch",function(r){return function(...n){let o=new Error,{method:s,url:u}=function(p){if(p.length===0)return{method:"GET",url:""};if(p.length===2){let[w,C]=p;return{url:Pi(w),method:Kr(C,"method")?String(C.method).toUpperCase():"GET"}}let m=p[0];return{url:Pi(m),method:Kr(m,"method")?String(m.method).toUpperCase():"GET"}}(n),h={args:n,fetchData:{method:s,url:u},startTimestamp:1e3*$e(),virtualError:o};return t||De("fetch",{...h}),r.apply(le,n).then(async p=>(t?t(p):De("fetch",{...h,endTimestamp:1e3*$e(),response:p}),p),p=>{throw De("fetch",{...h,endTimestamp:1e3*$e(),error:p}),Rr(p)&&p.stack===void 0&&(p.stack=o.stack,st(p,"framesToPop",1)),p})}})}function Kr(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Pi(t){return typeof t=="string"?t:t?Kr(t,"url")?t.url:t.toString?t.toString():"":""}let uc=100;function ht(t,e){let r=be(),n=Ft();if(!r)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:s=uc}=r.getOptions();if(s<=0)return;let u={timestamp:xt(),...t},h=o?Nt(()=>o(u,e)):u;h!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",h,e),n.addBreadcrumb(h,s))}function Ii(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}function Xr(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}let hr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zr="production";var Be;function pt(t){return new Me(e=>{e(t)})}function pr(t){return new Me((e,r)=>{r(t)})}(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(Be||(Be={}));class Me{constructor(e){Me.prototype.__init.call(this),Me.prototype.__init2.call(this),Me.prototype.__init3.call(this),Me.prototype.__init4.call(this),this._state=Be.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new Me((n,o)=>{this._handlers.push([!1,s=>{if(e)try{n(e(s))}catch(u){o(u)}else n(s)},s=>{if(r)try{n(r(s))}catch(u){o(u)}else o(s)}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Me((r,n)=>{let o,s;return this.then(u=>{s=!1,o=u,e&&e()},u=>{s=!0,o=u,e&&e()}).then(()=>{s?n(o):r(o)})})}__init(){this._resolve=e=>{this._setResult(Be.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Be.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{this._state===Be.PENDING&&(rr(r)?r.then(this._resolve,this._reject):(this._state=e,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Be.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Be.RESOLVED&&r[1](this._value),this._state===Be.REJECTED&&r[2](this._value),r[0]=!0)})}}}function en(t,e,r,n=0){return new Me((o,s)=>{let u=t[n];if(e===null||typeof u!="function")o(e);else{let h=u({...e},r);fe&&u.id&&h===null&&ne.log(`Event processor "${u.id}" dropped event`),rr(h)?h.then(p=>en(t,p,r,n+1).then(o)).then(null,s):en(t,h,r,n+1).then(o).then(null,s)}})}let fr,Di,tn;function Ge(t,e=100,r=1/0){try{return rn("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function ji(t,e=3,r=102400){let n=Ge(t,e);return o=n,function(s){return~-encodeURI(s).split(/%..|./).length}(JSON.stringify(o))>r?ji(t,e-1,r):n;var o}function rn(t,e,r=1/0,n=1/0,o=function(){let s=typeof WeakSet=="function",u=s?new WeakSet:[];return[function(h){if(s)return!!u.has(h)||(u.add(h),!1);for(let p=0;p<u.length;p++)if(u[p]===h)return!0;return u.push(h),!1},function(h){if(s)u.delete(h);else for(let p=0;p<u.length;p++)if(u[p]===h){u.splice(p,1);break}}]}()){let[s,u]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let h=function(j,M){try{if(j==="domain"&&M&&typeof M=="object"&&M._events)return"[Domain]";if(j==="domainEmitter")return"[DomainEmitter]";if(typeof window<"u"&&M===window)return"[Global]";if(typeof window<"u"&&M===window)return"[Window]";if(typeof document<"u"&&M===document)return"[Document]";if(ii(M))return"[VueViewModel]";if(bt(D=M)&&"nativeEvent"in D&&"preventDefault"in D&&"stopPropagation"in D)return"[SyntheticEvent]";if(typeof M=="number"&&!Number.isFinite(M))return`[${M}]`;if(typeof M=="function")return`[Function: ${Ke(M)}]`;if(typeof M=="symbol")return`[${String(M)}]`;if(typeof M=="bigint")return`[BigInt: ${String(M)}]`;let V=function($){let z=Object.getPrototypeOf($);return z?z.constructor.name:"null prototype"}(M);return/^HTML(\w*)Element$/.test(V)?`[HTMLElement: ${V}]`:`[object ${V}]`}catch(V){return`**non-serializable** (${V})`}var D}(t,e);if(!h.startsWith("[object "))return h;if(e.__sentry_skip_normalization__)return e;let p=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(p===0)return h.replace("object ","");if(s(e))return"[Circular ~]";let m=e;if(m&&typeof m.toJSON=="function")try{return rn("",m.toJSON(),p-1,n,o)}catch{}let w=Array.isArray(e)?[]:{},C=0,P=ci(e);for(let j in P){if(!Object.prototype.hasOwnProperty.call(P,j))continue;if(C>=n){w[j]="[MaxProperties ~]";break}let M=P[j];w[j]=rn(j,M,p-1,n,o),C++}return u(e),w}let lc=/^sentry-/;function Li(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}function dc(t){let e=t._sentryMetrics;if(!e)return;let r={};for(let[,[n,o]]of e)(r[n]||(r[n]=[])).push(Oe(o));return r}let Ri=!1;function hc(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext();return Oe({parent_span_id:n?e:nn(t).parent_span_id,span_id:n?Jr():e,trace_id:r})}function Ni(t){return typeof t=="number"?xi(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?xi(t.getTime()):$e()}function xi(t){return t>9999999999?t/1e3:t}function nn(t){if(function(e){return typeof e.getSpanJSON=="function"}(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(function(n){let o=n;return!!(o.attributes&&o.startTime&&o.name&&o.endTime&&o.status)}(t)){let{attributes:n,startTime:o,name:s,endTime:u,parentSpanId:h,status:p}=t;return Oe({span_id:e,trace_id:r,data:n,description:s,parent_span_id:h,start_timestamp:Ni(o),timestamp:Ni(u)||void 0,status:pc(p),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:dc(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function pc(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function Fi(t){return t._sentryRootSpan||t}function qi(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},o=Oe({environment:r.environment||Zr,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",o),o}function fc(t){let e=be();if(!e)return{};let r=Fi(t),n=r._frozenDsc;if(n)return n;let o=r.spanContext().traceState,s=o&&o.get("sentry.dsc"),u=s&&function(j){let M=function(V){if(V&&(Ue(V)||Array.isArray(V)))return Array.isArray(V)?V.reduce(($,z)=>{let ee=Li(z);return Object.entries(ee).forEach(([K,se])=>{$[K]=se}),$},{}):Li(V)}(j);if(!M)return;let D=Object.entries(M).reduce((V,[$,z])=>($.match(lc)&&(V[$.slice(7)]=z),V),{});return Object.keys(D).length>0?D:void 0}(s);if(u)return u;let h=qi(t.spanContext().traceId,e),p=nn(r),m=p.data||{},w=m["sentry.sample_rate"];w!=null&&(h.sample_rate=`${w}`);let C=m["sentry.source"],P=p.description;return C!=="url"&&P&&(h.transaction=P),function(){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let j=be(),M=j&&j.getOptions();return!!M&&(M.enableTracing||"tracesSampleRate"in M||"tracesSampler"in M)}()&&(h.sampled=String(function(j){let{traceFlags:M}=j.spanContext();return M===1}(r))),e.emit("createDsc",h,r),h}function Vi(t,e){let{extra:r,tags:n,user:o,contexts:s,level:u,sdkProcessingMetadata:h,breadcrumbs:p,fingerprint:m,eventProcessors:w,attachments:C,propagationContext:P,transactionName:j,span:M}=e;mr(t,"extra",r),mr(t,"tags",n),mr(t,"user",o),mr(t,"contexts",s),t.sdkProcessingMetadata=sr(t.sdkProcessingMetadata,h,2),u&&(t.level=u),j&&(t.transactionName=j),M&&(t.span=M),p.length&&(t.breadcrumbs=[...t.breadcrumbs,...p]),m.length&&(t.fingerprint=[...t.fingerprint,...m]),w.length&&(t.eventProcessors=[...t.eventProcessors,...w]),C.length&&(t.attachments=[...t.attachments,...C]),t.propagationContext={...t.propagationContext,...P}}function mr(t,e,r){t[e]=sr(t[e],r,1)}function mc(t,e,r,n,o,s){let{normalizeDepth:u=3,normalizeMaxBreadth:h=1e3}=t,p={...e,event_id:e.event_id||r.event_id||Ae(),timestamp:e.timestamp||xt()},m=r.integrations||t.integrations.map(M=>M.name);(function(M,D){let{environment:V,release:$,dist:z,maxValueLength:ee=250}=D;M.environment=M.environment||V||Zr,!M.release&&$&&(M.release=$),!M.dist&&z&&(M.dist=z),M.message&&(M.message=St(M.message,ee));let K=M.exception&&M.exception.values&&M.exception.values[0];K&&K.value&&(K.value=St(K.value,ee));let se=M.request;se&&se.url&&(se.url=St(se.url,ee))})(p,t),function(M,D){D.length>0&&(M.sdk=M.sdk||{},M.sdk.integrations=[...M.sdk.integrations||[],...D])}(p,m),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&function(M,D){let V=function($){let z=le._sentryDebugIds;if(!z)return{};let ee=Object.keys(z);return tn&&ee.length===Di||(Di=ee.length,tn=ee.reduce((K,se)=>{fr||(fr={});let me=fr[se];if(me)K[me[0]]=me[1];else{let Re=$(se);for(let Ce=Re.length-1;Ce>=0;Ce--){let ze=Re[Ce],Fe=ze&&ze.filename,He=z[se];if(Fe&&He){K[Fe]=He,fr[se]=[Fe,He];break}}}return K},{})),tn}(D);try{M.exception.values.forEach($=>{$.stacktrace.frames.forEach(z=>{V&&z.filename&&(z.debug_id=V[z.filename])})})}catch{}}(p,t.stackParser);let w=function(M,D){if(!D)return M;let V=M?M.clone():new Je;return V.update(D),V}(n,r.captureContext);r.mechanism&&wt(p,r.mechanism);let C=o?o.getEventProcessors():[],P=Zt("globalScope",()=>new Je).getScopeData();s&&Vi(P,s.getScopeData()),w&&Vi(P,w.getScopeData());let j=[...r.attachments||[],...P.attachments];return j.length&&(r.attachments=j),function(M,D){let{fingerprint:V,span:$,breadcrumbs:z,sdkProcessingMetadata:ee}=D;(function(K,se){let{extra:me,tags:Re,user:Ce,contexts:ze,level:Fe,transactionName:He}=se,Mt=Oe(me);Mt&&Object.keys(Mt).length&&(K.extra={...Mt,...K.extra});let Pt=Oe(Re);Pt&&Object.keys(Pt).length&&(K.tags={...Pt,...K.tags});let It=Oe(Ce);It&&Object.keys(It).length&&(K.user={...It,...K.user});let Dt=Oe(ze);Dt&&Object.keys(Dt).length&&(K.contexts={...Dt,...K.contexts}),Fe&&(K.level=Fe),He&&K.type!=="transaction"&&(K.transaction=He)})(M,D),$&&function(K,se){K.contexts={trace:hc(se),...K.contexts},K.sdkProcessingMetadata={dynamicSamplingContext:fc(se),...K.sdkProcessingMetadata};let me=nn(Fi(se)).description;me&&!K.transaction&&K.type==="transaction"&&(K.transaction=me)}(M,$),function(K,se){K.fingerprint=K.fingerprint?Array.isArray(K.fingerprint)?K.fingerprint:[K.fingerprint]:[],se&&(K.fingerprint=K.fingerprint.concat(se)),K.fingerprint&&!K.fingerprint.length&&delete K.fingerprint}(M,V),function(K,se){let me=[...K.breadcrumbs||[],...se];K.breadcrumbs=me.length?me:void 0}(M,z),function(K,se){K.sdkProcessingMetadata={...K.sdkProcessingMetadata,...se}}(M,ee)}(p,P),en([...C,...P.eventProcessors],p,r).then(M=>(M&&function(D){let V={};try{D.exception.values.forEach(z=>{z.stacktrace.frames.forEach(ee=>{ee.debug_id&&(ee.abs_path?V[ee.abs_path]=ee.debug_id:ee.filename&&(V[ee.filename]=ee.debug_id),delete ee.debug_id)})})}catch{}if(Object.keys(V).length===0)return;D.debug_meta=D.debug_meta||{},D.debug_meta.images=D.debug_meta.images||[];let $=D.debug_meta.images;Object.entries(V).forEach(([z,ee])=>{$.push({type:"sourcemap",code_file:z,debug_id:ee})})}(M),typeof u=="number"&&u>0?function(D,V,$){if(!D)return null;let z={...D,...D.breadcrumbs&&{breadcrumbs:D.breadcrumbs.map(ee=>({...ee,...ee.data&&{data:Ge(ee.data,V,$)}}))},...D.user&&{user:Ge(D.user,V,$)},...D.contexts&&{contexts:Ge(D.contexts,V,$)},...D.extra&&{extra:Ge(D.extra,V,$)}};return D.contexts&&D.contexts.trace&&z.contexts&&(z.contexts.trace=D.contexts.trace,D.contexts.trace.data&&(z.contexts.trace.data=Ge(D.contexts.trace.data,V,$))),D.spans&&(z.spans=D.spans.map(ee=>({...ee,...ee.data&&{data:Ge(ee.data,V,$)}}))),D.contexts&&D.contexts.flags&&z.contexts&&(z.contexts.flags=Ge(D.contexts.flags,3,$)),z}(M,u,h):M))}let gc=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Ui(t,e){return ct().captureEvent(t,e)}function $i(t){let e=be(),r=Ft(),n=ct(),{release:o,environment:s=Zr}=e&&e.getOptions()||{},{userAgent:u}=le.navigator||{},h=function(m){let w=$e(),C={sid:Ae(),init:!0,timestamp:w,started:w,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(P){return Oe({sid:`${P.sid}`,init:P.init,started:new Date(1e3*P.started).toISOString(),timestamp:new Date(1e3*P.timestamp).toISOString(),status:P.status,errors:P.errors,did:typeof P.did=="number"||typeof P.did=="string"?`${P.did}`:void 0,duration:P.duration,abnormal_mechanism:P.abnormal_mechanism,attrs:{release:P.release,environment:P.environment,ip_address:P.ipAddress,user_agent:P.userAgent}})}(C)};return m&&Et(C,m),C}({release:o,environment:s,user:n.getUser()||r.getUser(),...u&&{userAgent:u},...t}),p=r.getSession();return p&&p.status==="ok"&&Et(p,{status:"exited"}),Ji(),r.setSession(h),n.setSession(h),h}function Ji(){let t=Ft(),e=ct(),r=e.getSession()||t.getSession();r&&function(n){let o={};n.status==="ok"&&(o={status:"exited"}),Et(n,o)}(r),Bi(),t.setSession(),e.setSession()}function Bi(){let t=Ft(),e=ct(),r=be(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}function Gi(t=!1){t?Ji():Bi()}let ge=le,on=0;function Yi(){return on>0}function Tt(t,e={}){if(!function(n){return typeof n=="function"}(t))return t;try{let n=t.__sentry_wrapped__;if(n)return typeof n=="function"?n:t;if(qr(t))return t}catch{return t}let r=function(...n){try{let o=n.map(s=>Tt(s,e));return t.apply(this,o)}catch(o){throw on++,setTimeout(()=>{on--}),function(...s){let u=Yr(or());if(s.length===2){let[h,p]=s;return h?u.withSetScope(h,p):u.withScope(p)}u.withScope(s[0])}(s=>{var u;s.addEventProcessor(h=>(e.mechanism&&(Ur(h,void 0,void 0),wt(h,e.mechanism)),h.extra={...h.extra,arguments:n},h)),u=o,ct().captureException(u,function(h){if(h)return function(p){return p instanceof Je||typeof p=="function"}(h)||function(p){return Object.keys(p).some(m=>gc.includes(m))}(h)?{captureContext:h}:h}(void 0))}),o}};try{for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}catch{}si(r,t),st(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}let vc=(t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(r){var n;e.console&&function(o){let s="console";lt(s,o),dt(s,sc)}(function(o){return function(s){if(be()!==o)return;let u={category:"console",data:{arguments:s.args,logger:"console"},level:(h=s.level,h==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(h)?h:"log"),message:ai(s.args," ")};var h;if(s.level==="assert"){if(s.args[0]!==!1)return;u.message=`Assertion failed: ${ai(s.args.slice(1)," ")||"console.assert"}`,u.data.arguments=s.args.slice(1)}ht(u,{input:s.args,level:s.level})}}(r)),e.dom&&(n=function(o,s){return function(u){if(be()!==o)return;let h,p,m=typeof s=="object"?s.serializeAttribute:void 0,w=typeof s=="object"&&typeof s.maxStringLength=="number"?s.maxStringLength:void 0;w&&w>1024&&(hr&&ne.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${w} was configured. Sentry will use 1024 instead.`),w=1024),typeof m=="string"&&(m=[m]);try{let P=u.event,j=function(M){return!!M&&!!M.target}(P)?P.target:P;h=oi(j,{keyAttrs:m,maxStringLength:w}),p=function(M){if(!Fr.HTMLElement)return null;let D=M;for(let V=0;V<5;V++){if(!D)return null;if(D instanceof HTMLElement){if(D.dataset.sentryComponent)return D.dataset.sentryComponent;if(D.dataset.sentryElement)return D.dataset.sentryElement}D=D.parentNode}return null}(j)}catch{h="<unknown>"}if(h.length===0)return;let C={category:`ui.${u.name}`,message:h};p&&(C.data={"ui.component_name":p}),ht(C,{event:u.event,name:u.name,global:u.global})}}(r,e.dom),lt("dom",n),dt("dom",ic)),e.xhr&&function(o){lt("xhr",o),dt("xhr",oc)}(function(o){return function(s){if(be()!==o)return;let{startTimestamp:u,endTimestamp:h}=s,p=s.xhr[qt];if(!u||!h||!p)return;let{method:m,url:w,status_code:C,body:P}=p,j={method:m,url:w,status_code:C},M={xhr:s.xhr,input:P,startTimestamp:u,endTimestamp:h};ht({category:"xhr",data:j,type:"http",level:Ii(C)},M)}}(r)),e.fetch&&function(o){let s="fetch";lt(s,o),dt(s,()=>cc(void 0,void 0))}(function(o){return function(s){if(be()!==o)return;let{startTimestamp:u,endTimestamp:h}=s;if(h&&(!s.fetchData.url.match(/sentry_key/)||s.fetchData.method!=="POST"))if(s.error)ht({category:"fetch",data:s.fetchData,level:"error",type:"http"},{data:s.error,input:s.args,startTimestamp:u,endTimestamp:h});else{let p=s.response,m={...s.fetchData,status_code:p&&p.status},w={input:s.args,response:p,startTimestamp:u,endTimestamp:h};ht({category:"fetch",data:m,type:"http",level:Ii(m.status_code)},w)}}}(r)),e.history&&Mi(function(o){return function(s){if(be()!==o)return;let u=s.from,h=s.to,p=Xr(ge.location.href),m=u?Xr(u):void 0,w=Xr(h);m&&m.path||(m=p),p.protocol===w.protocol&&p.host===w.host&&(h=w.relative),p.protocol===m.protocol&&p.host===m.host&&(u=m.relative),ht({category:"navigation",data:{from:u,to:h}})}}(r)),e.sentry&&r.on("beforeSendEvent",function(o){return function(s){be()===o&&ht({category:"sentry."+(s.type==="transaction"?"transaction":"event"),event_id:s.event_id,level:s.level,message:Qe(s)},{event:s})}}(r))}}},yc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],_c=(t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&ke(ge,"setTimeout",Wi),e.setInterval&&ke(ge,"setInterval",Wi),e.requestAnimationFrame&&ke(ge,"requestAnimationFrame",bc),e.XMLHttpRequest&&"XMLHttpRequest"in ge&&ke(XMLHttpRequest.prototype,"send",Sc);let r=e.eventTarget;r&&(Array.isArray(r)?r:yc).forEach(wc)}}};function Wi(t){return function(...e){let r=e[0];return e[0]=Tt(r,{mechanism:{data:{function:Ke(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function bc(t){return function(e){return t.apply(this,[Tt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ke(t)},handled:!1,type:"instrument"}})])}}function Sc(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&ke(r,n,function(o){let s={mechanism:{data:{function:n,handler:Ke(o)},handled:!1,type:"instrument"}},u=qr(o);return u&&(s.mechanism.data.handler=Ke(u)),Tt(o,s)})}),t.apply(this,e)}}function wc(t){let e=ge[t],r=e&&e.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(ke(r,"addEventListener",function(n){return function(o,s,u){try{typeof s.handleEvent=="function"&&(s.handleEvent=Tt(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ke(s),target:t},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[o,Tt(s,{mechanism:{data:{function:"addEventListener",handler:Ke(s),target:t},handled:!1,type:"instrument"}}),u])}}),ke(r,"removeEventListener",function(n){return function(o,s,u){try{let h=s.__sentry_wrapped__;h&&n.call(this,o,h,u)}catch{}return n.call(this,o,s,u)}}))}let an=null;function Ec(){an=le.onerror,le.onerror=function(t,e,r,n,o){return De("error",{column:n,error:o,line:r,msg:t,url:e}),!!an&&an.apply(this,arguments)},le.onerror.__SENTRY_INSTRUMENTED__=!0}let sn=null;function kc(){sn=le.onunhandledrejection,le.onunhandledrejection=function(t){return De("unhandledrejection",t),!sn||sn.apply(this,arguments)},le.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function cn(t,e){let r=ln(t,e),n={type:Cc(e),value:Oc(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function un(t,e){return{exception:{values:[cn(t,e)]}}}function ln(t,e){let r=e.stacktrace||e.stack||"",n=function(s){return s&&Tc.test(s.message)?1:0}(e),o=function(s){return typeof s.framesToPop=="number"?s.framesToPop:0}(e);try{return t(r,n,o)}catch{}return[]}let Tc=/Minified React error #\d+;/i;function zi(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function Cc(t){let e=t&&t.name;return!e&&zi(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function Oc(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:zi(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function dn(t,e,r,n,o){let s;if(ri(e)&&e.error)return un(t,e.error);if(ni(e)||_t(e,"DOMException")){let u=e;if("stack"in e)s=un(t,e);else{let h=u.name||(ni(u)?"DOMError":"DOMException"),p=u.message?`${h}: ${u.message}`:h;s=hn(t,p,r,n),Ur(s,p)}return"code"in u&&(s.tags={...s.tags,"DOMException.code":`${u.code}`}),s}return Rr(e)?un(t,e):bt(e)||tr(e)?(s=function(u,h,p,m){let w=be(),C=w&&w.getOptions().normalizeDepth,P=function(D){for(let V in D)if(Object.prototype.hasOwnProperty.call(D,V)){let $=D[V];if($ instanceof Error)return $}}(h),j={__serialized__:ji(h,C)};if(P)return{exception:{values:[cn(u,P)]},extra:j};let M={exception:{values:[{type:tr(h)?h.constructor.name:m?"UnhandledRejection":"Error",value:Ac(h,{isUnhandledRejection:m})}]},extra:j};if(p){let D=ln(u,p);D.length&&(M.exception.values[0].stacktrace={frames:D})}return M}(t,e,r,o),wt(s,{synthetic:!0}),s):(s=hn(t,e,r,n),Ur(s,`${e}`,void 0),wt(s,{synthetic:!0}),s)}function hn(t,e,r,n){let o={};if(n&&r){let s=ln(t,r);s.length&&(o.exception={values:[{value:e,stacktrace:{frames:s}}]}),wt(o,{synthetic:!0})}if(Nr(e)){let{__sentry_template_string__:s,__sentry_template_values__:u}=e;return o.logentry={message:s,params:u},o}return o.message=e,o}function Ac(t,{isUnhandledRejection:e}){let r=function(o,s=40){let u=Object.keys(ci(o));u.sort();let h=u[0];if(!h)return"[object has no keys]";if(h.length>=s)return St(h,s);for(let p=u.length;p>0;p--){let m=u.slice(0,p).join(", ");if(!(m.length>s))return p===u.length?m:St(m,s)}return""}(t),n=e?"promise rejection":"exception";return ri(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:tr(t)?`Event \`${function(o){try{let s=Object.getPrototypeOf(o);return s?s.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}let Mc=(t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(function(n){(function(){let o="error";lt(o,s=>{let{stackParser:u,attachStacktrace:h}=Qi();if(be()!==n||Yi())return;let{msg:p,url:m,line:w,column:C,error:P}=s,j=function(M,D,V,$){let z=M.exception=M.exception||{},ee=z.values=z.values||[],K=ee[0]=ee[0]||{},se=K.stacktrace=K.stacktrace||{},me=se.frames=se.frames||[],Re=$,Ce=V,ze=Ue(D)&&D.length>0?D:function(){try{return Fr.document.location.href}catch{return""}}();return me.length===0&&me.push({colno:Re,filename:ze,function:ut,in_app:!0,lineno:Ce}),M}(dn(u,P||p,void 0,h,!1),m,w,C);j.level="error",Ui(j,{originalException:P,mechanism:{handled:!1,type:"onerror"}})}),dt(o,Ec)})()}(r),Hi("onerror")),e.onunhandledrejection&&(function(n){(function(){let o="unhandledrejection";lt(o,s=>{let{stackParser:u,attachStacktrace:h}=Qi();if(be()!==n||Yi())return;let p=function(w){if(xr(w))return w;try{if("reason"in w)return w.reason;if("detail"in w&&"reason"in w.detail)return w.detail.reason}catch{}return w}(s),m=xr(p)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(p)}`}]}}:dn(u,p,void 0,h,!0);m.level="error",Ui(m,{originalException:p,mechanism:{handled:!1,type:"onunhandledrejection"}})}),dt(o,kc)})()}(r),Hi("onunhandledrejection"))}}};function Hi(t){hr&&ne.log(`Global Handler attached: ${t}`)}function Qi(){let t=be();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function Pc(t,e,r=250,n,o,s,u){if(!(s.exception&&s.exception.values&&u&&at(u.originalException,Error)))return;let h=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var p,m;h&&(s.exception.values=(p=pn(t,e,o,u.originalException,n,s.exception.values,h,0),m=r,p.map(w=>(w.value&&(w.value=St(w.value,m)),w))))}function pn(t,e,r,n,o,s,u,h){if(s.length>=r+1)return s;let p=[...s];if(at(n[o],Error)){Ki(u,h);let m=t(e,n[o]),w=p.length;Xi(m,o,w,h),p=pn(t,e,r,n[o],o,[m,...p],m,w)}return Array.isArray(n.errors)&&n.errors.forEach((m,w)=>{if(at(m,Error)){Ki(u,h);let C=t(e,m),P=p.length;Xi(C,`errors[${w}]`,P,h),p=pn(t,e,r,m,o,[C,...p],C,P)}}),p}function Ki(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Xi(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}let Ic=(t={})=>{let e=t.limit||5,r=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,o,s){let u=s.getOptions();Pc(cn,u.stackParser,u.maxValueLength,r,e,n,o)}}};function Dc(t){let e=[Ks(),rc(),_c(),vc(),Mc(),Ic(),nc(),{name:"HttpContext",preprocessEvent(r){if(!ge.navigator&&!ge.location&&!ge.document)return;let n=r.request&&r.request.url||ge.location&&ge.location.href,{referrer:o}=ge.document||{},{userAgent:s}=ge.navigator||{},u={...r.request&&r.request.headers,...o&&{Referer:o},...s&&{"User-Agent":s}},h={...r.request,...n&&{url:n},headers:u};r.request=h}}];return t.autoSessionTracking!==!1&&e.push({name:"BrowserSession",setupOnce(){ge.document!==void 0?($i({ignoreDuration:!0}),Gi(),Mi(({from:r,to:n})=>{r!==void 0&&r!==n&&($i({ignoreDuration:!0}),Gi())})):hr&&ne.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),e}let jc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function gr(t,e=!1){let{host:r,path:n,pass:o,port:s,projectId:u,protocol:h,publicKey:p}=t;return`${h}://${p}${e&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${u}`}function Zi(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Vt(t,e=[]){return[t,e]}function Lc(t,e){let[r,n]=t;return[r,[...n,e]]}function eo(t,e){let r=t[1];for(let n of r)if(e(n,n[0].type))return!0;return!1}function fn(t){return le.__SENTRY__&&le.__SENTRY__.encodePolyfill?le.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function Rc(t){let[e,r]=t,n=JSON.stringify(e);function o(s){typeof n=="string"?n=typeof s=="string"?n+s:[fn(n),s]:n.push(typeof s=="string"?fn(s):s)}for(let s of r){let[u,h]=s;if(o(`
${JSON.stringify(u)}
`),typeof h=="string"||h instanceof Uint8Array)o(h);else{let p;try{p=JSON.stringify(h)}catch{p=JSON.stringify(Ge(h))}o(p)}}return typeof n=="string"?n:function(s){let u=s.reduce((m,w)=>m+w.length,0),h=new Uint8Array(u),p=0;for(let m of s)h.set(m,p),p+=m.length;return h}(n)}function Nc(t){let e=typeof t.data=="string"?fn(t.data):t.data;return[Oe({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}let xc={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function to(t){return xc[t]}function ro(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}class je extends Error{constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}}let no="Not capturing exception because it's already been captured.";class Fc{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(u){let h=typeof u=="string"?function(p){let m=jc.exec(p);if(!m)return void Nt(()=>{console.error(`Invalid Sentry Dsn: ${p}`)});let[w,C,P="",j="",M="",D=""]=m.slice(1),V="",$=D,z=$.split("/");if(z.length>1&&(V=z.slice(0,-1).join("/"),$=z.pop()),$){let ee=$.match(/^\d+/);ee&&($=ee[0])}return Zi({host:j,pass:P,path:V,projectId:$,port:M,protocol:w,publicKey:C})}(u):Zi(u);if(h&&function(p){if(!it)return!0;let{port:m,projectId:w,protocol:C}=p;return!(["protocol","publicKey","host","projectId"].find(P=>!p[P]&&(ne.error(`Invalid Sentry Dsn: ${P} missing`),!0))||(w.match(/^\d+$/)?function(P){return P==="http"||P==="https"}(C)?m&&isNaN(parseInt(m,10))&&(ne.error(`Invalid Sentry Dsn: Invalid port ${m}`),1):(ne.error(`Invalid Sentry Dsn: Invalid protocol ${C}`),1):(ne.error(`Invalid Sentry Dsn: Invalid projectId ${w}`),1)))}(h))return h}(e.dsn):fe&&ne.warn("No DSN provided, client will not send events."),this._dsn){let u=(r=this._dsn,n=e.tunnel,o=e._metadata?e._metadata.sdk:void 0,n||`${function(h){return`${function(p){let m=p.protocol?`${p.protocol}:`:"",w=p.port?`:${p.port}`:"";return`${m}//${p.host}${w}${p.path?`/${p.path}`:""}/api/`}(h)}${h.projectId}/envelope/`}(r)}?${function(h,p){let m={sentry_version:"7"};return h.publicKey&&(m.sentry_key=h.publicKey),p&&(m.sentry_client=`${p.name}/${p.version}`),new URLSearchParams(m).toString()}(r,o)}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:u})}var r,n,o;let s=["enableTracing","tracesSampleRate","tracesSampler"].find(u=>u in e&&e[u]==null);s&&Nt(()=>{console.warn(`[Sentry] Deprecation warning: \`${s}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let o=Ae();if(hi(e))return fe&&ne.log(no),o;let s={event_id:o,...r};return this._process(this.eventFromException(e,s).then(u=>this._captureEvent(u,s,n))),s.event_id}captureMessage(e,r,n,o){let s={event_id:Ae(),...n},u=Nr(e)?e:String(e),h=xr(e)?this.eventFromMessage(u,r,s):this.eventFromException(e,s);return this._process(h.then(p=>this._captureEvent(p,s,o))),s.event_id}captureEvent(e,r,n){let o=Ae();if(r&&r.originalException&&hi(r.originalException))return fe&&ne.log(no),o;let s={event_id:o,...r},u=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,u||n)),s.event_id}captureSession(e){typeof e.release!="string"?fe&&ne.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Et(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(o=>n&&o))):pt(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];ei(this,e,this._integrations),r||Zn(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=function(s,u,h,p){let m=ro(h),w=s.type&&s.type!=="replay_event"?s.type:"event";(function(P,j){j&&(P.sdk=P.sdk||{},P.sdk.name=P.sdk.name||j.name,P.sdk.version=P.sdk.version||j.version,P.sdk.integrations=[...P.sdk.integrations||[],...j.integrations||[]],P.sdk.packages=[...P.sdk.packages||[],...j.packages||[]])})(s,h&&h.sdk);let C=function(P,j,M,D){let V=P.sdkProcessingMetadata&&P.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:P.event_id,sent_at:new Date().toISOString(),...j&&{sdk:j},...!!M&&D&&{dsn:gr(D)},...V&&{trace:Oe({...V})}}}(s,m,p,u);return delete s.sdkProcessingMetadata,Vt(C,[[{type:w},s]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=Lc(n,Nc(s));let o=this.sendEnvelope(n);o&&o.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=function(n,o,s,u){let h=ro(s);return Vt({sent_at:new Date().toISOString(),...h&&{sdk:h},...!!u&&o&&{dsn:gr(o)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let o=typeof n=="number"?n:1,s=`${e}:${r}`;fe&&ne.log(`Recording outcome: "${s}"${o>1?` (${o} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+o}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let o=n.indexOf(r);o>-1&&n.splice(o,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(o=>o(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(fe&&ne.error("Error while sending envelope:",r),r)):(fe&&ne.error("Transport disabled"),pt({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(r,n){let o={};return n.forEach(s=>{s&&ei(r,s,o)}),o}(this,e),Zn(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",o=!1,s=r.exception&&r.exception.values;if(s){o=!0;for(let h of s){let p=h.mechanism;if(p&&p.handled===!1){n=!0;break}}}let u=e.status==="ok";(u&&e.errors===0||u&&n)&&(Et(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Me(r=>{let n=0,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=1,e&&n>=e&&(clearInterval(o),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=ct(),o=Ft()){let s=this.getOptions(),u=Object.keys(this._integrations);return!r.integrations&&u.length>0&&(r.integrations=u),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),mc(s,e,r,n,this,o).then(h=>{if(h===null)return h;h.contexts={trace:tc(n),...h.contexts};let p=function(m,w){let C=w.getPropagationContext();return C.dsc||qi(C.traceId,m)}(this,n);return h.sdkProcessingMetadata={dynamicSamplingContext:p,...h.sdkProcessingMetadata},h})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(o=>o.event_id,o=>{fe&&(o instanceof je&&o.logLevel==="log"?ne.log(o.message):ne.warn(o))})}_processEvent(e,r,n){let o=this.getOptions(),{sampleRate:s}=o,u=oo(e),h=io(e),p=e.type||"error",m=`before send for type \`${p}\``,w=s===void 0?void 0:function(j){if(typeof j=="boolean")return Number(j);let M=typeof j=="string"?parseFloat(j):j;if(!(typeof M!="number"||isNaN(M)||M<0||M>1))return M;fe&&ne.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(j)} of type ${JSON.stringify(typeof j)}.`)}(s);if(h&&typeof w=="number"&&Math.random()>w)return this.recordDroppedEvent("sample_rate","error",e),pr(new je(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let C=p==="replay_event"?"replay":p,P=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,P).then(j=>{if(j===null)throw this.recordDroppedEvent("event_processor",C,e),new je("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return j;let M=function(D,V,$,z){let{beforeSend:ee,beforeSendTransaction:K,beforeSendSpan:se}=V;if(io($)&&ee)return ee($,z);if(oo($)){if($.spans&&se){let me=[];for(let Re of $.spans){let Ce=se(Re);Ce?me.push(Ce):(Ri||(Nt(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Ri=!0),D.recordDroppedEvent("before_send","span"))}$.spans=me}if(K){if($.spans){let me=$.spans.length;$.sdkProcessingMetadata={...$.sdkProcessingMetadata,spanCountBeforeProcessing:me}}return K($,z)}}return $}(this,o,j,r);return function(D,V){let $=`${V} must return \`null\` or a valid event.`;if(rr(D))return D.then(z=>{if(!bt(z)&&z!==null)throw new je($);return z},z=>{throw new je(`${V} rejected with ${z}`)});if(!bt(D)&&D!==null)throw new je($);return D}(M,m)}).then(j=>{if(j===null){if(this.recordDroppedEvent("before_send",C,e),u){let V=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",V)}throw new je(`${m} returned \`null\`, will not send event.`,"log")}let M=n&&n.getSession();if(!u&&M&&this._updateSessionFromEvent(M,j),u){let V=(j.sdkProcessingMetadata&&j.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(j.spans?j.spans.length:0);V>0&&this.recordDroppedEvent("before_send","span",V)}let D=j.transaction_info;if(u&&D&&j.transaction!==e.transaction){let V="custom";j.transaction_info={...D,source:V}}return this.sendEvent(j,r),j}).then(null,j=>{throw j instanceof je?j:(this.captureException(j,{data:{__sentry__:!0},originalException:j}),new je(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${j}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[o,s]=r.split(":");return{reason:o,category:s,quantity:n}})}_flushOutcomes(){fe&&ne.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0)return void(fe&&ne.log("No outcomes to send"));if(!this._dsn)return void(fe&&ne.log("No dsn provided, will not send outcomes"));fe&&ne.log("Sending outcomes:",e);let r=(n=e,Vt((o=this._options.tunnel&&gr(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:xt(),discarded_events:n}]]));var n,o;this.sendEnvelope(r)}}function io(t){return t.type===void 0}function oo(t){return t.type==="transaction"}class qc extends Fc{constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e};(function(n,o,s=[o],u="npm"){let h=n._metadata||{};h.sdk||(h.sdk={name:`sentry.javascript.${o}`,packages:s.map(p=>({name:`${u}:@sentry/${p}`,version:ot})),version:ot}),n._metadata=h})(r,"browser",["browser"],ge.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&ge.document&&ge.document.addEventListener("visibilitychange",()=>{ge.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return function(n,o,s,u){let h=dn(n,o,s&&s.syntheticException||void 0,u);return wt(h),h.level="error",s&&s.event_id&&(h.event_id=s.event_id),pt(h)}(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return function(o,s,u="info",h,p){let m=hn(o,s,h&&h.syntheticException||void 0,p);return m.level=u,h&&h.event_id&&(m.event_id=h.event_id),pt(m)}(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(hr&&ne.warn("SDK not enabled, will not capture user feedback."));let r=function(n,{metadata:o,tunnel:s,dsn:u}){let h={event_id:n.event_id,sent_at:new Date().toISOString(),...o&&o.sdk&&{sdk:{name:o.sdk.name,version:o.sdk.version}},...!!s&&!!u&&{dsn:gr(u)}};return Vt(h,[function(m){return[{type:"user_report"},m]}(n)])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}}let Vc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vr={};function ao(t){vr[t]=void 0}function Uc(t,e,r=function(n){let o=[];function s(u){return o.splice(o.indexOf(u),1)[0]||Promise.resolve(void 0)}return{$:o,add:function(u){if(!(n===void 0||o.length<n))return pr(new je("Not adding Promise because buffer limit was reached."));let h=u();return o.indexOf(h)===-1&&o.push(h),h.then(()=>s(h)).then(null,()=>s(h).then(null,()=>{})),h},drain:function(u){return new Me((h,p)=>{let m=o.length;if(!m)return h(!0);let w=setTimeout(()=>{u&&u>0&&h(!1)},u);o.forEach(C=>{pt(C).then(()=>{--m||(clearTimeout(w),h(!0))},p)})})}}}(t.bufferSize||64)){let n={};return{send:function(o){let s=[];if(eo(o,(p,m)=>{let w=to(m);if(function(C,P,j=Date.now()){return function(M,D){return M[D]||M.all||0}(C,P)>j}(n,w)){let C=so(p,m);t.recordDroppedEvent("ratelimit_backoff",w,C)}else s.push(p)}),s.length===0)return pt({});let u=Vt(o[0],s),h=p=>{eo(u,(m,w)=>{let C=so(m,w);t.recordDroppedEvent(p,to(w),C)})};return r.add(()=>e({body:Rc(u)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&fe&&ne.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),n=function(m,{statusCode:w,headers:C},P=Date.now()){let j={...m},M=C&&C["x-sentry-rate-limits"],D=C&&C["retry-after"];if(M)for(let V of M.trim().split(",")){let[$,z,,,ee]=V.split(":",5),K=parseInt($,10),se=1e3*(isNaN(K)?60:K);if(z)for(let me of z.split(";"))me==="metric_bucket"&&ee&&!ee.split(";").includes("custom")||(j[me]=P+se);else j.all=P+se}else D?j.all=P+function(V,$=Date.now()){let z=parseInt(`${V}`,10);if(!isNaN(z))return 1e3*z;let ee=Date.parse(`${V}`);return isNaN(ee)?6e4:ee-$}(D,P):w===429&&(j.all=P+6e4);return j}(n,p),p),p=>{throw h("network_error"),p})).then(p=>p,p=>{if(p instanceof je)return fe&&ne.error("Skipped sending event because buffer is full."),h("queue_overflow"),pt({});throw p})},flush:o=>r.drain(o)}}function so(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}function $c(t,e=function(r){let n=vr[r];if(n)return n;let o=we[r];if(Qr(o))return vr[r]=o.bind(we);let s=we.document;if(s&&typeof s.createElement=="function")try{let u=s.createElement("iframe");u.hidden=!0,s.head.appendChild(u);let h=u.contentWindow;h&&h[r]&&(o=h[r]),s.head.removeChild(u)}catch(u){Vc&&ne.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,u)}return o&&(vr[r]=o.bind(we))}("fetch")){let r=0,n=0;return Uc(t,function(o){let s=o.body.length;r+=s,n++;let u={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return ao("fetch"),pr("No fetch implementation available");try{return e(t.url,u).then(h=>(r-=s,n--,{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}))}catch(h){return ao("fetch"),r-=s,n--,pr(h)}})}function mn(t,e,r,n){let o={filename:t,function:e==="<anonymous>"?ut:e,in_app:!0};return r!==void 0&&(o.lineno=r),n!==void 0&&(o.colno=n),o}let Jc=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Bc=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Gc=/\((\S*)(?::(\d+))(?::(\d+))\)/,Yc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Wc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,zc=function(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,o=0)=>{let s=[],u=r.split(`
`);for(let h=n;h<u.length;h++){let p=u[h];if(p.length>1024)continue;let m=_i.test(p)?p.replace(_i,"$1"):p;if(!m.match(/\S*Error: /)){for(let w of e){let C=w(m);if(C){s.push(C);break}}if(s.length>=50+o)break}}return function(h){if(!h.length)return[];let p=Array.from(h);return/sentryWrapped/.test(cr(p).function||"")&&p.pop(),p.reverse(),bi.test(cr(p).function||"")&&(p.pop(),bi.test(cr(p).function||"")&&p.pop()),p.slice(0,50).map(m=>({...m,filename:m.filename||cr(p).filename,function:m.function||ut}))}(s.slice(o))}}([30,t=>{let e=Jc.exec(t);if(e){let[,n,o,s]=e;return mn(n,ut,+o,+s)}let r=Bc.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let s=Gc.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}let[n,o]=co(r[1]||ut,r[2]);return mn(o,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,t=>{let e=Yc.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let o=Wc.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let r=e[3],n=e[1]||ut;return[n,r]=co(n,r),mn(r,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),co=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:ut,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var gn="new",uo="loading",lo="loaded",yr="joining-meeting",Xe="joined-meeting",Ze="left-meeting",Ye="error",Hc="blocked",Qc="off",Kc="sendable",Xc="loading",Zc="interrupted",ho="playable",_r="unknown",po="full",eu="lobby",tu="none",fo="base",mo="*",ru="ejected",nu="nbf-room",iu="nbf-token",ou="exp-room",au="exp-token",vn="no-room",su="meeting-full",go="end-of-life",cu="not-allowed",vo="connection-error",uu="cam-in-use",lu="mic-in-use",du="cam-mic-in-use",hu="permissions",pu="undefined-mediadevices",fu="not-found",mu="constraints",gu="unknown",yo="iframe-ready-for-launch-config",_o="iframe-launch-config",bo="theme-updated",So="loading",wo="load-attempt-failed",yn="loaded",Eo="started-camera",ko="camera-error",To="joining-meeting",Co="joined-meeting",Oo="left-meeting",Ao="participant-joined",Mo="participant-updated",Po="participant-left",Io="participant-counts-updated",Do="access-state-updated",jo="meeting-session-summary-updated",Lo="meeting-session-state-updated",vu="meeting-session-data-error",Ro="waiting-participant-added",No="waiting-participant-updated",xo="waiting-participant-removed",Fo="track-started",qo="track-stopped",Vo="transcription-started",Uo="transcription-stopped",$o="transcription-error",_n="recording-started",bn="recording-stopped",Jo="recording-stats",Bo="recording-error",Go="recording-upload-completed",Yo="recording-data",Wo="app-message",zo="transcription-message",Ho="remote-media-player-started",Qo="remote-media-player-updated",Ko="remote-media-player-stopped",Xo="local-screen-share-started",Zo="local-screen-share-stopped",ea="local-screen-share-canceled",ta="active-speaker-change",ra="active-speaker-mode-change",na="network-quality-change",ia="network-connection",oa="cpu-load-change",aa="face-counts-updated",Ut="fullscreen",$t="exited-fullscreen",sa="live-streaming-started",ca="live-streaming-updated",ua="live-streaming-stopped",la="live-streaming-error",da="lang-updated",ha="receive-settings-updated",Sn="input-settings-updated",wn="nonfatal-error",En="error",kn=4096,pa=102400,Tn="iframe-call-message",fa="local-screen-start",ma="daily-method-update-live-streaming-endpoints",br="transmit-log",We="daily-custom-track",Sr={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},ga={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Cn={PLAY:"play",PAUSE:"pause"},On=["jpg","png","jpeg"],va="sip-call-transfer";function Pe(){return!ce()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function ce(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function ya(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function _a(){if(ce()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var An="none",yu=function(){try{var t,e=document.createElement("canvas"),r=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,t=e.getContext("webgl2"));var n=t!=null;return e.remove(),n?r?"software":"hardware":An}catch{return An}}();function ba(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!ce()&&yu!==An&&(t?!Ea()&&["Chrome","Firefox"].includes(et()):function(){if(Ea())return!1;var e=et();if(e==="Safari"){var r=In();if(r.major<15||r.major===15&&r.minor<4)return!1}return e==="Chrome"?Pn().major>=77:e==="Firefox"?Dn().major>=97:["Chrome","Firefox","Safari"].includes(e)}())}function Sa(){if(ce()||wa()||typeof AudioWorkletNode>"u")return!1;switch(et()){case"Chrome":case"Firefox":return!0;case"Safari":var t=wr();return t.major>17||t.major===17&&t.minor>=4}return!1}function Mn(){return ya()&&typeof MediaStreamTrack<"u"&&!function(){var t,e=et();if(!Pe())return!0;switch(e){case"Chrome":return(t=Pn()).major&&t.major>0&&t.major<75;case"Firefox":return(t=Dn()).major<91;case"Safari":return(t=In()).major<13||t.major===13&&t.minor<1;default:return!0}}()}function wa(){return Pe().match(/Linux; Android/)}function Ea(){var t,e=Pe(),r=e.match(/Mac/)&&(!ce()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||r)||!!Pe().match(/DailyAnd\//)||void 0}function et(){if(typeof window<"u"){var t=Pe();return ka()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||Ta()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function wr(){switch(et()){case"Chrome":return Pn();case"Safari":return In();case"Firefox":return Dn();case"Edge":return function(){var t=0,e=0;if(typeof window<"u"){var r=Pe().match(/Edge\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}}()}}function Pn(){var t=0,e=0,r=0,n=0,o=!1;if(typeof window<"u"){var s=Pe(),u=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(u)try{t=parseInt(u[1]),e=parseInt(u[2]),r=parseInt(u[3]),n=parseInt(u[4]),o=s.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:r,patch:n,opera:o}}function ka(){return!!Pe().match(/iPad|iPhone|iPod/i)&&ya()}function Ta(){return Pe().indexOf("AppleWebKit/605.1.15")>-1}function In(){var t=0,e=0,r=0;if(typeof window<"u"){var n=Pe().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2]),r=parseInt(n[4])}catch{}else(ka()||Ta())&&(t=14,e=0,r=3)}return{major:t,minor:e,point:r}}function Dn(){var t=0,e=0;if(typeof window<"u"){var r=Pe().match(/Firefox\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}}var Ca=function(){return f(function t(){N(this,t)},[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,r){Se()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,r){Se()}},{key:"sendMessageToCallMachine",value:function(t,e,r,n){Se()}},{key:"sendMessageToDailyJs",value:function(t,e){Se()}},{key:"removeListener",value:function(t){Se()}}])}();function Oa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oa(Object(r),!0).forEach(function(n){L(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aa=function(){return!!t})()}var _u=function(t){function e(){var r,n,o,s;return N(this,e),n=this,o=v(o=e),(r=g(n,Aa()?Reflect.construct(o,[],v(n).constructor):o.apply(n,s)))._wrappedListeners={},r._messageCallbacks={},r}return B(e,t),f(e,[{key:"addListenerForMessagesFromCallMachine",value:function(r,n,o){var s=this,u=function(h){if(h.data&&h.data.what==="iframe-call-message"&&(!h.data.callClientId||h.data.callClientId===n)&&(!h.data.from||h.data.from!=="module")){var p=jn({},h.data);if(delete p.from,p.callbackStamp&&s._messageCallbacks[p.callbackStamp]){var m=p.callbackStamp;s._messageCallbacks[m].call(o,p),delete s._messageCallbacks[m]}delete p.what,delete p.callbackStamp,r.call(o,p)}};this._wrappedListeners[r]=u,window.addEventListener("message",u)}},{key:"addListenerForMessagesFromDailyJs",value:function(r,n,o){var s=function(u){var h;if(!(!u.data||u.data.what!==Tn||!u.data.action||u.data.from&&u.data.from!=="module"||u.data.callClientId&&n&&u.data.callClientId!==n||u!=null&&(h=u.data)!==null&&h!==void 0&&h.callFrameId)){var p=u.data;r.call(o,p)}};this._wrappedListeners[r]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(r,n,o,s){if(!o)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var u=jn({},r);if(u.what=Tn,u.from="module",u.callClientId=o,n){var h=Ve();this._messageCallbacks[h]=n,u.callbackStamp=h}var p=s?s.contentWindow:window,m=this._callMachineTargetOrigin(s);m&&p.postMessage(u,m)}},{key:"sendMessageToDailyJs",value:function(r,n){r.what=Tn,r.callClientId=n,r.from="embedded",window.postMessage(r,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(r){var n=this._wrappedListeners[r];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[r])}},{key:"forwardPackagedMessageToCallMachine",value:function(r,n,o){var s=jn({},r);s.callClientId=o;var u=n?n.contentWindow:window,h=this._callMachineTargetOrigin(n);h&&u.postMessage(s,h)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(r,n){var o=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var u=s.data;r(u)}};return this._wrappedListeners[r]=o,window.addEventListener("message",o),r}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(r){var n=this._wrappedListeners[r];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[r])}},{key:"_callMachineTargetOrigin",value:function(r){return r?r.src?new URL(r.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}(Ca);function Ma(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Pa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pa=function(){return!!t})()}var bu=function(t){function e(){var r,n,o,s;return N(this,e),n=this,o=v(o=e),r=g(n,Pa()?Reflect.construct(o,[],v(n).constructor):o.apply(n,s)),window.callMachineToDailyJsEmitter=window.callMachineToDailyJsEmitter||new J.EventEmitter,window.dailyJsToCallMachineEmitter=window.dailyJsToCallMachineEmitter||new J.EventEmitter,r._wrappedListeners={},r._messageCallbacks={},r}return B(e,t),f(e,[{key:"addListenerForMessagesFromCallMachine",value:function(r,n,o){this._addListener(r,window.callMachineToDailyJsEmitter,n,o,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(r,n,o){this._addListener(r,window.dailyJsToCallMachineEmitter,n,o,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(r,n,o){this._sendMessage(r,window.dailyJsToCallMachineEmitter,o,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(r,n){this._sendMessage(r,window.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(r){var n=this._wrappedListeners[r];n&&(window.callMachineToDailyJsEmitter.removeListener("message",n),window.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[r])}},{key:"_addListener",value:function(r,n,o,s,u){var h=this,p=function(m){if(m.callClientId===o){if(m.callbackStamp&&h._messageCallbacks[m.callbackStamp]){var w=m.callbackStamp;h._messageCallbacks[w].call(s,m),delete h._messageCallbacks[w]}r.call(s,m)}};this._wrappedListeners[r]=p,n.addListener("message",p)}},{key:"_sendMessage",value:function(r,n,o,s,u){var h=function(m){for(var w=1;w<arguments.length;w++){var C=arguments[w]!=null?arguments[w]:{};w%2?Ma(Object(C),!0).forEach(function(P){L(m,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(C)):Ma(Object(C)).forEach(function(P){Object.defineProperty(m,P,Object.getOwnPropertyDescriptor(C,P))})}return m}({},r);if(h.callClientId=o,s){var p=Ve();this._messageCallbacks[p]=s,h.callbackStamp=p}n.emit("message",h)}}])}(Ca),Ln="replace",Rn="shallow-merge",Ia=[Ln,Rn],Su=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.data,n=e.mergeStrategy,o=n===void 0?Ln:n;N(this,t),t._validateMergeStrategy(o),t._validateData(r,o),this.mergeStrategy=o,this.data=r}return f(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,r){return Object.keys(e).length===0&&r===Rn}},{key:"_validateMergeStrategy",value:function(e){if(!Ia.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Ia,"]"))}},{key:"_validateData",value:function(e,r){if(!function(h){if(h==null||S(h)!=="object")return!1;var p=Object.getPrototypeOf(h);return p==null||p===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(e),r===Ln){var o=JSON.parse(n);re(o,e)||console.warn("The meeting session data provided will be modified when serialized.",o,e)}else if(r===Rn){for(var s in e)if(Object.hasOwnProperty.call(e,s)&&e[s]!==void 0){var u=JSON.parse(JSON.stringify(e[s]));re(e[s],u)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",u,e[s])}}}catch(h){throw Error("Meeting session data must be serializable to JSON: ".concat(h))}if(n.length>pa)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(pa,"."))}}])}();function Da(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Da=function(){return!!t})()}function Nn(t){var e=typeof Map=="function"?new Map:void 0;return Nn=function(r){if(r===null||!function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch{return typeof o=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,n)}function n(){return function(o,s,u){if(Da())return Reflect.construct.apply(null,arguments);var h=[null];h.push.apply(h,s);var p=new(o.bind.apply(o,h));return u&&Z(p,u.prototype),p}(r,arguments,v(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Z(n,r)},Nn(t)}function ja(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ja=function(){return!!t})()}function La(t){var e,r=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}}var wu=function(){return f(function t(e){N(this,t),this._currentLoad=null,this._callClientId=e},[{key:"load",value:function(){var t,e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Eu(r,function(){n(!1)},function(s,u){u||La(e._callClientId),o(s,u)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),La(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),Eu=function(){return f(function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;N(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(r){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(r,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new Ra(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())},3e3))};this._currentAttempt=new Ra(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),xn=function(t){function e(){return N(this,e),r=this,o=arguments,n=v(n=e),g(r,ja()?Reflect.construct(n,o||[],v(r).constructor):n.apply(r,o));var r,n,o}return B(e,t),f(e)}(Nn(Error)),Er=2e4,Ra=function(){return f(function e(r,n,o){N(this,e),this._loadAttemptImpl=ce()||!r.avoidEval?new ku(r,n,o):new Tu(r,n,o)},[{key:"start",value:(t=x(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t}(),ku=function(){return f(function o(s,u,h){N(this,o),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=u,this._failureCallback=h},[{key:"start",value:(n=x(function*(){var o=Kt(this._dailyConfig);!(yield this._tryLoadFromIOSCache(o))&&this._loadFromNetwork(o)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=x(function*(o){if(!this._iosCache)return!1;try{var s=yield this._iosCache.get(o);return!!this.cancelled||!!s&&(s.code?(Function('"use strict";'+s.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=s.refetchHeaders,!1))}catch{return!1}}),function(o){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=x(function*(o){var s=this;this._networkTimeout=setTimeout(function(){s._networkTimedOut=!0,s._failureCallback({msg:"Timed out (>".concat(Er," ms) when loading call object bundle ").concat(o),type:"timeout"})},Er);try{var u=this._refetchHeaders?{headers:this._refetchHeaders}:{},h=yield fetch(o,u);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new xn;var p=yield this._getBundleCodeFromResponse(o,h);if(this.cancelled)throw new xn;Function('"use strict";'+p)(),this._iosCache&&this._iosCache.set(o,p,h.headers),this.succeeded=!0,this._successCallback()}catch(m){if(clearTimeout(this._networkTimeout),m instanceof xn||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(o,": ").concat(m),type:m.message})}}),function(o){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=x(function*(o,s){if(s.ok)return yield s.text();if(this._iosCache&&s.status===304)return(yield this._iosCache.renew(o,s.headers)).code;throw new Error("Received ".concat(s.status," response"))}),function(o,s){return t.apply(this,arguments)})}]);var t,e,r,n}(),Tu=function(){return f(function t(e,r,n){N(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=r,this._failureCallback=n,this._attemptId=Ve(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=Kt(this._dailyConfig);(typeof document>"u"?"undefined":S(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(Er," ms) when loading call object bundle ").concat(t),type:"timeout"})},Er);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},n.onerror=function(o){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(o.target.src),type:o.message})},n.src=t,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),kr=function(t,e,r){return Ou(t.local,e,r)===!0},Cu=function(t,e,r){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},Ct=function(t,e,r,n){var o=Au(t,e,r,n);return o&&o.pendingTrack},Ou=function(t,e,r){if(!t)return!1;var n=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},o=t.public.subscribedTracks;return o&&o[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&o[e].custom?[!0,"staged"].includes(o[e].custom)?n(o[e].custom):n(o[e].custom[r]):n(o[e][r]):!o||n(o.ALL)},Au=function(t,e,r,n){var o=Object.values(t.streams||{}).filter(function(s){return s.participantId===e&&s.type===r&&s.pendingTrack&&s.pendingTrack.kind===n}).sort(function(s,u){return new Date(u.starttime)-new Date(s.starttime)});return o&&o[0]},Mu=function(t,e){var r=t.local.public.customTracks;if(r&&r[e])return r[e].track};function Na(t,e){for(var r=e.getState(),n=0,o=["cam","screen"];n<o.length;n++)for(var s=o[n],u=0,h=["video","audio"];u<h.length;u++){var p=h[u],m=s==="cam"?p:"screen".concat(p.charAt(0).toUpperCase()+p.slice(1)),w=t.tracks[m];if(w){var C=t.local?Cu(r,s,p):Ct(r,t.session_id,s,p);w.state==="playable"&&(w.track=C),w.persistentTrack=C}}}function xa(t,e){try{var r=e.getState();for(var n in t.tracks)if(!Pu(n)){var o=t.tracks[n].kind;if(o){var s=t.tracks[n];if(s){var u=t.local?Mu(r,n):Ct(r,t.session_id,n,o);s.state==="playable"&&(t.tracks[n].track=u),s.persistentTrack=u}}else console.error("unknown type for custom track")}}catch(h){console.error(h)}}function Pu(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function Fa(t,e,r){var n=r.getState();if(t.local){if(t.audio)try{t.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var o=!0;try{var s=n.participants[t.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(o=!1)}catch(w){console.error(w)}if(!o)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(n.streams,t.audio&&kr(n,t.session_id,"cam-audio")){var u=Ct(n,t.session_id,"cam","audio");u&&(e&&e.audioTrack&&e.audioTrack.id===u.id?t.audioTrack=u:u.muted||(t.audioTrack=u)),t.audioTrack||(t.audio=!1)}if(t.video&&kr(n,t.session_id,"cam-video")){var h=Ct(n,t.session_id,"cam","video");h&&(e&&e.videoTrack&&e.videoTrack.id===h.id?t.videoTrack=h:h.muted||(t.videoTrack=h)),t.videoTrack||(t.video=!1)}if(t.screen&&kr(n,t.session_id,"screen-audio")){var p=Ct(n,t.session_id,"screen","audio");p&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===p.id?t.screenAudioTrack=p:p.muted||(t.screenAudioTrack=p))}if(t.screen&&kr(n,t.session_id,"screen-video")){var m=Ct(n,t.session_id,"screen","video");m&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===m.id?t.screenVideoTrack=m:m.muted||(t.screenVideoTrack=m))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(w){console.error("unexpected error matching up tracks",w)}}}function qa(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Ne=new Map,Ot=null;function Va(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var xe=new Map,Jt=null;function Iu(t){Ua()?function(e){Ne.has(e)||(Ne.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(r){Ne.has(e)&&(Ne.get(e).lastDevicesString=JSON.stringify(r),Ot||(Ot=function(){var n=x(function*(){var o,s=yield navigator.mediaDevices.enumerateDevices(),u=function(m,w){var C=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!C){if(Array.isArray(m)||(C=function($,z){if($){if(typeof $=="string")return qa($,z);var ee={}.toString.call($).slice(8,-1);return ee==="Object"&&$.constructor&&(ee=$.constructor.name),ee==="Map"||ee==="Set"?Array.from($):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?qa($,z):void 0}}(m))||w&&m&&typeof m.length=="number"){C&&(m=C);var P=0,j=function(){};return{s:j,n:function(){return P>=m.length?{done:!0}:{done:!1,value:m[P++]}},e:function($){throw $},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,D=!0,V=!1;return{s:function(){C=C.call(m)},n:function(){var $=C.next();return D=$.done,$},e:function($){V=!0,M=$},f:function(){try{D||C.return==null||C.return()}finally{if(V)throw M}}}}(Ne.keys());try{for(u.s();!(o=u.n()).done;){var h=o.value,p=JSON.stringify(s);p!==Ne.get(h).lastDevicesString&&(Ne.get(h).lastDevicesString=p,h(s))}}catch(m){u.e(m)}finally{u.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Ot)))}).catch(function(){}))}(t):function(e){xe.has(e)||(xe.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(r){xe.has(e)&&(xe.get(e).lastDevicesString=JSON.stringify(r),Jt||(Jt=setInterval(x(function*(){var n,o=yield navigator.mediaDevices.enumerateDevices(),s=function(p,m){var w=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!w){if(Array.isArray(p)||(w=function(V,$){if(V){if(typeof V=="string")return Va(V,$);var z={}.toString.call(V).slice(8,-1);return z==="Object"&&V.constructor&&(z=V.constructor.name),z==="Map"||z==="Set"?Array.from(V):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?Va(V,$):void 0}}(p))||m&&p&&typeof p.length=="number"){w&&(p=w);var C=0,P=function(){};return{s:P,n:function(){return C>=p.length?{done:!0}:{done:!1,value:p[C++]}},e:function(V){throw V},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,M=!0,D=!1;return{s:function(){w=w.call(p)},n:function(){var V=w.next();return M=V.done,V},e:function(V){D=!0,j=V},f:function(){try{M||w.return==null||w.return()}finally{if(D)throw j}}}}(xe.keys());try{for(s.s();!(n=s.n()).done;){var u=n.value,h=JSON.stringify(o);h!==xe.get(u).lastDevicesString&&(xe.get(u).lastDevicesString=h,u(o))}}catch(p){s.e(p)}finally{s.f()}}),3e3)))}))}(t)}function Ua(){var t;return ce()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var Du=new Set;function $a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$a(Object(r),!0).forEach(function(n){L(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$a(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Bt=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),ju=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Gt=Object.values(Bt),Ja=["v","a","sv","sa","cv","ca"],Lu=(Object.freeze(Gt.reduce(function(t,e,r){return t[e]=Ja[r],t},{})),Object.freeze(Ja.reduce(function(t,e,r){return t[e]=Gt[r],t},{})),[Bt.VIDEO,Bt.AUDIO,Bt.SCREEN_VIDEO,Bt.SCREEN_AUDIO]),Ba=Object.values(ju),Ga=["p","s","t"],Ya=(Object.freeze(Ba.reduce(function(t,e,r){return t[e]=Ga[r],t},{})),Object.freeze(Ga.reduce(function(t,e,r){return t[e]=Ba[r],t},{})),function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.base,n=e.byUserId,o=e.byParticipantId;N(this,t),this.base=r,this.byUserId=n,this.byParticipantId=o}return f(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof _e?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var r in e.byUserId={},this.byUserId){var n=this.byUserId[r];e.byUserId[r]=n instanceof _e?n.clone():n}if(this.byParticipantId!==void 0)for(var o in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[o];e.byParticipantId[o]=s instanceof _e?s.clone():s}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof _e&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in e.byUserId={},this.byUserId){var n=this.byUserId[r];e.byUserId[r]=n instanceof _e?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var o in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[o];e.byParticipantId[o]=s instanceof _e?s.toJSONObject():s}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in e.u={},this.byUserId){var n=this.byUserId[r];e.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var o in e.p={},this.byParticipantId){var s=this.byParticipantId[o];e.p[o]=typeof s=="boolean"?s:s.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof _e&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(e){var r=R(e,2),n=r[0],o=r[1];return[n,o instanceof _e?o.normalize():o]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(e){var r=R(e,2),n=r[0],o=r[1];return[n,o instanceof _e?o.normalize():o]}))),this}}],[{key:"fromJSONObject",value:function(e){var r,n,o;if(e.base!==void 0&&(r=typeof e.base=="boolean"?e.base:_e.fromJSONObject(e.base)),e.byUserId!==void 0)for(var s in n={},e.byUserId){var u=e.byUserId[s];n[s]=typeof u=="boolean"?u:_e.fromJSONObject(u)}if(e.byParticipantId!==void 0)for(var h in o={},e.byParticipantId){var p=e.byParticipantId[h];o[h]=typeof p=="boolean"?p:_e.fromJSONObject(p)}return new t({base:r,byUserId:n,byParticipantId:o})}},{key:"fromMinifiedJSONObject",value:function(e){var r,n,o;if(e.b!==void 0&&(r=typeof e.b=="boolean"?e.b:_e.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var s in n={},e.u){var u=e.u[s];n[s]=typeof u=="boolean"?u:_e.fromMinifiedJSONObject(u)}if(e.p!==void 0)for(var h in o={},e.p){var p=e.p[h];o[h]=typeof p=="boolean"?p:_e.fromMinifiedJSONObject(p)}return new t({base:r,byUserId:n,byParticipantId:o})}},{key:"validateJSONObject",value:function(e){if(S(e)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,o=Object.keys(e);n<o.length;n++){var s=o[n];if(!r.includes(s))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(s==="base"){var u=R(_e.validateJSONObject(e.base,!0),2),h=u[0],p=u[1];if(!h)return[!1,p]}else{if(S(e[s])!=="object")return[!1,"invalid (non-object) value for field '".concat(s,"' in canReceive")];for(var m=0,w=Object.values(e[s]);m<w.length;m++){var C=w[m],P=R(_e.validateJSONObject(C),2),j=P[0],M=P[1];if(!j)return[!1,M]}}}return[!0]}}])}()),_e=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.video,n=e.audio,o=e.screenVideo,s=e.screenAudio,u=e.customVideo,h=e.customAudio;N(this,t),this.video=r,this.audio=n,this.screenVideo=o,this.screenAudio=s,this.customVideo=u,this.customAudio=h}return f(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=tt({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=tt({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=tt({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=tt({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=tt({},this.customVideo)),this.customAudio!==void 0&&(e.ca=tt({},this.customAudio)),e}},{key:"normalize",value:function(){function e(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?tt({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?tt({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,r){if(typeof e=="boolean")return[!0];if(S(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(e),o=0,s=n;o<s.length;o++){var u=s[o];if(!Gt.includes(u))return[!1,"invalid media type '".concat(u,"' in canReceive")];if(Lu.includes(u)){if(typeof e[u]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(u,"' in canReceive")]}else{if(S(e[u])!=="object")return[!1,"invalid (non-object) value for media type '".concat(u,"' in canReceive")];for(var h=0,p=Object.values(e[u]);h<p.length;h++)if(typeof p[h]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(u,"' in canReceive")];if(r&&e[u]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(u,"'")]}}return r&&n.length!==Gt.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Gt.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),Ru=["result"],Nu=["preserveIframe"];function Wa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wa(Object(r),!0).forEach(function(n){L(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function za(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(za=function(){return!!t})()}function Ha(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(p,m){if(p){if(typeof p=="string")return Qa(p,m);var w={}.toString.call(p).slice(8,-1);return w==="Object"&&p.constructor&&(w=p.constructor.name),w==="Map"||w==="Set"?Array.from(p):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?Qa(p,m):void 0}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(p){throw p},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,u=!0,h=!1;return{s:function(){r=r.call(t)},n:function(){var p=r.next();return u=p.done,p},e:function(p){h=!0,s=p},f:function(){try{u||r.return==null||r.return()}finally{if(h)throw s}}}}function Qa(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ft={},Ka="video",xu="voice",Xa=ce()?{data:{}}:{data:{},topology:"none"},Za={present:0,hidden:0},es={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Fn=Object.keys(es),ts=["state","volume","simulcastEncodings"],rs={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Tr={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},qn={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},mt={customIntegrations:{validate:hs,help:ls()},customTrayButtons:{validate:ds,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Tr))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return ps(t,rs)},help:"reactNativeConfig should look like ".concat(JSON.stringify(rs),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return is(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,r={customTrack:We};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,r={customTrack:We};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var o=0,s=Object.keys(n);o<s.length;o++){var u=s[o];if(!e.includes(u))return console.error('unsupported color "'.concat(u,'". Valid colors: ').concat(e.join(", "))),!1;if(!n[u].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(u,' theme color should be provided in valid hex color format. Received: "').concat(n[u],'"')),!1}return!0};return S(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?r(t.light.colors)&&r(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):r(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return os(t,{allowAllParticipantsKey:!1})},help:us({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(o){return console.error("Failed to validate send settings",o),!1}}(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var r;return!!as(t)&&(e._inputSettings||(e._inputSettings={}),ss(t,(r=e.properties)===null||r===void 0?void 0:r.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:$n()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Cr={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var r in t.cam)if(r!=="div"&&r!=="video")return!1}if(t.screen){for(var n in t.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(t)||!ce()&&t==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],o=function(s){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var h in s)if(h==="custom"){if(!r.includes(s[h])&&!o(s[h],!0))return!1}else{var p=!u&&!n.includes(h),m=!r.includes(s[h]);if(p||m)return!1}return!0};return o(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(ce()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=R(r[e],2),o=n[0],s=n[1];switch(o){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var u,h=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],p=Ha(s);try{for(p.s();!(u=p.n()).done;){var m=u.value;if(!h.includes(m))return!1}}catch($){p.e($)}finally{p.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canSend=new Set(s));break;case"canReceive":var w=R(Ya.validateJSONObject(s),2),C=w[0],P=w[1];if(!C)return console.error(P),!1;break;case"canAdmin":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var j,M=["participants","streaming","transcription"],D=Ha(s);try{for(D.s();!(j=D.n()).done;){var V=j.value;if(!M.includes(V))return!1}}catch($){D.e($)}finally{D.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=x(function*(e){return new Promise(function(r,n){var o=[];e.forEach(function(s){return Promise.resolve(s).then(function(u){r(u)}).catch(function(u){o.push(u),o.length===e.length&&n(o)})})})});return function(e){return t.apply(this,arguments)}}());var Fu=function(t){function e(i){var d,l,_,b,O,F,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,e),_=this,b=v(b=e),L(l=g(_,za()?Reflect.construct(b,[],v(_).constructor):b.apply(_,O)),"startListeningForDeviceChanges",function(){Iu(l.handleDeviceChange)}),L(l,"stopListeningForDeviceChanges",function(){var Q;Q=l.handleDeviceChange,Ua()?function(ae){Ne.has(ae)&&(Ne.delete(ae),Ne.size===0&&Ot&&(navigator.mediaDevices.removeEventListener("devicechange",Ot),Ot=null))}(Q):function(ae){xe.has(ae)&&(xe.delete(ae),xe.size===0&&Jt&&(clearInterval(Jt),Jt=null))}(Q)}),L(l,"handleDeviceChange",function(Q){Q=Q.map(function(ae){return JSON.parse(JSON.stringify(ae))}),l.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Q})}),L(l,"handleNativeAppStateChange",function(){var Q=x(function*(ae){if(ae==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield l.destroy());var qe=ae==="active";l.disableReactNativeAutoDeviceManagement("video")||(qe?l.camUnmutedBeforeLosingNativeActiveState&&l.setLocalVideo(!0):(l.camUnmutedBeforeLosingNativeActiveState=l.localVideo(),l.camUnmutedBeforeLosingNativeActiveState&&l.setLocalVideo(!1)))});return function(ae){return Q.apply(this,arguments)}}()),L(l,"handleNativeAudioFocusChange",function(Q){l.disableReactNativeAutoDeviceManagement("audio")||(l._hasNativeAudioFocus=Q,l.toggleParticipantAudioBasedOnNativeAudioFocus(),l._hasNativeAudioFocus?l.micUnmutedBeforeLosingNativeAudioFocus&&l.setLocalAudio(!0):(l.micUnmutedBeforeLosingNativeAudioFocus=l.localAudio(),l.setLocalAudio(!1)))}),L(l,"handleNativeSystemScreenCaptureStop",function(){l.stopScreenShare()}),!Mn()&&!ce())throw new Error("WebRTC not supported or suppressed");if(l.strictMode=U.strictMode===void 0||U.strictMode,l.allowMultipleCallInstances=(d=U.allowMultipleCallInstances)!==null&&d!==void 0&&d,Object.keys(ft).length&&(l._logDuplicateInstanceAttempt(),!l.allowMultipleCallInstances)){if(l.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),l.callClientId=Ve(),ft[(F=l).callClientId]=F,window._daily.instances[l.callClientId]={},l._sharedTracks={},window._daily.instances[l.callClientId].tracks=l._sharedTracks,U.dailyJsVersion=e.version(),l._iframe=i,l._callObjectMode=U.layout==="none"&&!l._iframe,l._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},U.showLocalVideo!==void 0?l._callObjectMode?console.error("showLocalVideo is not available in call object mode"):l._showLocalVideo=!!U.showLocalVideo:l._showLocalVideo=!0,U.showParticipantsBar!==void 0?l._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):l._showParticipantsBar=!!U.showParticipantsBar:l._showParticipantsBar=!0,U.customIntegrations!==void 0?l._callObjectMode?console.error("customIntegrations is not available in call object mode"):l._customIntegrations=U.customIntegrations:l._customIntegrations={},U.customTrayButtons!==void 0?l._callObjectMode?console.error("customTrayButtons is not available in call object mode"):l._customTrayButtons=U.customTrayButtons:l._customTrayButtons={},U.activeSpeakerMode!==void 0?l._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):l._activeSpeakerMode=!!U.activeSpeakerMode:l._activeSpeakerMode=!1,U.receiveSettings?l._callObjectMode?l._receiveSettings=U.receiveSettings:console.error("receiveSettings is only available in call object mode"):l._receiveSettings={},l.validateProperties(U),l.properties=X({},U),l._inputSettings||(l._inputSettings={}),l._callObjectLoader=l._callObjectMode?new wu(l.callClientId):null,l._callState=gn,l._isPreparingToJoin=!1,l._accessState={access:_r},l._meetingSessionSummary={},l._finalSummaryOfPrevSession={},l._meetingSessionState=Jn(Xa,l._callObjectMode),l._nativeInCallAudioMode=Ka,l._participants={},l._isScreenSharing=!1,l._participantCounts=Za,l._rmpPlayerState={},l._waitingParticipants={},l._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},l._activeSpeaker={},l._localAudioLevel=0,l._isLocalAudioLevelObserverRunning=!1,l._remoteParticipantsAudioLevel={},l._isRemoteParticipantsAudioLevelObserverRunning=!1,l._maxAppMessageSize=kn,l._messageChannel=ce()?new bu:new _u,l._iframe&&(l._iframe.requestFullscreen?l._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===l._iframe?(l.emitDailyJSEvent({action:Ut}),l.sendMessageToCallMachine({action:Ut})):(l.emitDailyJSEvent({action:$t}),l.sendMessageToCallMachine({action:$t}))}):l._iframe.webkitRequestFullscreen&&l._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===l._iframe?(l.emitDailyJSEvent({action:Ut}),l.sendMessageToCallMachine({action:Ut})):(l.emitDailyJSEvent({action:$t}),l.sendMessageToCallMachine({action:$t}))})),ce()){var G=l.nativeUtils();G.addAudioFocusChangeListener&&G.removeAudioFocusChangeListener&&G.addAppStateChangeListener&&G.removeAppStateChangeListener&&G.addSystemScreenCaptureStopListener&&G.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),l._hasNativeAudioFocus=!0,G.addAudioFocusChangeListener(l.handleNativeAudioFocusChange),G.addAppStateChangeListener(l.handleNativeAppStateChange),G.addSystemScreenCaptureStopListener(l.handleNativeSystemScreenCaptureStop)}return l._callObjectMode&&l.startListeningForDeviceChanges(),l._messageChannel.addListenerForMessagesFromCallMachine(l.handleMessageFromCallMachine,l.callClientId,l),l}return B(e,t),f(e,[{key:"destroy",value:(ks=x(function*(){var i;try{yield this.leave()}catch{}var d=this._iframe;if(d){var l=d.parentElement;l&&l.removeChild(d)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ce()){var _=this.nativeUtils();_.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),_.removeAppStateChangeListener(this.handleNativeAppStateChange),_.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete ft[this.callClientId],!((i=window)===null||i===void 0||(i=i._daily)===null||i===void 0)&&i.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return ks.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(i){var d=i.bodyClass,l=i.cssFile,_=i.cssText;return ue(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(l),bodyClass:d,cssText:_}),this}},{key:"iframe",value:function(){return ue(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Le(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Le(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(i,d){for(var l in d){if(!Cr[l])throw new Error("unrecognized updateParticipant property ".concat(l));if(Cr[l].validate&&!Cr[l].validate(d[l],this,this._participants[i]))throw new Error(Cr[l].help)}}},{key:"updateParticipant",value:function(i,d){return this._participants.local&&this._participants.local.session_id===i&&(i="local"),i&&d&&(this.validateParticipantProperties(i,d),this.sendMessageToCallMachine({action:"update-participant",id:i,properties:d})),this}},{key:"updateParticipants",value:function(i){var d=this._participants.local&&this._participants.local.session_id;for(var l in i)l===d&&(l="local"),l&&i[l]&&this.validateParticipantProperties(l,i[l]);return this.sendMessageToCallMachine({action:"update-participants",participants:i}),this}},{key:"updateWaitingParticipant",value:(Es=x(function*(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Le(this._callObjectMode,"updateWaitingParticipant()"),he(this._callState,"updateWaitingParticipant()"),typeof d!="string"||S(l)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(_,b){i.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:d,updates:l},function(O){O.error&&b(O.error),O.id||b(new Error("unknown error in updateWaitingParticipant()")),_({id:O.id})})})}),function(){return Es.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(ws=x(function*(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Le(this._callObjectMode,"updateWaitingParticipants()"),he(this._callState,"updateWaitingParticipants()"),S(d)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(l,_){i.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:d},function(b){b.error&&_(b.error),b.ids||_(new Error("unknown error in updateWaitingParticipants()")),l({ids:b.ids})})})}),function(){return ws.apply(this,arguments)})},{key:"requestAccess",value:(Ss=x(function*(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=d.access,_=l===void 0?{level:po}:l,b=d.name,O=b===void 0?"":b;return Le(this._callObjectMode,"requestAccess()"),he(this._callState,"requestAccess()"),new Promise(function(F,U){i.sendMessageToCallMachine({action:"daily-method-request-access",access:_,name:O},function(G){G.error&&U(G.error),G.access||U(new Error("unknown error in requestAccess()")),F({access:G.access,granted:G.granted})})})}),function(){return Ss.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in d&&(ce()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),d={}):i&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),d={})),this.sendMessageToCallMachine({action:"local-audio",state:i,options:d}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(i){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:i}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(i){return this.sendMessageToCallMachine({action:"local-video",state:i}),this}},{key:"_setAllowLocalAudio",value:function(i){if(this._preloadCache.allowLocalAudio=i,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:i}),this}},{key:"_setAllowLocalVideo",value:function(i){if(this._preloadCache.allowLocalVideo=i,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:i}),this}},{key:"getReceiveSettings",value:(bs=x(function*(i){var d=this,l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,_=l!==void 0&&l;if(Le(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(S(i)){case"string":return new Promise(function(b){d.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:i,showInheritedValues:_},function(O){b(O.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(i){return bs.apply(this,arguments)})},{key:"updateReceiveSettings",value:(_s=x(function*(i){var d=this;if(Le(this._callObjectMode,"updateReceiveSettings()"),!os(i,{allowAllParticipantsKey:!0}))throw new Error(us({allowAllParticipantsKey:!0}));return he(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(l){d.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:i},function(_){l({receiveSettings:_.receiveSettings})})})}),function(i){return _s.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(i,d){if(i){var l={};if(i.audio){var _,b,O;i.audio.settings&&(!Object.keys(i.audio.settings).length&&d||(l.audio={settings:X({},i.audio.settings)})),d&&(_=l.audio)!==null&&_!==void 0&&(_=_.settings)!==null&&_!==void 0&&_.customTrack&&(l.audio.settings={customTrack:this._sharedTracks.audioTrack});var F=((b=i.audio.processor)===null||b===void 0?void 0:b.type)==="none"&&((O=i.audio.processor)===null||O===void 0?void 0:O._isDefaultWhenNone);if(i.audio.processor&&!F){var U=X({},i.audio.processor);delete U._isDefaultWhenNone,l.audio=X(X({},l.audio),{},{processor:U})}}if(i.video){var G,Q,ae;i.video.settings&&(!Object.keys(i.video.settings).length&&d||(l.video={settings:X({},i.video.settings)})),d&&(G=l.video)!==null&&G!==void 0&&(G=G.settings)!==null&&G!==void 0&&G.customTrack&&(l.video.settings={customTrack:this._sharedTracks.videoTrack});var qe=((Q=i.video.processor)===null||Q===void 0?void 0:Q.type)==="none"&&((ae=i.video.processor)===null||ae===void 0?void 0:ae._isDefaultWhenNone);if(i.video.processor&&!qe){var gt=X({},i.video.processor);delete gt._isDefaultWhenNone,l.video=X(X({},l.video),{},{processor:gt})}}return l}}},{key:"getInputSettings",value:function(){var i=this;return ue(),new Promise(function(d){d(i._getInputSettings())})}},{key:"_getInputSettings",value:function(){var i,d,l,_,b,O,F={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(i=((l=this._inputSettings)===null||l===void 0?void 0:l.video)||F,d=((_=this._inputSettings)===null||_===void 0?void 0:_.audio)||F):(i=((b=this._preloadCache)===null||b===void 0||(b=b.inputSettings)===null||b===void 0?void 0:b.video)||F,d=((O=this._preloadCache)===null||O===void 0||(O=O.inputSettings)===null||O===void 0?void 0:O.audio)||F);var U={audio:d,video:i};return this._prepInputSettingsForSharing(U,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(i,d){var l,_,b,O,F,U,G=this._inputSettings||{},Q={};i.video?(Q.video={},i.video.settings?(Q.video.settings={},d||i.video.settings.customTrack||(b=G.video)===null||b===void 0||!b.settings?Q.video.settings=i.video.settings:Q.video.settings=X(X({},G.video.settings),i.video.settings),Object.keys(Q.video.settings).length||delete Q.video.settings):(l=G.video)!==null&&l!==void 0&&l.settings&&(Q.video.settings=G.video.settings),i.video.processor?Q.video.processor=i.video.processor:(_=G.video)!==null&&_!==void 0&&_.processor&&(Q.video.processor=G.video.processor)):G.video&&(Q.video=G.video),i.audio?(Q.audio={},i.audio.settings?(Q.audio.settings={},d||i.audio.settings.customTrack||(U=G.audio)===null||U===void 0||!U.settings?Q.audio.settings=i.audio.settings:Q.audio.settings=X(X({},G.audio.settings),i.audio.settings),Object.keys(Q.audio.settings).length||delete Q.audio.settings):(O=G.audio)!==null&&O!==void 0&&O.settings&&(Q.audio.settings=G.audio.settings),i.audio.processor?Q.audio.processor=i.audio.processor:(F=G.audio)!==null&&F!==void 0&&F.processor&&(Q.audio.processor=G.audio.processor)):G.audio&&(Q.audio=G.audio),this._maybeUpdateInputSettings(Q)}},{key:"_devicesFromInputSettings",value:function(i){var d,l,_=(i==null||(d=i.video)===null||d===void 0||(d=d.settings)===null||d===void 0?void 0:d.deviceId)||null,b=(i==null||(l=i.audio)===null||l===void 0||(l=l.settings)===null||l===void 0?void 0:l.deviceId)||null,O=this._preloadCache.outputDeviceId||null;return{camera:_?{deviceId:_}:{},mic:b?{deviceId:b}:{},speaker:O?{deviceId:O}:{}}}},{key:"updateInputSettings",value:(ys=x(function*(i){var d=this;return ue(),as(i)?i.video||i.audio?(ss(i,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(i,!0),this._getInputSettings()):new Promise(function(l,_){d.sendMessageToCallMachine({action:"update-input-settings",inputSettings:i},function(b){if(b.error)_(b.error);else{if(b.returnPreloadCache)return d._updatePreloadCacheInputSettings(i,!0),void l(d._getInputSettings());d._maybeUpdateInputSettings(b.inputSettings),l(d._prepInputSettingsForSharing(b.inputSettings,!0))}})})):this._getInputSettings():(console.error($n()),Promise.reject($n()))}),function(i){return ys.apply(this,arguments)})},{key:"setBandwidth",value:function(i){var d=i.kbs,l=i.trackConstraints;if(ue(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:d,trackConstraints:l}),this}},{key:"getDailyLang",value:function(){var i=this;if(ue(),this._callMachineInitialized)return new Promise(function(d){i.sendMessageToCallMachine({action:"get-daily-lang"},function(l){delete l.action,delete l.callbackStamp,d(l)})})}},{key:"setDailyLang",value:function(i){return ue(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:i}),this}},{key:"setProxyUrl",value:function(i){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:i}),this}},{key:"setIceConfig",value:function(i){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:i}),this}},{key:"meetingSessionSummary",value:function(){return[Ze,Ye].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(vs=x(function*(){var i=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),he(this._callState,"getMeetingSession()"),new Promise(function(d){i.sendMessageToCallMachine({action:"get-meeting-session"},function(l){delete l.action,delete l.callbackStamp,d(l)})})}),function(){return vs.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return he(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Le(this._callObjectMode,"setMeetingSessionData()"),he(this._callState,"setMeetingSessionData");try{(function(l,_){new Su({data:l,mergeStrategy:_})})(i,d)}catch(l){throw console.error(l),l}try{this.sendMessageToCallMachine({action:"set-session-data",data:i,mergeStrategy:d})}catch(l){throw new Error("Error setting meeting session data: ".concat(l))}}},{key:"setUserName",value:function(i,d){var l=this;return this.properties.userName=i,new Promise(function(_){l.sendMessageToCallMachine({action:"set-user-name",name:i??"",thisMeetingOnly:ce()||!!d&&!!d.thisMeetingOnly},function(b){delete b.action,delete b.callbackStamp,_(b)})})}},{key:"setUserData",value:(Dt=x(function*(i){var d=this;try{is(i)}catch(l){throw console.error(l),l}if(this.properties.userData=i,this._callMachineInitialized)return new Promise(function(l){try{d.sendMessageToCallMachine({action:"set-user-data",userData:i},function(_){delete _.action,delete _.callbackStamp,l(_)})}catch(_){throw new Error("Error setting user data: ".concat(_))}})}),function(i){return Dt.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(i){if(i&&(i<100||typeof i!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(i){var d=this;if(typeof AudioWorkletNode>"u"&&!ce())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(i),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(l,_){d.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:i},function(b){d._isLocalAudioLevelObserverRunning=!b.error,b.error?_({error:b.error}):l()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:i}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(i){var d=this;if(this.validateAudioLevelInterval(i),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(l,_){d.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:i},function(b){d._isRemoteParticipantsAudioLevelObserverRunning=!b.error,b.error?_({error:b.error}):l()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:i}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(It=x(function*(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Le(this._callObjectMode,"startCamera()"),Vn(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(d)}catch(l){return Promise.reject(l)}else{if(this._didPreAuth){if(d.url&&d.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(d.token&&d.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(d),this.properties=X(X({},this.properties),d)}return new Promise(function(l){i._preloadCache.inputSettings=i._prepInputSettingsForSharing(i._inputSettings,!1),i.sendMessageToCallMachine({action:"start-camera",properties:At(i.properties,i.callClientId),preloadCache:At(i._preloadCache,i.callClientId)},function(_){l({camera:_.camera,mic:_.mic,speaker:_.speaker})})})}),function(){return It.apply(this,arguments)})},{key:"validateCustomTrack",value:function(i,d,l){if(l&&l.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(d&&d!=="music"&&d!=="speech"&&!(d instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(l&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(l))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(i instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return ue(),he(this._callState,"startCustomTrack()"),this.validateCustomTrack(d.track,d.mode,d.trackName),new Promise(function(l,_){i._sharedTracks.customTrack=d.track,d.track=We,i.sendMessageToCallMachine({action:"start-custom-track",properties:d},function(b){b.error?_({error:b.error}):l(b.mediaTag)})})}},{key:"stopCustomTrack",value:function(i){var d=this;return ue(),he(this._callState,"stopCustomTrack()"),new Promise(function(l){d.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:i},function(_){l(_.mediaTag)})})}},{key:"setCamera",value:function(i){var d=this;return Yt(),Ar(this._callMachineInitialized,"setCamera()"),new Promise(function(l){d.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:i},function(_){l({device:_.device})})})}},{key:"setAudioDevice",value:(Pt=x(function*(i){return Yt(),this.nativeUtils().setAudioDevice(i),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(i){return Pt.apply(this,arguments)})},{key:"cycleCamera",value:function(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(l){i.sendMessageToCallMachine({action:"cycle-camera",properties:d},function(_){l({device:_.device})})})}},{key:"cycleMic",value:function(){var i=this;return ue(),new Promise(function(d){i.sendMessageToCallMachine({action:"cycle-mic"},function(l){d({device:l.device})})})}},{key:"getCameraFacingMode",value:function(){var i=this;return Yt(),new Promise(function(d){i.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(l){d(l.facingMode)})})}},{key:"setInputDevicesAsync",value:(Mt=x(function*(i){var d=this,l=i.audioDeviceId,_=i.videoDeviceId,b=i.audioSource,O=i.videoSource;if(ue(),b!==void 0&&(l=b),O!==void 0&&(_=O),typeof l=="boolean"&&(this._setAllowLocalAudio(l),l=void 0),typeof _=="boolean"&&(this._setAllowLocalVideo(_),_=void 0),!l&&!_)return yield this.getInputDevices();var F={};return l&&(l instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=l,l=We,F.audio={settings:{customTrack:l}}):(delete this._sharedTracks.audioTrack,F.audio={settings:{deviceId:l}})),_&&(_ instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=_,_=We,F.video={settings:{customTrack:_}}):(delete this._sharedTracks.videoTrack,F.video={settings:{deviceId:_}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(F,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(U){d.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:l,videoDeviceId:_},function(G){if(delete G.action,delete G.callbackStamp,G.returnPreloadCache)return d._updatePreloadCacheInputSettings(F,!1),void U(d._devicesFromInputSettings(d._inputSettings));U(G)})})}),function(i){return Mt.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(He=x(function*(i){var d=this,l=i.outputDeviceId;if(ue(),!l||typeof l!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=l,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(_,b){d.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:l},function(O){if(delete O.action,delete O.callbackStamp,O.error){var F=new Error(O.error.message);return F.type=O.error.type,void b(F)}O.returnPreloadCache?_(d._devicesFromInputSettings(d._inputSettings)):_(O)})})}),function(i){return He.apply(this,arguments)})},{key:"getInputDevices",value:(Fe=x(function*(){var i=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(d){i.sendMessageToCallMachine({action:"get-input-devices"},function(l){l.returnPreloadCache?d(i._devicesFromInputSettings(i._inputSettings)):d({camera:l.camera,mic:l.mic,speaker:l.speaker})})})}),function(){return Fe.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Yt(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(i){if(Yt(),[Ka,xu].includes(i)){if(i!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=i,!this.disableReactNativeAutoDeviceManagement("audio")&&Or(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",i)}},{key:"preAuth",value:(ze=x(function*(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Le(this._callObjectMode,"preAuth()"),Vn(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(d)),!d.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(d),this.properties=X(X({},this.properties),d),new Promise(function(l,_){i._preloadCache.inputSettings=i._prepInputSettingsForSharing(i._inputSettings,!1),i.sendMessageToCallMachine({action:"daily-method-preauth",properties:At(i.properties,i.callClientId),preloadCache:At(i._preloadCache,i.callClientId)},function(b){return b.error?_(b.error):b.access?(i._didPreAuth=!0,void l({access:b.access})):_(new Error("unknown error in preAuth()"))})})}),function(){return ze.apply(this,arguments)})},{key:"load",value:(Ce=x(function*(i){var d=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(i&&(this.validateProperties(i),this.properties=X(X({},this.properties),i)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(uo),this.emitDailyJSEvent({action:So}),this._callObjectMode?new Promise(function(l,_){d._callObjectLoader.cancel();var b=Date.now();d._callObjectLoader.load(d.properties.dailyConfig,function(O){d._bundleLoadTime=O?"no-op":Date.now()-b,d._updateCallState(lo),O&&d.emitDailyJSEvent({action:yn}),l()},function(O,F){if(d.emitDailyJSEvent({action:wo}),!F){d._updateCallState(Ye),d.resetMeetingDependentVars();var U={action:En,errorMsg:O.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:O,bundleUrl:Kt(d.properties.dailyConfig)}}};d._maybeSendToSentry(U),d.emitDailyJSEvent(U),_(O.msg)}})}):(this._iframe.src=nt(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(l,_){d._loadedCallback=function(b){d._callState!==Ye?(d._updateCallState(lo),(d.properties.cssFile||d.properties.cssText)&&d.loadCss(d.properties),l()):_(b)}}))}}),function(i){return Ce.apply(this,arguments)})},{key:"join",value:(Re=x(function*(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var l=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(d)}catch(_){return this.updateIsPreparingToJoin(!1),Promise.reject(_)}}else{if(l=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(d.url&&d.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(d.token&&d.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(d.url&&!this._callObjectMode&&d.url&&d.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(d.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(d),this.properties=X(X({},this.properties),d)}return d.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!d.showLocalVideo),d.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!d.showParticipantsBar),this._callState===Xe||this._callState===yr?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(yr,!1),this.emitDailyJSEvent({action:To}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:At(this.properties,this.callClientId),preloadCache:At(this._preloadCache,this.callClientId)}),new Promise(function(_,b){i._joinedCallback=function(O,F){if(i._callState!==Ye){if(i._updateCallState(Xe),O)for(var U in O){if(i._callObjectMode){var G=i._callMachine().store;Na(O[U],G),xa(O[U],G),Fa(O[U],i._participants[U],G)}i._participants[U]=X({},O[U]),i.toggleParticipantAudioBasedOnNativeAudioFocus()}l&&i.loadCss(i.properties),_(O)}else b(F)}}))}),function(){return Re.apply(this,arguments)})},{key:"leave",value:(me=x(function*(){var i=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(d){i._callState===Ze||i._callState===Ye?d():i._callObjectLoader&&!i._callObjectLoader.loaded?(i._callObjectLoader.cancel(),i._updateCallState(Ze),i.resetMeetingDependentVars(),i.emitDailyJSEvent({action:Ze}),d()):(i._resolveLeave=d,i.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return me.apply(this,arguments)})},{key:"startScreenShare",value:(se=x(function*(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ar(this._callMachineInitialized,"startScreenShare()"),d.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",d.screenVideoSendSettings),d.mediaStream&&(this._sharedTracks.screenMediaStream=d.mediaStream,d.mediaStream=We),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var l=this.nativeUtils();if(yield l.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:wn,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});l.setSystemScreenCaptureStartCallback(function(){l.setSystemScreenCaptureStartCallback(null),i.sendMessageToCallMachine({action:fa,captureOptions:d})}),l.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:fa,captureOptions:d})}),function(){return se.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Ar(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=i.type;if(d&&d!=="cloud"&&d!=="raw-tracks"&&d!=="local")throw new Error("invalid type: ".concat(d,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(X({action:"local-recording-start"},i))}},{key:"updateRecording",value:function(i){var d=i.layout,l=d===void 0?{preset:"default"}:d,_=i.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:l,instanceId:_})}},{key:"stopRecording",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(X({action:"local-recording-stop"},i))}},{key:"startLiveStreaming",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(X({action:"daily-method-start-live-streaming"},i))}},{key:"updateLiveStreaming",value:function(i){var d=i.layout,l=d===void 0?{preset:"default"}:d,_=i.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:l,instanceId:_})}},{key:"addLiveStreamingEndpoints",value:function(i){var d=i.endpoints,l=i.instanceId;this.sendMessageToCallMachine({action:ma,endpointsOp:"add-endpoints",endpoints:d,instanceId:l})}},{key:"removeLiveStreamingEndpoints",value:function(i){var d=i.endpoints,l=i.instanceId;this.sendMessageToCallMachine({action:ma,endpointsOp:"remove-endpoints",endpoints:d,instanceId:l})}},{key:"stopLiveStreaming",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(X({action:"daily-method-stop-live-streaming"},i))}},{key:"validateDailyConfig",value:function(i){i.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(i.camSimulcastEncodings)),i.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),wa()&&i.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(i){if(!(i instanceof Array||Array.isArray(i)))throw new Error("encodings must be an Array");if(!gs(i.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var _=0;_<i.length;_++){var b=i[_];for(var O in this._validateEncodingLayerHasValidProperties(b),b)if(Fn.includes(O)){if(typeof b[O]!="number")throw new Error("".concat(O," must be a number"));if(d){var F=d[O],U=F.min,G=F.max;if(!gs(b[O],U,G))throw new Error("".concat(O," value not in range. valid range: ").concat(U," to ").concat(G))}}else if(!["active","scalabilityMode"].includes(O))throw new Error("Invalid key ".concat(O,", valid keys are:")+Object.values(Fn));if(l&&!b.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(K=x(function*(i){var d=this,l=i.url,_=i.settings,b=_===void 0?{state:Cn.PLAY}:_;try{(function(O){if(typeof O!="string")throw new Error('url parameter must be "string" type')})(l),ms(b),function(O){for(var F in O)if(!ts.includes(F))throw new Error("Invalid key ".concat(F,", valid keys are: ").concat(ts));O.simulcastEncodings&&this.validateSimulcastEncodings(O.simulcastEncodings,es,!0)}(b)}catch(O){throw console.error("invalid argument Error: ".concat(O)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),O}return new Promise(function(O,F){d.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:l,settings:b},function(U){U.error?F({error:U.error,errorMsg:U.errorMsg}):O({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(i){return K.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(ee=x(function*(i){var d=this;if(typeof i!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(l,_){d.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:i},function(b){b.error?_({error:b.error,errorMsg:b.errorMsg}):l()})})}),function(i){return ee.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(z=x(function*(i){var d=this,l=i.session_id,_=i.settings;try{ms(_)}catch(b){throw console.error("invalid argument Error: ".concat(b)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),b}return new Promise(function(b,O){d.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:l,settings:_},function(F){F.error?O({error:F.error,errorMsg:F.errorMsg}):b({session_id:F.session_id,remoteMediaPlayerState:{state:F.state,settings:F.settings}})})})}),function(i){return z.apply(this,arguments)})},{key:"startTranscription",value:function(i){he(this._callState,"startTranscription()"),this.sendMessageToCallMachine(X({action:"daily-method-start-transcription"},i))}},{key:"updateTranscription",value:function(i){if(he(this._callState,"updateTranscription()"),!i)throw new Error("updateTranscription Error: options is mandatory");if(S(i)!=="object")throw new Error("updateTranscription Error: options must be object type");if(i.participants&&!Array.isArray(i.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(X({action:"daily-method-update-transcription"},i))}},{key:"stopTranscription",value:function(i){if(he(this._callState,"stopTranscription()"),i&&S(i)!=="object")throw new Error("stopTranscription Error: options must be object type");if(i&&!i.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(X({action:"daily-method-stop-transcription"},i))}},{key:"startDialOut",value:($=x(function*(i){var d=this;he(this._callState,"startDialOut()");var l=function(F){if(F){if(!Array.isArray(F))throw new Error("Error starting dial out: audio codec must be an array");if(F.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");F.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: audio codec must be a string");if(U!=="OPUS"&&U!=="PCMU"&&U!=="PCMA"&&U!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!i.sipUri&&!i.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(i.sipUri&&i.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(i.sipUri){if(typeof i.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!i.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(i.video&&typeof i.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(F){if(F&&(l(F.audio),F.video)){if(!Array.isArray(F.video))throw new Error("Error starting dial out: video codec must be an array");if(F.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");F.video.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: video codec must be a string");if(U!=="H264"&&U!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(i.codecs)}if(i.phoneNumber){if(typeof i.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(i.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");i.codecs&&l(i.codecs.audio)}if(i.callerId){if(typeof i.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(i.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(i.displayName){if(typeof i.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(i.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(i.userId){if(typeof i.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(i.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(ns(i),i.permissions&&i.permissions.canReceive){var _=R(Ya.validateJSONObject(i.permissions.canReceive),2),b=_[0],O=_[1];if(!b)throw new Error(O)}if(i.provider){if(i.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(i.provider));if(i.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(F,U){d.sendMessageToCallMachine(X({action:"dialout-start"},i),function(G){G.error?U(G.error):F(G)})})}),function(i){return $.apply(this,arguments)})},{key:"stopDialOut",value:function(i){var d=this;return he(this._callState,"stopDialOut()"),new Promise(function(l,_){d.sendMessageToCallMachine(X({action:"dialout-stop"},i),function(b){b.error?_(b.error):l(b)})})}},{key:"sipCallTransfer",value:(V=x(function*(i){var d=this;if(he(this._callState,"sipCallTransfer()"),!i)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return i.useSipRefer=!1,fs(i,"sipCallTransfer"),ns(i),new Promise(function(l,_){d.sendMessageToCallMachine(X({action:va},i),function(b){b.error?_(b.error):l(b)})})}),function(i){return V.apply(this,arguments)})},{key:"sipRefer",value:(D=x(function*(i){var d=this;if(he(this._callState,"sipRefer()"),!i)throw new Error("sessionId and toEndPoint are mandatory parameter");return i.useSipRefer=!0,fs(i,"sipRefer"),new Promise(function(l,_){d.sendMessageToCallMachine(X({action:va},i),function(b){b.error?_(b.error):l(b)})})}),function(i){return D.apply(this,arguments)})},{key:"sendDTMF",value:(M=x(function*(i){var d=this;return he(this._callState,"sendDTMF()"),function(l){var _=l.sessionId,b=l.tones;if(!_||!b)throw new Error("sessionId and tones are mandatory parameter");if(typeof _!="string"||typeof b!="string")throw new Error("sessionId and tones should be of string type");if(b.length>20)throw new Error("tones string must be upto 20 characters");var O=b.match(/[^0-9A-D*#]/g);if(O&&O[0])throw new Error("".concat(O[0]," is not valid DTMF tone"))}(i),new Promise(function(l,_){d.sendMessageToCallMachine(X({action:"send-dtmf"},i),function(b){b.error?_(b.error):l(b)})})}),function(i){return M.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var i=this;return this._callState!==Xe?Promise.resolve(X({stats:{latest:{}}},this._network)):new Promise(function(d){i.sendMessageToCallMachine({action:"get-calc-stats"},function(l){d(X(X({},i._network),{},{stats:l.stats}))})})}},{key:"testWebsocketConnectivity",value:(j=x(function*(){var i=this;if(Un(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(d){return Promise.reject(d)}return new Promise(function(d,l){i.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(_){_.error?l(_.error):d(_.results)})})}),function(){return j.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(i){return i?i instanceof MediaStreamTrack?!!function(d,l){var _=l.isLocalScreenVideo;return d&&d.readyState==="live"&&!function(b,O){return(!O.isLocalScreenVideo||et()!=="Chrome")&&b.muted&&!Du.has(b.id)}(d,{isLocalScreenVideo:_})}(i,{isLocalScreenVideo:!1})||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(P=x(function*(){var i=this;ue(),Le(this._callObjectMode,"testCallQuality()"),Ar(this._callMachineInitialized,"testCallQuality()",null,!0),Vn(this._callState,this._isPreparingToJoin,"testCallQuality()");var d=this._testCallAlreadyInProgress,l=function(b){d||(i._testCallInProgress=b)};if(l(!0),this.needsLoad())try{var _=this._callState;yield this.load(),this._callState=_}catch(b){return l(!1),Promise.reject(b)}return new Promise(function(b){i.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:i.properties.dailyJsVersion},function(O){var F=O.results,U=F.result,G=q(F,Ru);if(U==="failed"){var Q,ae=X({},G);(Q=G.error)!==null&&Q!==void 0&&Q.details?(G.error.details=JSON.parse(G.error.details),ae.error=X(X({},ae.error),{},{details:X({},ae.error.details)}),ae.error.details.duringTest="testCallQuality"):(ae.error=ae.error?X({},ae.error):{},ae.error.details={duringTest:"testCallQuality"}),i._maybeSendToSentry(ae)}l(!1),b(X({result:U},G))})})}),function(){return P.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(C=x(function*(i){var d;ce()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),d=yield this.testPeerToPeerCallQuality(i)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),d=yield this.testCallQuality());var l={result:d.result,secondsElapsed:d.secondsElapsed};return d.data&&(l.data={maxRTT:d.data.maxRoundTripTime,packetLoss:d.data.avgRecvPacketLoss}),l}),function(i){return C.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(w=x(function*(i){var d=this;if(Un(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(b){return Promise.reject(b)}var l=i.videoTrack,_=i.duration;if(!this._validateVideoTrackForNetworkTests(l))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=l,new Promise(function(b,O){d.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:_},function(F){F.error?O(F.error):b(F.results)})})}),function(i){return w.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){ce()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(m=x(function*(i){var d=this;if(Un(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(l){return Promise.reject(l)}if(!this._validateVideoTrackForNetworkTests(i))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=i,new Promise(function(l,_){d.sendMessageToCallMachine({action:"test-network-connectivity"},function(b){b.error?_(b.error):l(b.results)})})}),function(i){return m.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var i=this;return new Promise(function(d){i._callState===Xe?i.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(l){d(l.cpuStats)}):d({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(i){var d;if(!(((d=Object.keys(i))===null||d===void 0?void 0:d.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Fn))}},{key:"_validateVideoSendSettings",value:function(i,d){var l=i==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],_="Video send settings should be either an object or one of the supported presets: ".concat(l.join());if(typeof d=="string"){if(!l.includes(d))throw new Error(_)}else{if(S(d)!=="object")throw new Error(_);if(!d.maxQuality&&!d.encodings&&d.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(d.maxQuality&&["low","medium","high"].indexOf(d.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(d.encodings){var b=!1;switch(Object.keys(d.encodings).length){case 1:b=!d.encodings.low;break;case 2:b=!d.encodings.low||!d.encodings.medium;break;case 3:b=!d.encodings.low||!d.encodings.medium||!d.encodings.high;break;default:b=!0}if(b)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");d.encodings.low&&this._validateEncodingLayerHasValidProperties(d.encodings.low),d.encodings.medium&&this._validateEncodingLayerHasValidProperties(d.encodings.medium),d.encodings.high&&this._validateEncodingLayerHasValidProperties(d.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(i){var d=this;if(!i||Object.keys(i).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(i).forEach(function(l){var _=R(l,2),b=_[0],O=_[1];d._validateVideoSendSettings(b,O)})}},{key:"updateSendSettings",value:function(i){var d=this;return this.validateUpdateSendSettings(i),this.needsLoad()?(this._preloadCache.sendSettings=i,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(l,_){d.sendMessageToCallMachine({action:"update-send-settings",sendSettings:i},function(b){b.error?_(b.error):l(b.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return ue(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(i){return ue(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:i}),this}},{key:"activeSpeakerMode",value:function(){return ue(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(i){return he(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=i,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:i}),this}},{key:"enumerateDevices",value:(p=x(function*(){var i=this;if(this._callObjectMode){var d=yield navigator.mediaDevices.enumerateDevices();return et()==="Firefox"&&wr().major>115&&wr().major<123&&(d=d.filter(function(l){return l.kind!=="audiooutput"})),{devices:d.map(function(l){var _=JSON.parse(JSON.stringify(l));if(!ce()&&l.kind==="videoinput"&&l.getCapabilities){var b,O=l.getCapabilities();_.facing=(O==null||(b=O.facingMode)===null||b===void 0?void 0:b.length)>=1?O.facingMode[0]:void 0}return _})}}return new Promise(function(l){i.sendMessageToCallMachine({action:"enumerate-devices"},function(_){l({devices:_.devices})})})}),function(){return p.apply(this,arguments)})},{key:"sendAppMessage",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(he(this._callState,"sendAppMessage()"),JSON.stringify(i).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:i,to:d}),this}},{key:"addFakeParticipant",value:function(i){return ue(),he(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(X({action:"add-fake-participant"},i)),this}},{key:"setShowNamesMode",value:function(i){return Te(this._callObjectMode,"setShowNamesMode()"),ue(),i&&i!=="always"&&i!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:i}),this)}},{key:"setShowLocalVideo",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Te(this._callObjectMode,"setShowLocalVideo()"),ue(),he(this._callState,"setShowLocalVideo()"),typeof i!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:i}),this._showLocalVideo=i,this)}},{key:"showLocalVideo",value:function(){return Te(this._callObjectMode,"showLocalVideo()"),ue(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Te(this._callObjectMode,"setShowParticipantsBar()"),ue(),he(this._callState,"setShowParticipantsBar()"),typeof i!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:i}),this._showParticipantsBar=i,this)}},{key:"showParticipantsBar",value:function(){return Te(this._callObjectMode,"showParticipantsBar()"),ue(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return ue(),Te(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(i){return ue(),Te(this._callObjectMode,"setCustomIntegrations()"),he(this._callState,"setCustomIntegrations()"),hs(i)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:i}),this._customIntegrations=i,this):this}},{key:"startCustomIntegrations",value:function(i){var d=this;if(ue(),Te(this._callObjectMode,"startCustomIntegrations()"),he(this._callState,"startCustomIntegrations()"),Array.isArray(i)&&i.some(function(b){return typeof b!="string"})||!Array.isArray(i)&&typeof i!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var l=typeof i=="string"?[i]:i,_=l.filter(function(b){return!(b in d._customIntegrations)});return _.length?(console.error(`Can't find custom integration(s): "`.concat(_.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:l}),this)}},{key:"stopCustomIntegrations",value:function(i){var d=this;if(ue(),Te(this._callObjectMode,"stopCustomIntegrations()"),he(this._callState,"stopCustomIntegrations()"),Array.isArray(i)&&i.some(function(b){return typeof b!="string"})||!Array.isArray(i)&&typeof i!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var l=typeof i=="string"?[i]:i,_=l.filter(function(b){return!(b in d._customIntegrations)});return _.length?(console.error(`Can't find custom integration(s): "`.concat(_.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:l}),this)}},{key:"customTrayButtons",value:function(){return Te(this._callObjectMode,"customTrayButtons()"),ue(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(i){return Te(this._callObjectMode,"updateCustomTrayButtons()"),ue(),he(this._callState,"updateCustomTrayButtons()"),ds(i)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:i}),this._customTrayButtons=i,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Tr))),this)}},{key:"theme",value:function(){return Te(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(i){var d=this;return Te(this._callObjectMode,"setTheme()"),new Promise(function(l,_){try{d.validateProperties({theme:i}),d.properties.theme=X({},i),d.sendMessageToCallMachine({action:"set-theme",theme:d.properties.theme});try{d.emitDailyJSEvent({action:bo,theme:d.properties.theme})}catch(b){console.log("could not emit 'theme-updated'",b)}l(d.properties.theme)}catch(b){_(b)}})}},{key:"requestFullscreen",value:(h=x(function*(){if(ue(),this._iframe&&!document.fullscreenElement&&_a())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(i){console.log("could not make video call fullscreen",i)}}),function(){return h.apply(this,arguments)})},{key:"exitFullscreen",value:function(){ue(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(u=x(function*(){var i=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(d){i.sendMessageToCallMachine({action:"get-sidebar-view"},function(l){d(l.view)})})}),function(){return u.apply(this,arguments)})},{key:"setSidebarView",value:function(i){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:i}),this)}},{key:"room",value:(s=x(function*(){var i=this,d=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,l=d===void 0||d;return this._accessState.access===_r||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(_){i.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:l},function(b){delete b.action,delete b.callbackStamp,_(b)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(o=x(function*(){try{var i=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield i.json()).geo}}catch(d){return console.error("geo lookup failed",d),{current:""}}}),function(){return o.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=x(function*(i){var d=this;return ue(),he(this._callState,"setNetworkTopology()"),new Promise(function(l,_){d.sendMessageToCallMachine({action:"set-network-topology",opts:i},function(b){b.error?_({error:b.error}):l({workerId:b.workerId})})})}),function(i){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(r=x(function*(){var i=this;return new Promise(function(d,l){i.needsLoad()&&d({topology:"none"}),i.sendMessageToCallMachine({action:"get-network-topology"},function(_){_.error?l({error:_.error}):d({topology:_.topology})})})}),function(){return r.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(i){if(ue(),typeof i!="number"&&i!==!0&&i!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(i));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:i})}},{key:"on",value:function(i,d){return te().prototype.on.call(this,i,d)}},{key:"once",value:function(i,d){return te().prototype.once.call(this,i,d)}},{key:"off",value:function(i,d){return te().prototype.off.call(this,i,d)}},{key:"validateProperties",value:function(i){var d,l;if(i!=null&&(d=i.dailyConfig)!==null&&d!==void 0&&d.userMediaAudioConstraints){var _,b;ce()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var O=i.inputSettings||{};O.audio=((_=i.inputSettings)===null||_===void 0?void 0:_.audio)||{},O.audio.settings=((b=i.inputSettings)===null||b===void 0||(b=b.audio)===null||b===void 0?void 0:b.settings)||{},O.audio.settings=X(X({},O.audio.settings),i.dailyConfig.userMediaAudioConstraints),i.inputSettings=O,delete i.dailyConfig.userMediaAudioConstraints}if(i!=null&&(l=i.dailyConfig)!==null&&l!==void 0&&l.userMediaVideoConstraints){var F,U;ce()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var G=i.inputSettings||{};G.video=((F=i.inputSettings)===null||F===void 0?void 0:F.video)||{},G.video.settings=((U=i.inputSettings)===null||U===void 0||(U=U.video)===null||U===void 0?void 0:U.settings)||{},G.video.settings=X(X({},G.video.settings),i.dailyConfig.userMediaVideoConstraints),i.inputSettings=G,delete i.dailyConfig.userMediaVideoConstraints}for(var Q in i)if(mt[Q]){if(mt[Q].validate&&!mt[Q].validate(i[Q],this))throw new Error("property '".concat(Q,"': ").concat(mt[Q].help))}else console.warn("Ignoring unrecognized property '".concat(Q,"'")),delete i[Q]}},{key:"assembleMeetingUrl",value:function(){var i,d,l=X(X({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(i=this.properties.dailyConfig)!==null&&i!==void 0&&i.proxyUrl?encodeURIComponent((d=this.properties.dailyConfig)===null||d===void 0?void 0:d.proxyUrl):void 0}),_=l.url.match(/\?/)?"&":"?";return l.url+_+Object.keys(mt).filter(function(b){return mt[b].queryString&&l[b]!==void 0}).map(function(b){return"".concat(mt[b].queryString,"=").concat(l[b])}).join("&")}},{key:"needsLoad",value:function(){return[gn,uo,Ze,Ye].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(i,d){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(i,d,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(i){this._messageChannel.forwardPackagedMessageToCallMachine(i,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(i){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(i,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(i){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(i)}},{key:"handleMessageFromCallMachine",value:function(i){switch(i.action){case yo:this.sendMessageToCallMachine(X({action:_o},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var d={action:br,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Kt(this.properties.dailyConfig)}};this.sendMessageToCallMachine(d),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case yn:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(i);break;case Co:var l,_=X({},i);delete _.internal,this._maxAppMessageSize=((l=i.internal)===null||l===void 0?void 0:l._maxAppMessageSize)||kn,this._joinedCallback&&(this._joinedCallback(i.participants),this._joinedCallback=null),this.emitDailyJSEvent(_);break;case Ao:case Mo:if(this._callState===Ze)return;if(i.participant&&i.participant.session_id){var b=i.participant.local?"local":i.participant.session_id;if(this._callObjectMode){var O=this._callMachine().store;Na(i.participant,O),xa(i.participant,O),Fa(i.participant,this._participants[b],O)}try{this.maybeParticipantTracksStopped(this._participants[b],i.participant),this.maybeParticipantTracksStarted(this._participants[b],i.participant),this.maybeEventRecordingStopped(this._participants[b],i.participant),this.maybeEventRecordingStarted(this._participants[b],i.participant)}catch($u){console.error("track events error",$u)}this.compareEqualForParticipantUpdateEvent(i.participant,this._participants[b])||(this._participants[b]=X({},i.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(i))}break;case Po:if(i.participant&&i.participant.session_id){var F=this._participants[i.participant.session_id];F&&this.maybeParticipantTracksStopped(F,null),delete this._participants[i.participant.session_id],this.emitDailyJSEvent(i)}break;case Io:re(this._participantCounts,i.participantCounts)||(this._participantCounts=i.participantCounts,this.emitDailyJSEvent(i));break;case Do:var U={access:i.access};i.awaitingAccess&&(U.awaitingAccess=i.awaitingAccess),re(this._accessState,U)||(this._accessState=U,this.emitDailyJSEvent(i));break;case jo:if(i.meetingSession){this._meetingSessionSummary=i.meetingSession,this.emitDailyJSEvent(i);var G=X(X({},i),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(G)}break;case En:var Q;this._iframe&&!i.preserveIframe&&(this._iframe.src=""),this._updateCallState(Ye),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(i.errorMsg),this._loadedCallback=null),i.preserveIframe;var ae=q(i,Nu);ae!=null&&(Q=ae.error)!==null&&Q!==void 0&&Q.details&&(ae.error.details=JSON.parse(ae.error.details)),this._maybeSendToSentry(i),this._joinedCallback&&(this._joinedCallback(null,ae),this._joinedCallback=null),this.emitDailyJSEvent(ae);break;case Oo:this._callState!==Ye&&this._updateCallState(Ze),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(i);break;case"selected-devices-updated":i.devices&&this.emitDailyJSEvent(i);break;case na:var qe=i.state,gt=i.threshold,Wt=i.quality,ve=qe.state,Ie=qe.reasons;ve===this._network.networkState&&re(Ie,this._network.networkStateReasons)&&gt===this._network.threshold&&Wt===this._network.quality||(this._network.networkState=ve,this._network.networkStateReasons=Ie,this._network.quality=Wt,this._network.threshold=gt,i.networkState=ve,Ie.length&&(i.networkStateReasons=Ie),delete i.state,this.emitDailyJSEvent(i));break;case oa:i&&i.cpuLoadState&&this.emitDailyJSEvent(i);break;case aa:i&&i.faceCounts!==void 0&&this.emitDailyJSEvent(i);break;case ta:var vt=i.activeSpeaker;this._activeSpeaker.peerId!==vt.peerId&&(this._activeSpeaker.peerId=vt.peerId,this.emitDailyJSEvent({action:i.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var zt=i.show;this._showLocalVideo=zt,this.emitDailyJSEvent({action:i.action,show:zt});break;case ra:var Mr=i.enabled;this._activeSpeakerMode!==Mr&&(this._activeSpeakerMode=Mr,this.emitDailyJSEvent({action:i.action,enabled:this._activeSpeakerMode}));break;case Ro:case No:case xo:this._waitingParticipants=i.allWaitingParticipants,this.emitDailyJSEvent({action:i.action,participant:i.participant});break;case ha:re(this._receiveSettings,i.receiveSettings)||(this._receiveSettings=i.receiveSettings,this.emitDailyJSEvent({action:i.action,receiveSettings:i.receiveSettings}));break;case Sn:this._maybeUpdateInputSettings(i.inputSettings);break;case"send-settings-updated":re(this._sendSettings,i.sendSettings)||(this._sendSettings=i.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:i.action,sendSettings:i.sendSettings}));break;case"local-audio-level":this._localAudioLevel=i.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(i);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=i.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(i);break;case Ho:var Bn=i.session_id;this._rmpPlayerState[Bn]=i.playerState,this.emitDailyJSEvent(i);break;case Ko:delete this._rmpPlayerState[i.session_id],this.emitDailyJSEvent(i);break;case Qo:var Ts=i.session_id,Cs=this._rmpPlayerState[Ts];Cs&&this.compareEqualForRMPUpdateEvent(Cs,i.remoteMediaPlayerState)||(this._rmpPlayerState[Ts]=i.remoteMediaPlayerState,this.emitDailyJSEvent(i));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(i);break;case Lo:var Uu=this._meetingSessionState.topology!==(i.meetingSessionState&&i.meetingSessionState.topology);this._meetingSessionState=Jn(i.meetingSessionState,this._callObjectMode),(this._callObjectMode||Uu)&&this.emitDailyJSEvent(i);break;case Xo:this._isScreenSharing=!0,this.emitDailyJSEvent(i);break;case Zo:case ea:this._isScreenSharing=!1,this.emitDailyJSEvent(i);break;case _n:case bn:case Jo:case Bo:case Go:case Vo:case Uo:case $o:case Eo:case ko:case Wo:case zo:case"test-completed":case ia:case Yo:case sa:case ca:case ua:case la:case wn:case da:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(i);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(i,d){var l="record";i&&(d.local||d[l]!==!1||i[l]===d[l]||this.emitDailyJSEvent({action:bn}))}},{key:"maybeEventRecordingStarted",value:function(i,d){var l="record";i&&(d.local||d[l]!==!0||i[l]===d[l]||this.emitDailyJSEvent({action:_n}))}},{key:"_trackStatePlayable",value:function(i){return!(!i||i.state!==ho)}},{key:"_trackChanged",value:function(i,d){return i?.id!==d?.id}},{key:"maybeEventTrackStopped",value:function(i,d,l){var _,b,O=(_=d?.tracks[i])!==null&&_!==void 0?_:null,F=(b=l?.tracks[i])!==null&&b!==void 0?b:null,U=O?.track;if(U){var G=this._trackStatePlayable(O),Q=this._trackStatePlayable(F),ae=this._trackChanged(U,F?.track);G&&(Q&&!ae||this.emitDailyJSEvent({action:qo,track:U,participant:l??d,type:i}))}}},{key:"maybeEventTrackStarted",value:function(i,d,l){var _,b,O=(_=d?.tracks[i])!==null&&_!==void 0?_:null,F=(b=l?.tracks[i])!==null&&b!==void 0?b:null,U=F?.track;if(U){var G=this._trackStatePlayable(O),Q=this._trackStatePlayable(F),ae=this._trackChanged(O?.track,U);Q&&(G&&!ae||this.emitDailyJSEvent({action:Fo,track:U,participant:l,type:i}))}}},{key:"maybeParticipantTracksStopped",value:function(i,d){if(i)for(var l in i.tracks)this.maybeEventTrackStopped(l,i,d)}},{key:"maybeParticipantTracksStarted",value:function(i,d){if(d)for(var l in d.tracks)this.maybeEventTrackStarted(l,i,d)}},{key:"compareEqualForRMPUpdateEvent",value:function(i,d){var l,_;return i.state===d.state&&((l=i.settings)===null||l===void 0?void 0:l.volume)===((_=d.settings)===null||_===void 0?void 0:_.volume)}},{key:"emitDailyJSEvent",value:function(i){try{i.callClientId=this.callClientId,this.emit(i.action,i)}catch(d){console.log("could not emit",i,d)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(i,d){return!(!re(i,d)||i.videoTrack&&d.videoTrack&&(i.videoTrack.id!==d.videoTrack.id||i.videoTrack.muted!==d.videoTrack.muted||i.videoTrack.enabled!==d.videoTrack.enabled)||i.audioTrack&&d.audioTrack&&(i.audioTrack.id!==d.audioTrack.id||i.audioTrack.muted!==d.audioTrack.muted||i.audioTrack.enabled!==d.audioTrack.enabled))}},{key:"nativeUtils",value:function(){return ce()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(i){this._updateCallState(this._callState,i)}},{key:"_updateCallState",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(i!==this._callState||d!==this._isPreparingToJoin){var l=this._callState,_=this._isPreparingToJoin;this._callState=i,this._isPreparingToJoin=d;var b=this._callState===Xe;this.updateShowAndroidOngoingMeetingNotification(b);var O=Or(l,_),F=Or(this._callState,this._isPreparingToJoin);O!==F&&(this.updateKeepDeviceAwake(F),this.updateDeviceAudioMode(F),this.updateNoOpRecordingEnsuringBackgroundContinuity(F))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=Za,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:_r},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Jn(Xa,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=kn,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(i){ce()&&this.nativeUtils().setKeepDeviceAwake(i,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(i){if(ce()&&!this.disableReactNativeAutoDeviceManagement("audio")){var d=i?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(d)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(i){if(ce()&&this.nativeUtils().setShowOngoingMeetingNotification){var d,l,_,b;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var O=this.properties.reactNativeConfig.androidInCallNotification;d=O.title,l=O.subtitle,_=O.iconName,b=O.disableForCustomOverride}b&&(i=!1),this.nativeUtils().setShowOngoingMeetingNotification(i,d,l,_,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(i){ce()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(i)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var i;if(ce()){var d=(i=this._callMachine())===null||i===void 0||(i=i.store)===null||i===void 0?void 0:i.getState();for(var l in d?.streams){var _=d.streams[l];_&&_.pendingTrack&&_.pendingTrack.kind==="audio"&&(_.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(i){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[i]}},{key:"absoluteUrl",value:function(i){if(i!==void 0){var d=document.createElement("a");return d.href=i,d.href}}},{key:"sayHello",value:function(){var i="hello, world.";return console.log(i),i}},{key:"_logUseAfterDestroy",value:function(){var i=Object.values(ft)[0];if(this.needsLoad())if(i&&!i.needsLoad()){var d={action:br,level:"error",code:this.strictMode?9995:9997};i.sendMessageToCallMachine(d)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var l={action:br,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(l,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var i=0,d=Object.values(ft);i<d.length;i++){var l=d[i];l._callMachineInitialized?(l.sendMessageToCallMachine({action:br,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),l._delayDuplicateInstanceLog=!1):l._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(i){var d,l,_,b;if(!((d=i.error)!==null&&d!==void 0&&d.type&&(![vo,go,vn].includes(i.error.type)||i.error.type===vn&&i.error.msg.includes("deleted")))){var O=(l=this.properties)!==null&&l!==void 0&&l.url?new URL(this.properties.url):void 0,F="production";O&&O.host.includes(".staging.daily")&&(F="staging");var U,G,Q,ae,qe,gt=Dc({}).filter(function(Bn){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Bn.name)}),Wt=new qc({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:$c,stackParser:zc,integrations:gt,environment:F}),ve=new Je;if(ve.setClient(Wt),Wt.init(),this.session_id&&ve.setExtra("sessionId",this.session_id),this.properties){var Ie=X({},this.properties);Ie.userName=Ie.userName?"[Filtered]":void 0,Ie.userData=Ie.userData?"[Filtered]":void 0,Ie.token=Ie.token?"[Filtered]":void 0,ve.setExtra("properties",Ie)}if(O){var vt=O.searchParams.get("domain");if(!vt){var zt=O.host.match(/(.*?)\./);vt=zt&&zt[1]||""}vt&&ve.setTag("domain",vt)}i.error&&(ve.setTag("fatalErrorType",i.error.type),ve.setExtra("errorDetails",i.error.details),!((U=i.error.details)===null||U===void 0)&&U.uri&&ve.setTag("serverAddress",i.error.details.uri),!((G=i.error.details)===null||G===void 0)&&G.workerGroup&&ve.setTag("workerGroup",i.error.details.workerGroup),!((Q=i.error.details)===null||Q===void 0)&&Q.geoGroup&&ve.setTag("geoGroup",i.error.details.geoGroup),!((ae=i.error.details)===null||ae===void 0)&&ae.on&&ve.setTag("connectionAttempt",i.error.details.on),(qe=i.error.details)!==null&&qe!==void 0&&qe.bundleUrl&&(ve.setTag("bundleUrl",i.error.details.bundleUrl),ve.setTag("bundleError",i.error.details.sourceError.type))),ve.setTags({callMode:this._callObjectMode?ce()?"reactNative":(_=this.properties)!==null&&_!==void 0&&(_=_.dailyConfig)!==null&&_!==void 0&&(_=_.callMode)!==null&&_!==void 0&&_.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var Mr=((b=i.error)===null||b===void 0?void 0:b.msg)||i.errorMsg;ve.captureException(new Error(Mr))}}},{key:"_callMachine",value:function(){var i;return(i=window._daily)===null||i===void 0||(i=i.instances)===null||i===void 0||(i=i[this.callClientId])===null||i===void 0?void 0:i.callMachine}},{key:"_maybeUpdateInputSettings",value:function(i){if(!re(this._inputSettings,i)){var d=this._getInputSettings();this._inputSettings=i;var l=this._getInputSettings();re(d,l)||this.emitDailyJSEvent({action:Sn,inputSettings:l})}}}],[{key:"supportedBrowser",value:function(){if(ce())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var i=ye().getParser(Pe());return{supported:!!Mn(),mobile:i.getPlatformType()==="mobile",name:i.getBrowserName(),version:i.getBrowserVersion(),supportsFullscreen:!!_a(),supportsScreenShare:!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia&&(function(d,l){if(!d||!l)return!0;switch(d){case"Chrome":return l.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(l.major===13&&l.minor===0&&l.point===0);case"Firefox":return l.major>=67}return!0}(et(),wr())||ce())),supportsSfu:!!Mn(),supportsVideoProcessing:ba(),supportsAudioProcessing:Sa()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return i.layout="none",new e(null,i)}},{key:"wrap",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ue(),!i||!i.contentWindow||typeof i.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return d.layout||(d.customLayout?d.layout="custom-v1":d.layout="browser"),new e(i,d)}},{key:"createFrame",value:function(i,d){var l,_;ue(),i&&d?(l=i,_=d):i&&i.append?(l=i,_={}):(l=document.body,_=i||{});var b=_.iframeStyle;b||(b=l===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var O=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?O.allow="microphone, camera":O.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",O.style.visibility="hidden",l.appendChild(O),O.style.visibility=null,Object.keys(b).forEach(function(F){return O.style[F]=b[F]}),_.layout||(_.customLayout?_.layout="custom-v1":_.layout="browser");try{return new e(O,_)}catch(F){throw l.removeChild(O),F}}},{key:"createTransparentFrame",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ue();var d=document.createElement("iframe");return d.allow="microphone; camera; autoplay",d.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(d),i.layout||(i.layout="custom-v1"),e.wrap(d,i)}},{key:"getCallInstance",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return i?ft[i]:Object.values(ft)[0]}}]);var r,n,o,s,u,h,p,m,w,C,P,j,M,D,V,$,z,ee,K,se,me,Re,Ce,ze,Fe,He,Mt,Pt,It,Dt,vs,ys,_s,bs,Ss,ws,Es,ks}(te());function ns(t){if(t.extension){if(typeof t.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(t.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(t.waitBeforeExtensionDialSec){if(typeof t.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(t.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!t.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function At(t,e){var r={};for(var n in t)if(t[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=We;else if(n==="dailyConfig"){if(t[n].modifyLocalSdpHook){var o=window._daily.instances[e].customCallbacks||{};o.modifyLocalSdpHook=t[n].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=o,delete t[n].modifyLocalSdpHook}if(t[n].modifyRemoteSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyRemoteSdpHook=t[n].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=s,delete t[n].modifyRemoteSdpHook}r[n]=t[n]}else r[n]=t[n];return r}function he(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Xe){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(r+=" ".concat(e)),console.error(r),new Error(r)}}function Or(t,e){return[yr,Xe].includes(t)||e}function Vn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Or(t,e)){var o="".concat(r," not supported after joining a meeting.");throw n&&(o+=" ".concat(n)),console.error(o),new Error(o)}}function Ar(t){var e=arguments.length>2?arguments[2]:void 0;if(!t){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw e&&(r+=" ".concat(e)),console.error(r),new Error(r)}}function Un(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Le(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function Te(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function ue(){if(ce())throw new Error("This daily-js method is not currently supported in React Native")}function Yt(){if(!ce())throw new Error("This daily-js method is only supported in React Native")}function is(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),re(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function os(t,e){for(var r=e.allowAllParticipantsKey,n=function(C){var P=["local"];return r||P.push("*"),C&&!P.includes(C)},o=function(C){return!!(C.layer===void 0||Number.isInteger(C.layer)&&C.layer>=0||C.layer==="inherit")},s=function(C){return!(!C||C.video&&!o(C.video)||C.screenVideo&&!o(C.screenVideo))},u=0,h=Object.entries(t);u<h.length;u++){var p=R(h[u],2),m=p[0],w=p[1];if(!n(m)||!s(w))return!1}return!0}function as(t){if(S(t)!=="object")return!1;for(var e=0,r=Object.entries(t);e<r.length;e++){var n=R(r[e],2),o=n[0],s=n[1];switch(o){case"video":if(S(s)!=="object")return!1;for(var u=0,h=Object.entries(s);u<h.length;u++){var p=R(h[u],2),m=p[0],w=p[1];switch(m){case"processor":if(!Vu(w))return!1;break;case"settings":if(!cs(w))return!1;break;default:return!1}}break;case"audio":if(S(s)!=="object")return!1;for(var C=0,P=Object.entries(s);C<P.length;C++){var j=R(P[C],2),M=j[0],D=j[1];switch(M){case"processor":if(!qu(D))return!1;break;case"settings":if(!cs(D))return!1;break;default:return!1}}break;default:return!1}}return!0}function ss(t,e,r){var n,o=[];t.video&&t.video.processor&&(ba((n=e?.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(t.video.settings?delete t.video.processor:delete t.video,o.push("video"))),t.audio&&t.audio.processor&&(Sa()||(t.audio.settings?delete t.audio.processor:delete t.audio,o.push("audio"))),o.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(o.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(r.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:We}):delete r.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(r.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:We}):delete r.videoTrack)}function qu(t){if(ce())return console.warn("Video processing is not yet supported in React Native"),!1;var e,r=["type"];return!(!t||S(t)!=="object"||(Object.keys(t).filter(function(n){return!r.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete t[n]}),e=t.type,typeof e!="string"||!Object.values(ga).includes(e)&&(console.error("inputSettings audio processor type invalid"),1)))}function Vu(t){if(ce())return console.warn("Video processing is not yet supported in React Native"),!1;var e,r=["type","config"];return!t||S(t)!=="object"||typeof(e=t.type)!="string"||!Object.values(Sr).includes(e)&&(console.error("inputSettings video processor type invalid"),1)||t.config&&(S(t.config)!=="object"||!function(n,o){var s=Object.keys(o);if(s.length===0)return!0;var u="invalid object in inputSettings -> video -> processor -> config";switch(n){case Sr.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(u),!1):!(typeof o.strength!="number"||o.strength<=0||o.strength>1||isNaN(o.strength))||(console.error("".concat(u,"; expected: {0 < strength <= 1}, got: ").concat(o.strength)),!1);case Sr.BGIMAGE:return!(o.source!==void 0&&!function(h){return h.source==="default"?(h.type="default",!0):h.source instanceof ArrayBuffer||(Xt(h.source)?(h.type="url",!!function(w){var C=new URL(w),P=C.pathname;if(C.protocol==="data:")try{var j=P.substring(P.indexOf(":")+1,P.indexOf(";")).split("/")[1];return On.includes(j)}catch(D){return console.error("failed to deduce blob content type",D),!1}var M=P.split(".").at(-1).toLowerCase().trim();return On.includes(M)}(h.source)||(console.error("invalid image type; supported types: [".concat(On.join(", "),"]")),!1)):(p=h.source,m=Number(p),isNaN(m)||!Number.isInteger(m)||m<=0||m>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(h.type="daily-preselect",!0)));var p,m}(o));default:return!0}}(t.type,t.config))?!1:(Object.keys(t).filter(function(n){return!r.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete t[n]}),!0)}function cs(t){return S(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function $n(){var t=Object.values(Sr).join(" | "),e=Object.values(ga).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function us(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(fo).concat(e?' | "'.concat(mo,'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function ls(){return"customIntegrations should be an object of type ".concat(JSON.stringify(qn),".")}function ds(t){if(t&&S(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Tr),".")),!1;if(t)for(var e=0,r=Object.entries(t);e<r.length;e++)for(var n=R(r[e],1)[0],o=0,s=Object.entries(t[n]);o<s.length;o++){var u=R(s[o],2),h=u[0],p=u[1],m=Tr.id[h];if(!m)return console.error("customTrayButton does not support key ".concat(h)),!1;switch(h){case"iconPath":case"iconPathDarkMode":if(!Xt(p))return console.error("customTrayButton ".concat(h," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(p))return console.error("customTrayButton ".concat(h," should be ").concat(m,". Got: ").concat(p)),!1;break;default:if(S(p)!==m)return console.error("customTrayButton ".concat(h," should be a ").concat(m,".")),!1}}return!0}function hs(t){if(!t||t&&S(t)!=="object"||Array.isArray(t))return console.error(ls()),!1;for(var e=function(C){return"".concat(C," should be ").concat(qn.id[C])},r=function(C,P){return console.error("customIntegration ".concat(C,": ").concat(P))},n=0,o=Object.entries(t);n<o.length;n++){var s=R(o[n],1)[0];if(!("label"in t[s]))return r(s,"label is required"),!1;if(!("location"in t[s]))return r(s,"location is required"),!1;if(!("src"in t[s])&&!("srcdoc"in t[s]))return r(s,"src or srcdoc is required"),!1;for(var u=0,h=Object.entries(t[s]);u<h.length;u++){var p=R(h[u],2),m=p[0],w=p[1];switch(m){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof w!="string")return r(s,e(m)),!1;break;case"iconURL":if(!Xt(w))return r(s,"".concat(m," should be a url")),!1;break;case"src":if("srcdoc"in t[s])return r(s,"cannot have both src and srcdoc"),!1;if(!Xt(w))return r(s,'src "'.concat(w,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[s])return r(s,"cannot have both src and srcdoc"),!1;if(typeof w!="string")return r(s,e(m)),!1;break;case"location":if(!["main","sidebar"].includes(w))return r(s,e(m)),!1;break;case"controlledBy":if(w!=="*"&&w!=="owners"&&(!Array.isArray(w)||w.some(function(C){return typeof C!="string"})))return r(s,e(m)),!1;break;case"shared":if((!Array.isArray(w)||w.some(function(C){return typeof C!="string"}))&&w!=="owners"&&typeof w!="boolean")return r(s,e(m)),!1;break;default:if(!qn.id[m])return console.error("customIntegration does not support key ".concat(m)),!1}}}return!0}function ps(t,e){if(e===void 0)return!1;switch(S(e)){case"string":return S(t)===e;case"object":if(S(t)!=="object")return!1;for(var r in t)if(!ps(t[r],e[r]))return!1;return!0;default:return!1}}function fs(t,e){var r=t.sessionId,n=t.toEndPoint,o=t.callerId,s=t.useSipRefer;if(!r||!n)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(o&&typeof o!="string")throw new Error("callerId must be of type string");if(o&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function ms(t){if(S(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(Cn).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Cn));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function gs(t,e,r){return!(typeof t!="number"||t<e||t>r)}function Jn(t,e){return t&&!e&&delete t.data,t}}},a={};function c(y){var k=a[y];if(k!==void 0)return k.exports;var I=a[y]={exports:{}};return T[y].call(I.exports,I,I.exports,c),I.exports}return c.n=function(y){var k=y&&y.__esModule?function(){return y.default}:function(){return y};return c.d(k,{a:k}),k},c.d=function(y,k){for(var I in k)c.o(k,I)&&!c.o(y,I)&&Object.defineProperty(y,I,{enumerable:!0,get:k[I]})},c.o=function(y,k){return Object.prototype.hasOwnProperty.call(y,k)},c.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},c(781)}()}),globalThis&&globalThis.Daily&&(globalThis.DailyIframe=globalThis.Daily)});var qs=jt((dl,Yn)=>{"use strict";var Lt=typeof Reflect=="object"?Reflect:null,Ms=Lt&&typeof Lt.apply=="function"?Lt.apply:function(a,c,y){return Function.prototype.apply.call(a,c,y)},Pr;Lt&&typeof Lt.ownKeys=="function"?Pr=Lt.ownKeys:Object.getOwnPropertySymbols?Pr=function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Pr=function(a){return Object.getOwnPropertyNames(a)};function Qu(T){console&&console.warn&&console.warn(T)}var Is=Number.isNaN||function(a){return a!==a};function de(){de.init.call(this)}Yn.exports=de;Yn.exports.once=el;de.EventEmitter=de;de.prototype._events=void 0;de.prototype._eventsCount=0;de.prototype._maxListeners=void 0;var Ps=10;function Ir(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(de,"defaultMaxListeners",{enumerable:!0,get:function(){return Ps},set:function(T){if(typeof T!="number"||T<0||Is(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");Ps=T}});de.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};de.prototype.setMaxListeners=function(a){if(typeof a!="number"||a<0||Is(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this};function Ds(T){return T._maxListeners===void 0?de.defaultMaxListeners:T._maxListeners}de.prototype.getMaxListeners=function(){return Ds(this)};de.prototype.emit=function(a){for(var c=[],y=1;y<arguments.length;y++)c.push(arguments[y]);var k=a==="error",I=this._events;if(I!==void 0)k=k&&I.error===void 0;else if(!k)return!1;if(k){var q;if(c.length>0&&(q=c[0]),q instanceof Error)throw q;var N=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw N.context=q,N}var S=I[a];if(S===void 0)return!1;if(typeof S=="function")Ms(S,this,c);else for(var A=S.length,W=xs(S,A),y=0;y<A;++y)Ms(W[y],this,c);return!0};function js(T,a,c,y){var k,I,q;if(Ir(c),I=T._events,I===void 0?(I=T._events=Object.create(null),T._eventsCount=0):(I.newListener!==void 0&&(T.emit("newListener",a,c.listener?c.listener:c),I=T._events),q=I[a]),q===void 0)q=I[a]=c,++T._eventsCount;else if(typeof q=="function"?q=I[a]=y?[c,q]:[q,c]:y?q.unshift(c):q.push(c),k=Ds(T),k>0&&q.length>k&&!q.warned){q.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(a)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=T,N.type=a,N.count=q.length,Qu(N)}return T}de.prototype.addListener=function(a,c){return js(this,a,c,!1)};de.prototype.on=de.prototype.addListener;de.prototype.prependListener=function(a,c){return js(this,a,c,!0)};function Ku(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ls(T,a,c){var y={fired:!1,wrapFn:void 0,target:T,type:a,listener:c},k=Ku.bind(y);return k.listener=c,y.wrapFn=k,k}de.prototype.once=function(a,c){return Ir(c),this.on(a,Ls(this,a,c)),this};de.prototype.prependOnceListener=function(a,c){return Ir(c),this.prependListener(a,Ls(this,a,c)),this};de.prototype.removeListener=function(a,c){var y,k,I,q,N;if(Ir(c),k=this._events,k===void 0)return this;if(y=k[a],y===void 0)return this;if(y===c||y.listener===c)--this._eventsCount===0?this._events=Object.create(null):(delete k[a],k.removeListener&&this.emit("removeListener",a,y.listener||c));else if(typeof y!="function"){for(I=-1,q=y.length-1;q>=0;q--)if(y[q]===c||y[q].listener===c){N=y[q].listener,I=q;break}if(I<0)return this;I===0?y.shift():Xu(y,I),y.length===1&&(k[a]=y[0]),k.removeListener!==void 0&&this.emit("removeListener",a,N||c)}return this};de.prototype.off=de.prototype.removeListener;de.prototype.removeAllListeners=function(a){var c,y,k;if(y=this._events,y===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[a]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete y[a]),this;if(arguments.length===0){var I=Object.keys(y),q;for(k=0;k<I.length;++k)q=I[k],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(c=y[a],typeof c=="function")this.removeListener(a,c);else if(c!==void 0)for(k=c.length-1;k>=0;k--)this.removeListener(a,c[k]);return this};function Rs(T,a,c){var y=T._events;if(y===void 0)return[];var k=y[a];return k===void 0?[]:typeof k=="function"?c?[k.listener||k]:[k]:c?Zu(k):xs(k,k.length)}de.prototype.listeners=function(a){return Rs(this,a,!0)};de.prototype.rawListeners=function(a){return Rs(this,a,!1)};de.listenerCount=function(T,a){return typeof T.listenerCount=="function"?T.listenerCount(a):Ns.call(T,a)};de.prototype.listenerCount=Ns;function Ns(T){var a=this._events;if(a!==void 0){var c=a[T];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}de.prototype.eventNames=function(){return this._eventsCount>0?Pr(this._events):[]};function xs(T,a){for(var c=new Array(a),y=0;y<a;++y)c[y]=T[y];return c}function Xu(T,a){for(;a+1<T.length;a++)T[a]=T[a+1];T.pop()}function Zu(T){for(var a=new Array(T.length),c=0;c<a.length;++c)a[c]=T[c].listener||T[c];return a}function el(T,a){return new Promise(function(c,y){function k(q){T.removeListener(a,I),y(q)}function I(){typeof T.removeListener=="function"&&T.removeListener("error",k),c([].slice.call(arguments))}Fs(T,a,I,{once:!0}),a!=="error"&&tl(T,k,{once:!0})})}function tl(T,a,c){typeof T.on=="function"&&Fs(T,"error",a,c)}function Fs(T,a,c,y){if(typeof T.on=="function")y.once?T.once(a,c):T.on(a,c);else if(typeof T.addEventListener=="function")T.addEventListener(a,function k(I){y.once&&T.removeEventListener(a,k),c(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}});var Vs=jt(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.Api=rt.HttpClient=rt.ContentType=void 0;var Y;(function(T){T.Json="application/json",T.JsonApi="application/vnd.api+json",T.FormData="multipart/form-data",T.UrlEncoded="application/x-www-form-urlencoded",T.Text="text/plain"})(Y||(rt.ContentType=Y={}));var Dr=class{baseUrl="https://api.vapi.ai";securityData=null;securityWorker;abortControllers=new Map;customFetch=(...a)=>fetch(...a);baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};constructor(a={}){Object.assign(this,a)}setSecurityData=a=>{this.securityData=a};encodeQueryParam(a,c){return`${encodeURIComponent(a)}=${encodeURIComponent(typeof c=="number"?c:`${c}`)}`}addQueryParam(a,c){return this.encodeQueryParam(c,a[c])}addArrayQueryParam(a,c){return a[c].map(k=>this.encodeQueryParam(c,k)).join("&")}toQueryString(a){let c=a||{};return Object.keys(c).filter(k=>typeof c[k]<"u").map(k=>Array.isArray(c[k])?this.addArrayQueryParam(c,k):this.addQueryParam(c,k)).join("&")}addQueryParams(a){let c=this.toQueryString(a);return c?`?${c}`:""}contentFormatters={[Y.Json]:a=>a!==null&&(typeof a=="object"||typeof a=="string")?JSON.stringify(a):a,[Y.JsonApi]:a=>a!==null&&(typeof a=="object"||typeof a=="string")?JSON.stringify(a):a,[Y.Text]:a=>a!==null&&typeof a!="string"?JSON.stringify(a):a,[Y.FormData]:a=>a instanceof FormData?a:Object.keys(a||{}).reduce((c,y)=>{let k=a[y];return c.append(y,k instanceof Blob?k:typeof k=="object"&&k!==null?JSON.stringify(k):`${k}`),c},new FormData),[Y.UrlEncoded]:a=>this.toQueryString(a)};mergeRequestParams(a,c){return{...this.baseApiParams,...a,...c||{},headers:{...this.baseApiParams.headers||{},...a.headers||{},...c&&c.headers||{}}}}createAbortSignal=a=>{if(this.abortControllers.has(a)){let y=this.abortControllers.get(a);return y?y.signal:void 0}let c=new AbortController;return this.abortControllers.set(a,c),c.signal};abortRequest=a=>{let c=this.abortControllers.get(a);c&&(c.abort(),this.abortControllers.delete(a))};request=async({body:a,secure:c,path:y,type:k,query:I,format:q,baseUrl:N,cancelToken:S,...A})=>{let W=(typeof c=="boolean"?c:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},f=this.mergeRequestParams(A,W),g=I&&this.toQueryString(I),v=this.contentFormatters[k||Y.Json],Z=q||f.format;return this.customFetch(`${N||this.baseUrl||""}${y}${g?`?${g}`:""}`,{...f,headers:{...f.headers||{},...k&&k!==Y.FormData?{"Content-Type":k}:{}},signal:(S?this.createAbortSignal(S):f.signal)||null,body:typeof a>"u"||a===null?null:v(a)}).then(async B=>{let L=B;L.data=null,L.error=null;let H=Z?B.clone():B,x=Z?await H[Z]().then(E=>(L.ok?L.data=E:L.error=E,L)).catch(E=>(L.error=E,L)):L;if(S&&this.abortControllers.delete(S),!B.ok)throw x;return x})}};rt.HttpClient=Dr;var Wn=class extends Dr{assistant={assistantControllerCreate:(a,c={})=>this.request({path:"/assistant",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),assistantControllerFindAll:(a,c={})=>this.request({path:"/assistant",method:"GET",query:a,secure:!0,format:"json",...c}),assistantControllerFindOne:(a,c={})=>this.request({path:`/assistant/${a}`,method:"GET",secure:!0,format:"json",...c}),assistantControllerUpdate:(a,c,y={})=>this.request({path:`/assistant/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),assistantControllerReplace:(a,c,y={})=>this.request({path:`/assistant/${a}`,method:"PUT",body:c,secure:!0,type:Y.Json,format:"json",...y}),assistantControllerRemove:(a,c={})=>this.request({path:`/assistant/${a}`,method:"DELETE",secure:!0,format:"json",...c}),assistantControllerFindVersions:(a,c,y={})=>this.request({path:`/assistant/${a}/version`,method:"GET",query:c,secure:!0,format:"json",...y})};v2={assistantControllerFindAllPaginated:(a,c={})=>this.request({path:"/v2/assistant",method:"GET",query:a,secure:!0,format:"json",...c}),callControllerCallsExport:(a,c={})=>this.request({path:"/v2/call/export",method:"GET",query:a,secure:!0,...c}),callControllerFindAllPaginated:(a,c={})=>this.request({path:"/v2/call",method:"GET",query:a,secure:!0,format:"json",...c}),callControllerFindAllMetadataPaginated:(a,c={})=>this.request({path:"/v2/call/metadata",method:"GET",query:a,secure:!0,format:"json",...c}),phoneNumberControllerFindAllPaginated:(a,c={})=>this.request({path:"/v2/phone-number",method:"GET",query:a,secure:!0,format:"json",...c})};squad={squadControllerCreate:(a,c={})=>this.request({path:"/squad",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),squadControllerFindAll:(a,c={})=>this.request({path:"/squad",method:"GET",query:a,secure:!0,format:"json",...c}),squadControllerFindOne:(a,c={})=>this.request({path:`/squad/${a}`,method:"GET",secure:!0,format:"json",...c}),squadControllerUpdate:(a,c,y={})=>this.request({path:`/squad/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),squadControllerRemove:(a,c={})=>this.request({path:`/squad/${a}`,method:"DELETE",secure:!0,format:"json",...c})};workflow={workflowControllerFindAll:(a={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...a}),workflowControllerCreate:(a,c={})=>this.request({path:"/workflow",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),workflowControllerFindOne:(a,c={})=>this.request({path:`/workflow/${a}`,method:"GET",secure:!0,format:"json",...c}),workflowControllerDelete:(a,c={})=>this.request({path:`/workflow/${a}`,method:"DELETE",secure:!0,format:"json",...c}),workflowControllerUpdate:(a,c,y={})=>this.request({path:`/workflow/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y})};call={callControllerCreate:(a,c={})=>this.request({path:"/call",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),callControllerFindAll:(a,c={})=>this.request({path:"/call",method:"GET",query:a,secure:!0,format:"json",...c}),callControllerFindOne:(a,c={})=>this.request({path:`/call/${a}`,method:"GET",secure:!0,format:"json",...c}),callControllerUpdate:(a,c,y={})=>this.request({path:`/call/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),callControllerDeleteCallData:(a,c,y={})=>this.request({path:`/call/${a}`,method:"DELETE",body:c,secure:!0,type:Y.Json,format:"json",...y}),callControllerCreatePhoneCall:(a,c={})=>this.request({path:"/call/phone",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),callControllerCreateWebCall:(a,c={})=>this.request({path:"/call/web",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c})};chat={chatControllerListChats:(a,c={})=>this.request({path:"/chat",method:"GET",query:a,secure:!0,format:"json",...c}),chatControllerCreateChat:(a,c={})=>this.request({path:"/chat",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),chatControllerGetChat:(a,c={})=>this.request({path:`/chat/${a}`,method:"GET",secure:!0,format:"json",...c}),chatControllerDeleteChat:(a,c={})=>this.request({path:`/chat/${a}`,method:"DELETE",secure:!0,format:"json",...c}),chatControllerCreateOpenAiChat:(a,c={})=>this.request({path:"/chat/responses",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),chatControllerCreateWebChat:(a,c={})=>this.request({path:"/chat/web",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),chatControllerCreateOpenAiWebChat:(a,c={})=>this.request({path:"/chat/web/responses",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c})};campaign={campaignControllerCreate:(a,c={})=>this.request({path:"/campaign",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),campaignControllerFindAll:(a,c={})=>this.request({path:"/campaign",method:"GET",query:a,secure:!0,format:"json",...c}),campaignControllerFindOne:(a,c={})=>this.request({path:`/campaign/${a}`,method:"GET",secure:!0,format:"json",...c}),campaignControllerUpdate:(a,c,y={})=>this.request({path:`/campaign/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),campaignControllerRemove:(a,c={})=>this.request({path:`/campaign/${a}`,method:"DELETE",secure:!0,format:"json",...c})};session={sessionControllerCreate:(a,c={})=>this.request({path:"/session",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),sessionControllerFindAllPaginated:(a,c={})=>this.request({path:"/session",method:"GET",query:a,secure:!0,format:"json",...c}),sessionControllerFindOne:(a,c={})=>this.request({path:`/session/${a}`,method:"GET",secure:!0,format:"json",...c}),sessionControllerUpdate:(a,c,y={})=>this.request({path:`/session/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),sessionControllerRemove:(a,c={})=>this.request({path:`/session/${a}`,method:"DELETE",secure:!0,format:"json",...c})};phoneNumber={phoneNumberControllerImportTwilio:(a,c={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),phoneNumberControllerImportVonage:(a,c={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),phoneNumberControllerCreate:(a,c={})=>this.request({path:"/phone-number",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),phoneNumberControllerFindAll:(a,c={})=>this.request({path:"/phone-number",method:"GET",query:a,secure:!0,format:"json",...c}),phoneNumberControllerFindOne:(a,c={})=>this.request({path:`/phone-number/${a}`,method:"GET",secure:!0,format:"json",...c}),phoneNumberControllerUpdate:(a,c,y={})=>this.request({path:`/phone-number/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),phoneNumberControllerRemove:(a,c={})=>this.request({path:`/phone-number/${a}`,method:"DELETE",secure:!0,format:"json",...c})};tool={toolControllerCreate:(a,c={})=>this.request({path:"/tool",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),toolControllerFindAll:(a,c={})=>this.request({path:"/tool",method:"GET",query:a,secure:!0,format:"json",...c}),toolControllerFindOne:(a,c={})=>this.request({path:`/tool/${a}`,method:"GET",secure:!0,format:"json",...c}),toolControllerUpdate:(a,c,y={})=>this.request({path:`/tool/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),toolControllerRemove:(a,c={})=>this.request({path:`/tool/${a}`,method:"DELETE",secure:!0,format:"json",...c})};file={fileControllerCreateDeprecated:(a,c={})=>this.request({path:"/file/upload",method:"POST",body:a,secure:!0,type:Y.FormData,format:"json",...c}),fileControllerCreate:(a,c={})=>this.request({path:"/file",method:"POST",body:a,secure:!0,type:Y.FormData,format:"json",...c}),fileControllerFindAll:(a={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...a}),fileControllerFindOne:(a,c={})=>this.request({path:`/file/${a}`,method:"GET",secure:!0,format:"json",...c}),fileControllerUpdate:(a,c,y={})=>this.request({path:`/file/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),fileControllerRemove:(a,c={})=>this.request({path:`/file/${a}`,method:"DELETE",secure:!0,format:"json",...c})};knowledgeBase={knowledgeBaseControllerCreate:(a,c={})=>this.request({path:"/knowledge-base",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),knowledgeBaseControllerFindAll:(a,c={})=>this.request({path:"/knowledge-base",method:"GET",query:a,secure:!0,format:"json",...c}),knowledgeBaseControllerFindOne:(a,c={})=>this.request({path:`/knowledge-base/${a}`,method:"GET",secure:!0,format:"json",...c}),knowledgeBaseControllerUpdate:(a,c,y={})=>this.request({path:`/knowledge-base/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),knowledgeBaseControllerRemove:(a,c={})=>this.request({path:`/knowledge-base/${a}`,method:"DELETE",secure:!0,format:"json",...c})};structuredOutput={structuredOutputControllerFindAll:(a,c={})=>this.request({path:"/structured-output",method:"GET",query:a,secure:!0,format:"json",...c}),structuredOutputControllerCreate:(a,c={})=>this.request({path:"/structured-output",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),structuredOutputControllerFindOne:(a,c={})=>this.request({path:`/structured-output/${a}`,method:"GET",secure:!0,format:"json",...c}),structuredOutputControllerUpdate:(a,c,y,k={})=>this.request({path:`/structured-output/${a}`,method:"PATCH",query:c,body:y,secure:!0,type:Y.Json,format:"json",...k}),structuredOutputControllerRemove:(a,c={})=>this.request({path:`/structured-output/${a}`,method:"DELETE",secure:!0,format:"json",...c}),structuredOutputControllerRun:(a,c={})=>this.request({path:"/structured-output/run",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c})};testSuite={testSuiteControllerFindAllPaginated:(a,c={})=>this.request({path:"/test-suite",method:"GET",query:a,secure:!0,format:"json",...c}),testSuiteControllerCreate:(a,c={})=>this.request({path:"/test-suite",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),testSuiteControllerFindOne:(a,c={})=>this.request({path:`/test-suite/${a}`,method:"GET",secure:!0,format:"json",...c}),testSuiteControllerUpdate:(a,c,y={})=>this.request({path:`/test-suite/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),testSuiteControllerRemove:(a,c={})=>this.request({path:`/test-suite/${a}`,method:"DELETE",secure:!0,format:"json",...c}),testSuiteTestControllerFindAllPaginated:(a,c,y={})=>this.request({path:`/test-suite/${a}/test`,method:"GET",query:c,secure:!0,format:"json",...y}),testSuiteTestControllerCreate:(a,c,y={})=>this.request({path:`/test-suite/${a}/test`,method:"POST",body:c,secure:!0,type:Y.Json,format:"json",...y}),testSuiteTestControllerFindOne:(a,c,y={})=>this.request({path:`/test-suite/${a}/test/${c}`,method:"GET",secure:!0,format:"json",...y}),testSuiteTestControllerUpdate:(a,c,y,k={})=>this.request({path:`/test-suite/${a}/test/${c}`,method:"PATCH",body:y,secure:!0,type:Y.Json,format:"json",...k}),testSuiteTestControllerRemove:(a,c,y={})=>this.request({path:`/test-suite/${a}/test/${c}`,method:"DELETE",secure:!0,format:"json",...y}),testSuiteRunControllerFindAllPaginated:(a,c,y={})=>this.request({path:`/test-suite/${a}/run`,method:"GET",query:c,secure:!0,format:"json",...y}),testSuiteRunControllerCreate:(a,c,y={})=>this.request({path:`/test-suite/${a}/run`,method:"POST",body:c,secure:!0,type:Y.Json,format:"json",...y}),testSuiteRunControllerFindOne:(a,c,y={})=>this.request({path:`/test-suite/${a}/run/${c}`,method:"GET",secure:!0,format:"json",...y}),testSuiteRunControllerUpdate:(a,c,y,k={})=>this.request({path:`/test-suite/${a}/run/${c}`,method:"PATCH",body:y,secure:!0,type:Y.Json,format:"json",...k}),testSuiteRunControllerRemove:(a,c,y={})=>this.request({path:`/test-suite/${a}/run/${c}`,method:"DELETE",secure:!0,format:"json",...y})};reporting={insightControllerCreate:(a,c={})=>this.request({path:"/reporting/insight",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),insightControllerFindAll:(a,c={})=>this.request({path:"/reporting/insight",method:"GET",query:a,secure:!0,format:"json",...c}),insightControllerUpdate:(a,c,y={})=>this.request({path:`/reporting/insight/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),insightControllerFindOne:(a,c={})=>this.request({path:`/reporting/insight/${a}`,method:"GET",secure:!0,format:"json",...c}),insightControllerRemove:(a,c={})=>this.request({path:`/reporting/insight/${a}`,method:"DELETE",secure:!0,format:"json",...c}),insightControllerRun:(a,c,y={})=>this.request({path:`/reporting/insight/${a}/run`,method:"POST",body:c,secure:!0,type:Y.Json,format:"json",...y}),insightControllerPreview:(a,c={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c})};eval={evalControllerCreate:(a,c={})=>this.request({path:"/eval",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),evalControllerGetPaginated:(a,c={})=>this.request({path:"/eval",method:"GET",query:a,secure:!0,format:"json",...c}),evalControllerUpdate:(a,c,y={})=>this.request({path:`/eval/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),evalControllerRemove:(a,c={})=>this.request({path:`/eval/${a}`,method:"DELETE",secure:!0,format:"json",...c}),evalControllerGet:(a,c={})=>this.request({path:`/eval/${a}`,method:"GET",secure:!0,format:"json",...c}),evalControllerRemoveRun:(a,c={})=>this.request({path:`/eval/run/${a}`,method:"DELETE",secure:!0,format:"json",...c}),evalControllerGetRun:(a,c={})=>this.request({path:`/eval/run/${a}`,method:"GET",secure:!0,format:"json",...c}),evalControllerRun:(a,c={})=>this.request({path:"/eval/run",method:"POST",body:a,secure:!0,type:Y.Json,...c}),evalControllerGetRunsPaginated:(a,c={})=>this.request({path:"/eval/run",method:"GET",query:a,secure:!0,format:"json",...c})};observability={scorecardControllerGet:(a,c={})=>this.request({path:`/observability/scorecard/${a}`,method:"GET",secure:!0,format:"json",...c}),scorecardControllerUpdate:(a,c,y={})=>this.request({path:`/observability/scorecard/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),scorecardControllerRemove:(a,c={})=>this.request({path:`/observability/scorecard/${a}`,method:"DELETE",secure:!0,format:"json",...c}),scorecardControllerGetPaginated:(a,c={})=>this.request({path:"/observability/scorecard",method:"GET",query:a,secure:!0,format:"json",...c}),scorecardControllerCreate:(a,c={})=>this.request({path:"/observability/scorecard",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c})};org={orgControllerCreate:(a,c={})=>this.request({path:"/org",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),orgControllerFindAll:(a={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...a}),orgControllerFeatureFlagEnabled:(a,c={})=>this.request({path:"/org/feature-flag",method:"GET",query:a,secure:!0,format:"json",...c}),orgControllerFindOne:(a,c={})=>this.request({path:`/org/${a}`,method:"GET",secure:!0,format:"json",...c}),orgControllerUpdate:(a,c,y={})=>this.request({path:`/org/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),orgControllerDeleteOrg:(a,c={})=>this.request({path:`/org/${a}`,method:"DELETE",secure:!0,...c}),orgControllerFindAllUsers:(a,c={})=>this.request({path:`/org/${a}/user`,method:"GET",secure:!0,format:"json",...c}),orgControllerOrgLeave:(a,c={})=>this.request({path:`/org/${a}/leave`,method:"DELETE",secure:!0,...c}),orgControllerOrgRemoveUser:(a,c,y={})=>this.request({path:`/org/${a}/member/${c}/leave`,method:"DELETE",secure:!0,...y}),orgControllerUsersInvite:(a,c,y={})=>this.request({path:`/org/${a}/invite`,method:"POST",body:c,secure:!0,type:Y.Json,...y}),orgControllerUserUpdate:(a,c,y={})=>this.request({path:`/org/${a}/role`,method:"PATCH",body:c,secure:!0,type:Y.Json,...y}),orgControllerOrgToken:(a,c={})=>this.request({path:`/org/${a}/auth`,method:"GET",secure:!0,format:"json",...c})};token={tokenControllerCreate:(a,c={})=>this.request({path:"/token",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),tokenControllerFindAll:(a,c={})=>this.request({path:"/token",method:"GET",query:a,secure:!0,format:"json",...c}),tokenControllerFindOne:(a,c={})=>this.request({path:`/token/${a}`,method:"GET",secure:!0,format:"json",...c}),tokenControllerUpdate:(a,c,y={})=>this.request({path:`/token/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),tokenControllerRemove:(a,c={})=>this.request({path:`/token/${a}`,method:"DELETE",secure:!0,format:"json",...c})};credential={credentialControllerCreate:(a,c={})=>this.request({path:"/credential",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),credentialControllerFindAll:(a,c={})=>this.request({path:"/credential",method:"GET",query:a,secure:!0,format:"json",...c}),credentialControllerFindOne:(a,c={})=>this.request({path:`/credential/${a}`,method:"GET",secure:!0,format:"json",...c}),credentialControllerUpdate:(a,c,y={})=>this.request({path:`/credential/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),credentialControllerRemove:(a,c={})=>this.request({path:`/credential/${a}`,method:"DELETE",secure:!0,format:"json",...c})};template={templateControllerCreate:(a,c={})=>this.request({path:"/template",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),templateControllerFindAll:(a,c={})=>this.request({path:"/template",method:"GET",query:a,secure:!0,format:"json",...c}),templateControllerFindAllPinned:(a={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...a}),templateControllerFindOne:(a,c={})=>this.request({path:`/template/${a}`,method:"GET",secure:!0,format:"json",...c}),templateControllerUpdate:(a,c,y={})=>this.request({path:`/template/${a}`,method:"PATCH",body:c,secure:!0,type:Y.Json,format:"json",...y}),templateControllerRemove:(a,c={})=>this.request({path:`/template/${a}`,method:"DELETE",secure:!0,format:"json",...c})};voiceLibrary={voiceLibraryControllerVoiceGetByProvider:(a,c,y={})=>this.request({path:`/voice-library/${a}`,method:"GET",query:c,secure:!0,format:"json",...y}),voiceLibraryControllerVoiceGetAccentsByProvider:(a,c={})=>this.request({path:`/voice-library/${a}/accents`,method:"GET",secure:!0,format:"json",...c}),voiceLibraryControllerVoiceLibrarySyncByProvider:(a,c={})=>this.request({path:`/voice-library/sync/${a}`,method:"POST",secure:!0,format:"json",...c}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(a,c={})=>this.request({path:"/voice-library/sync",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(a,c={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:a,secure:!0,type:Y.Json,...c})};provider={providerResourceControllerCreateProviderResource:(a,c,y={})=>this.request({path:`/provider/${a}/${c}`,method:"POST",secure:!0,format:"json",...y}),providerResourceControllerGetProviderResourcesPaginated:(a,c,y,k={})=>this.request({path:`/provider/${a}/${c}`,method:"GET",query:y,secure:!0,format:"json",...k}),providerResourceControllerGetProviderResource:(a,c,y,k={})=>this.request({path:`/provider/${a}/${c}/${y}`,method:"GET",secure:!0,format:"json",...k}),providerResourceControllerDeleteProviderResource:(a,c,y,k={})=>this.request({path:`/provider/${a}/${c}/${y}`,method:"DELETE",secure:!0,format:"json",...k}),providerResourceControllerUpdateProviderResource:(a,c,y,k={})=>this.request({path:`/provider/${a}/${c}/${y}`,method:"PATCH",secure:!0,format:"json",...k}),providerControllerGetWorkflows:(a,c,y={})=>this.request({path:`/${a}/workflows`,method:"GET",query:c,secure:!0,format:"json",...y}),providerControllerGetWorkflowTriggerHook:(a,c,y={})=>this.request({path:`/${a}/workflows/${c}/hooks`,method:"GET",secure:!0,format:"json",...y}),providerControllerGetLocations:(a,c={})=>this.request({path:`/${a}/locations`,method:"GET",secure:!0,format:"json",...c}),voiceProviderControllerSearchVoices:(a,c,y={})=>this.request({path:`/${a}/voices/search`,method:"GET",query:c,secure:!0,format:"json",...y}),voiceProviderControllerSearchVoice:(a,c,y={})=>this.request({path:`/${a}/voice/search`,method:"GET",query:c,secure:!0,format:"json",...y}),voiceProviderControllerAddVoices:(a,c,y={})=>this.request({path:`/${a}/voices/add`,method:"POST",body:c,secure:!0,type:Y.Json,format:"json",...y}),voiceProviderControllerAddVoice:(a,c,y={})=>this.request({path:`/${a}/voice/add`,method:"POST",body:c,secure:!0,type:Y.Json,format:"json",...y})};v11Labs={voiceProviderControllerCloneVoices:(a,c={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:a,secure:!0,type:Y.FormData,...c})};analytics={analyticsControllerQuery:(a,c={})=>this.request({path:"/analytics",method:"POST",body:a,secure:!0,type:Y.Json,format:"json",...c})}};rt.Api=Wn});var Us=jt(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.client=void 0;var rl=Vs(),nl=new rl.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async T=>{if(T)return{headers:{Authorization:`Bearer ${T}`}}}});jr.client=nl});var $s=jt(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createSafeDailyConfig=il;Rt.safeSetLocalAudio=ol;Rt.safeSetInputDevicesAsync=al;Rt.createSafeDailyFactoryOptions=sl;function il(T){if(!T)return{};let{alwaysIncludeMicInPermissionPrompt:a,...c}=T;return a===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),c):T}function ol(T,a){if(!T)throw new Error("Call object is not available.");T.setLocalAudio(a)}async function al(T,a){if(!T)throw new Error("Call object is not available.");if("audioSource"in a&&a.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");let{audioSource:c,...y}=a;await T.setInputDevicesAsync(y);return}await T.setInputDevicesAsync(a)}function sl(T){return T?T.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...T,audioSource:!0}):T:{}}});var Ws=jt(Qt=>{"use strict";var Ys=Qt&&Qt.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(Qt,"__esModule",{value:!0});var zn=Ys(As()),cl=Ys(qs()),Hn=Us(),yt=$s();function Ee(T){if(T==null)return{message:"Unknown error (null or undefined)"};if(T instanceof Error){let a={message:T.message,name:T.name,stack:T.stack},c=T;return c.code!==void 0&&(a.code=c.code),c.cause!==void 0&&(a.cause=String(c.cause)),c.reason!==void 0&&(a.reason=c.reason),c.details!==void 0&&(a.details=c.details),c.errorMsg!==void 0&&(a.errorMsg=c.errorMsg),c.error!==void 0&&typeof c.error=="string"&&(a.errorDetail=c.error),a}if(typeof T=="string")return{message:T};if(typeof T=="object"){let a=T;return{message:a.message||a.error||JSON.stringify(T),...a}}return{message:String(T)}}async function ul(T,a){T.muted=!1,T.autoplay=!0,a!=null&&(T.srcObject=new MediaStream([a]),await T.play())}async function Js(T,a){let c=document.createElement("audio");return c.dataset.participantId=a,document.body.appendChild(c),await ul(c,T),c}function Bs(T){document.querySelector(`audio[data-participant-id="${T}"]`)?.remove()}function Gs(T,a,c,y){T.participant.local||a.updateParticipant(T.participant.session_id,{setSubscribedTracks:{audio:!0,video:c||y}})}var Qn=class extends cl.default{on(a,c){return super.on(a,c),this}once(a,c){return super.once(a,c),this}emit(a,...c){return super.emit(a,...c)}removeListener(a,c){return super.removeListener(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}},Kn=class extends Qn{started=!1;call=null;speakingTimeout=null;dailyCallConfig={};dailyCallObject={};hasEmittedCallEndedStatus=!1;constructor(a,c,y,k){super(),Hn.client.baseUrl=c??"https://api.vapi.ai",Hn.client.setSecurityData(a),this.dailyCallConfig=(0,yt.createSafeDailyConfig)(y),this.dailyCallObject=(0,yt.createSafeDailyFactoryOptions)(k)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;let a=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(a.toLowerCase())}async sleep(a){return new Promise(c=>setTimeout(c,a))}async start(a,c,y,k,I,q){let N=Date.now();if(!a&&!y&&!k){let S=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:Ee(S),timestamp:new Date().toISOString()}),S}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!a,hasSquad:!!y,hasWorkflow:!!k}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});let S=Date.now(),A=(await Hn.client.call.callControllerCreateWebCall({assistant:typeof a=="string"?void 0:a,assistantId:typeof a=="string"?a:void 0,assistantOverrides:c,squad:typeof y=="string"?void 0:y,squadId:typeof y=="string"?y:void 0,workflow:typeof k=="string"?void 0:k,workflowId:typeof k=="string"?k:void 0,workflowOverrides:I,roomDeleteOnUserLeaveEnabled:q?.roomDeleteOnUserLeaveEnabled})).data,W=Date.now()-S;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:W,timestamp:new Date().toISOString(),metadata:{callId:A?.id||"unknown",videoRecordingEnabled:A?.artifactPlan?.videoRecordingEnabled??!1,voiceProvider:A?.assistant?.voice?.provider||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());let f=A?.artifactPlan?.videoRecordingEnabled??!1,g=A?.assistant?.voice?.provider==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??f,isVideoRecordingEnabled:f,isVideoEnabled:g}});let v=Date.now();try{this.call=zn.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??f,dailyConfig:this.dailyCallConfig});let E=Date.now()-v;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){let R=Date.now()-v,J=Ee(E);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:R,timestamp:new Date().toISOString(),metadata:{error:J.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:J,timestamp:new Date().toISOString()}),E}this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),f&&this.call?.stopRecording(),this.cleanup().catch(console.error)}),this.call.on("error",E=>{this.emit("error",{type:"daily-error",error:Ee(E),timestamp:new Date().toISOString()}),f&&this.call?.stopRecording()}),this.call.on("camera-error",E=>{this.emit("camera-error",{type:"camera-error",error:Ee(E),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",E=>{this.emit("network-quality-change",E)}),this.call.on("network-connection",E=>{this.emit("network-connection",E)}),this.call.on("track-started",async E=>{!E||!E.participant||E.participant?.local||E.participant?.user_name==="Vapi Speaker"&&(E.track.kind==="video"&&this.emit("video",E.track),E.track.kind==="audio"&&await Js(E.track,E.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",E=>{!E||!this.call||Gs(E,this.call,f,g)}),this.call.on("participant-updated",E=>{E&&this.emit("daily-participant-updated",E.participant)}),this.call.on("participant-left",E=>{E&&Bs(E.participant.session_id)});let Z=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:Z}}),Z){let E=Date.now();await this.sleep(1e3);let R=Date.now()-E;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:R,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});let B=Date.now();try{await this.call.join({url:A.webCallUrl,subscribeToTracksAutomatically:!1});let E=Date.now()-B;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){let R=Date.now()-B,J=Ee(E);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:R,timestamp:new Date().toISOString(),metadata:{error:J.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:J,duration:R,timestamp:new Date().toISOString()}),E}if(f){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});let E=new Date().getTime(),R=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});let J=Date.now()-R;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:J,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{let te=(new Date().getTime()-E)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:te}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:te})})}catch(J){let te=Date.now()-R,ie=Ee(J);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:te,timestamp:new Date().toISOString(),metadata:{error:ie.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:ie,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});let L=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);let E=Date.now()-L;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){let R=Date.now()-L,J=Ee(E);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:R,timestamp:new Date().toISOString(),metadata:{error:J.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:J,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",E=>{E&&this.handleRemoteParticipantsAudioLevel(E)}),this.call.on("app-message",E=>this.onAppMessage(E)),this.call.on("nonfatal-error",E=>{E?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,yt.safeSetLocalAudio)(this.call,!0)})}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});let H=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});let E=Date.now()-H;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){let R=Date.now()-H,J=Ee(E);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:R,timestamp:new Date().toISOString(),metadata:{error:J.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:J,timestamp:new Date().toISOString()})}let x=Date.now()-N;return this.emit("call-start-success",{totalDuration:x,callId:A?.id||"unknown",timestamp:new Date().toISOString()}),A}catch(S){let A=Date.now()-N,W=Ee(S);return this.emit("call-start-failed",{stage:"unknown",totalDuration:A,error:W.message,errorStack:W.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!a,hasSquad:!!y,hasWorkflow:!!k,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:W,totalDuration:A,timestamp:new Date().toISOString(),context:{hasAssistant:!!a,hasSquad:!!y,hasWorkflow:!!k,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(a){if(a)try{if(a.data==="listening")return this.emit("call-start");try{let c=JSON.parse(a.data);this.emit("message",c),c&&"type"in c&&"status"in c&&c.type==="status-update"&&c.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(c){console.log("Error parsing message data: ",c)}}catch(c){console.error(c)}}handleRemoteParticipantsAudioLevel(a){let c=Object.values(a.participantsAudioLevel).reduce((k,I)=>k+I,0);this.emit("volume-level",Math.min(1,c/.15)),c>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(a){this.call?.sendAppMessage(JSON.stringify(a))}setMuted(a){(0,yt.safeSetLocalAudio)(this.call,!a)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(a,c,y,k){this.send({type:"say",message:a,endCallAfterSpoken:c,interruptionsEnabled:y??!1,interruptAssistantEnabled:k??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(a){return(0,yt.safeSetInputDevicesAsync)(this.call,a)}async increaseMicLevel(a){if(!this.call)throw new Error("Call object is not available.");try{let c=await navigator.mediaDevices.getUserMedia({audio:!0}),y=new AudioContext,k=y.createMediaStreamSource(c),I=y.createGain();I.gain.value=a,k.connect(I);let q=y.createMediaStreamDestination();I.connect(q);let[N]=q.stream.getAudioTracks();await(0,yt.safeSetInputDevicesAsync)(this.call,{audioSource:N})}catch(c){console.error("Error adjusting microphone level:",c)}}setOutputDeviceAsync(a){this.call?.setOutputDeviceAsync(a)}getDailyCallObject(){return this.call}startScreenSharing(a,c){this.call?.startScreenShare({displayMediaOptions:a,screenVideoSendSettings:c})}stopScreenSharing(){this.call?.stopScreenShare()}async reconnect(a){let c=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!a.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:a.id||"unknown",hasVideoRecording:!!a?.artifactPlan?.videoRecordingEnabled,voiceProvider:a?.assistant?.voice?.provider||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));let y=a?.artifactPlan?.videoRecordingEnabled??!1,k=a?.assistant?.voice?.provider==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:k}});let I=Date.now();this.call=zn.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});let q=Date.now()-I;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:q,timestamp:new Date().toISOString()}),this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&this.call?.stopRecording(),this.cleanup().catch(console.error)}),this.call.on("error",v=>{this.emit("error",{type:"daily-error",error:Ee(v),timestamp:new Date().toISOString()}),y&&this.call?.stopRecording()}),this.call.on("camera-error",v=>{this.emit("camera-error",{type:"camera-error",error:Ee(v),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",v=>{this.emit("network-quality-change",v)}),this.call.on("network-connection",v=>{this.emit("network-connection",v)}),this.call.on("track-started",async v=>{!v||!v.participant||v.participant?.local||v.participant?.user_name==="Vapi Speaker"&&(v.track.kind==="video"&&this.emit("video",v.track),v.track.kind==="audio"&&await Js(v.track,v.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",v=>{!v||!this.call||Gs(v,this.call,y,k)}),this.call.on("participant-updated",v=>{v&&this.emit("daily-participant-updated",v.participant)}),this.call.on("participant-left",v=>{v&&Bs(v.participant.session_id)}),this.call.on("remote-participants-audio-level",v=>{v&&this.handleRemoteParticipantsAudioLevel(v)}),this.call.on("app-message",v=>this.onAppMessage(v)),this.call.on("nonfatal-error",v=>{v?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,yt.safeSetLocalAudio)(this.call,!0)})});let N=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:N}}),N){let v=Date.now();await this.sleep(1e3);let Z=Date.now()-v;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:Z,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});let S=Date.now();await this.call.join({url:a.webCallUrl,subscribeToTracksAutomatically:!1});let A=Date.now()-S;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:A,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});let v=Date.now(),Z=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});let B=Date.now()-v;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:B,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{let L=(new Date().getTime()-Z)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:L}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:L})})}catch(B){let L=Date.now()-v,H=Ee(B);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:H.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});let W=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);let v=Date.now()-W;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:v,timestamp:new Date().toISOString()})}catch(v){let Z=Date.now()-W,B=Ee(v);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:Z,timestamp:new Date().toISOString(),metadata:{error:B.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});let f=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});let v=Date.now()-f;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:v,timestamp:new Date().toISOString()})}catch(v){let Z=Date.now()-f,B=Ee(v);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:Z,timestamp:new Date().toISOString(),metadata:{error:B.message}})}let g=Date.now()-c;this.emit("call-start-success",{totalDuration:g,callId:a?.id||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){let k=Date.now()-c,I=Ee(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:k,error:I.message,errorStack:I.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:a?.id||"unknown",hasVideoRecording:!!a?.artifactPlan?.videoRecordingEnabled,voiceProvider:a?.assistant?.voice?.provider||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:I,totalDuration:k,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:a?.id||"unknown",hasVideoRecording:!!a?.artifactPlan?.videoRecordingEnabled,voiceProvider:a?.assistant?.voice?.provider||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");let a={},c=null;try{console.log("Creating temporary call object for testing..."),c=zn.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let y=null;try{y=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];let I=await c.testNetworkConnectivity(y);a.networkConnectivity=I,console.log("Network connectivity test result:",I)}catch(k){a.networkConnectivity={result:"error",error:k?.toString()},console.error("Network connectivity test error:",k)}finally{y&&y.stop()}console.log(`
2. Testing websocket connectivity...`);try{let k=await c.testWebsocketConnectivity();a.websocketConnectivity=k,console.log("Websocket connectivity test result:",k)}catch(k){a.websocketConnectivity={result:"error",error:k?.toString()},console.error("Websocket connectivity test error:",k)}console.log(`
3. Testing call quality...`);try{if(typeof c.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await c.startCamera();let k=await c.testCallQuality();a.callQuality=k,console.log("Call quality test result:",k)}catch(k){console.error("Failed to start camera for call quality test:",k),a.callQuality={result:"error",error:k?.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else a.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(k){a.callQuality={result:"error",error:k?.toString()},console.error("Call quality test error:",k)}}catch(y){console.error("Failed to create temporary call object:",y),a.error=y?.toString()}finally{if(c)try{console.log("Cleaning up temporary call object..."),await c.destroy()}catch(y){console.error("Error destroying temporary call object:",y)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(a,null,2)),a}};Qt.default=Kn});var zs=Hu(Ws());window.Vapi=zs.default;console.log("\u2705 Vapi Local Bundle Initialized");})();
